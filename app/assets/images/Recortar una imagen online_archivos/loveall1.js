function showError(){var e,t;if(connection_error&&0==gobutton)t=messages.connectionerrortitle,e=messages.connectionerrortext.replace("{filename}",connection_error_file).replace("{filename}",connection_error_file);else if(!limitTotalFilesizePassed&&limitTotalFilesPassed)t=messages.maxfilesexeeded,e=sfn>1?messages.errorfilesexceeded.replace("{sfn}",sfn).replace("{maxTotalFiles}",maxTotalFiles):messages.errorfileexceeded.replace("{maxTotalFiles}",maxTotalFiles),0==userID?e+=messages.filegoregistered.replace("{registeredfilelimit}",filelimit_registered).replace("{premiumfilelimit}",filelimit_premium).replace("{registerlink}",regl).replace("{premiumlink}",regl+"?p=1").replace("{accounts}",accountsl):(0==userIsPremium,1);else if(limitTotalFilesizePassed&&!limitTotalFilesPassed)t=messages.maximumfilesizeexceeded,e=sfn>1?messages.errorfilessizeexceeded.replace("{sfn}",sfn).replace("{maxTotalFilesize}",plupload.formatSize(maxTotalFilesize)):messages.errorfilesizeexceeded.replace("{maxTotalFilesize}",plupload.formatSize(maxTotalFilesize)),0==userID?e+=messages.filesizegoregistered.replace("{registeredfilesizelimit}",filesizelimit_registered).replace("{premiumfilesizelimit}",filesizelimit_premium).replace("{registerlink}",regl).replace("{premiumlink}",regl+"?p=1").replace("{accounts}",accountsl):(0==userIsPremium,1);else if(limitTotalFilesizePassed&&limitTotalFilesPassed)t=messages.errorg,e=sfn>1?messages.errorboths.replace("{sfn}",sfn).replace("{maxTotalFiles}",maxTotalFiles).replace("{maxTotalFilesize}",plupload.formatSize(maxTotalFilesize)):messages.errorboth.replace("{maxTotalFiles}",maxTotalFiles).replace("{maxTotalFilesize}",plupload.formatSize(maxTotalFilesize));else if(notSupportedFile){var i="";t=messages.errorg,e="<br/><br/>"+messages.errornotsupporteds+i}isGuest?bootbox.dialog({message:e,title:t,buttons:{main:{className:color,label:messages.close,callback:function(){notSupportedFile=!1,notSupportedFormat=new Array}}}}):bootbox.dialog({message:e,title:t,buttons:{main:{className:color,label:messages.close,callback:function(){notSupportedFile=!1,notSupportedFormat=new Array}}}}),limitTotalFilesPassed=!1,limitTotalFilesizePassed=!1}function two(e){return(e>9?"":"0")+e}function three(e){return(e>99?"":"0")+(e>9?"":"0")+e}function timeleft(e){var t,i=(messages.left,messages.minute),n=messages.hour,o=messages.lessthan,s=messages.minutes,r=messages.hours,a=messages.seconds,l=Math.floor(e/1e3);e%=1e3;var c=Math.floor(l/60);l%=60;var u=Math.floor(c/60);return c%=60,Math.floor(u/60),u%=60,0==u?0==c?t=l+" "+a:1==c?t="1 "+i:c>1&&(t=" "+c+" "+s):1==u?t=o+" "+(u+1)+" "+r:u>1&&(t=o+" "+u+" "+n),t}function resizeAllCanvas(){if(""!=$.trim($("#fileGroups").html())){if(0==allow_sort){$("#fileGroups").sortable();var e=$("#fileGroups").sortable("toArray");$("#fileGroups").sortable("destroy")}else var e=$("#fileGroups").sortable("toArray");$("#fileGroups").empty(),boxfiles=0;var t=[];$.each(files_selected_array,function(i,n){n[8]=$.inArray(n[1],e),t.push(n)}),t.sort(function(e,t){return e[8]-t[8]}),$.each(t,function(e,t){addfileDOM.apply(this,t)})}}function sortFiles(){if(""!=$.trim($("#fileGroups").html())){var e=$("#fileGroups").sortable("toArray");$("#fileGroups").empty(),boxfiles=0;var t=[];$.each(files_selected_array,function(i,n){n[8]=$.inArray(n[1],e),t.push(n)}),t.sort(function(e,t){return e[8]-t[8]});var i=0;$.each(t,function(e,t){files_selected_array[i]=t,i++})}}function hideCovers(e){covers_hidden=!0,$("#hideCovers").hide(),$("#showCovers").show(),$("#hideCovers").removeClass("active"),$("#showCovers").removeClass("active"),1!=e&&(resizeAllCanvas(),$.cookie("hidecovers",1,{expires:360,path:"/"}))}function showCovers(){covers_hidden=!1,$("#hideCovers").show(),$("#showCovers").hide(),$("#hideCovers").removeClass("active"),$("#showCovers").removeClass("active"),$.cookie("hidecovers",null,{path:"/"}),resizeAllCanvas()}function sortByAAsc(){$("#fileGroups > div").tsort(".filename"),$("#sortByAAsc").hide(),$("#sortByAAsc").removeClass("active"),$("#sortByADesc").removeClass("active"),$("#sortByADesc").show()}function sortByADesc(){$("#fileGroups > div").tsort(".filename",{order:"desc"}),$("#sortByAAsc").show(),$("#sortByADesc").hide(),$("#sortByAAsc").removeClass("active"),$("#sortByADesc").removeClass("active")}function addfileDOM(e,t,i,n,o,s,r,a,l,c,u,d,h){last_file_id=t,"none"==$("#fileGroups").css("display")&&1==extratools&&$("#fileGroups").show(),total_files_selected_history++,boxfiles+=1,r||(r="user"),null==a&&("drive"==r||"dropbox"==r||ilovepdfUploader.start(),files_selected_array.push([e,t,i,n,o,s,r,1,0,null]));var p=e.substr(e.lastIndexOf(".")+1).toUpperCase(),f=e.replace("."+p.toLowerCase(),"").replace("."+p.toUpperCase(),"");if(e.length>25&&(f=f.substring(0,25)+"[...]"),f=f+"."+p.toLowerCase(),"sr2"==p.toLowerCase()||"arw"==p.toLowerCase()||"cr2"==p.toLowerCase()||"rw2"==p.toLowerCase()||"nef"==p.toLowerCase()||"orf"==p.toLowerCase()||"pef"==p.toLowerCase())var m="raw";else var m=p.toLowerCase();if(console.log(m),$("#fileGroups").append(fileBox.replace(/{format}/g,m).replace(/{fileName}/g,f).replace(/{fileID}/g,t).replace(/{filesize}/g,plupload.formatSize(i).toUpperCase()).replace(/{service}/g,r)),"html5"==o){if("user"==r&&("jpg"==p.toLowerCase()||"jpeg"==p.toLowerCase()||"gif"==p.toLowerCase()||"png"==p.toLowerCase())){var g=new FileReader;renderImage(n,g,"#img-"+t)}("drive"==r||"dropbox"==r)&&renderImage(n,g,"#img-"+t,s)}h&&0!=h&&(a?changeRotation($("#cover-"+t),h,!1,!0):changeRotation($("#cover-"+t),h,!1,!1)),updateDOM()}function removefileDOM(e){if("pdfjpg"==app){var t={};$.each(filenpages,function(i,n){i!=e&&(t[e]=n)}),filenpages=t,updateNPages()}for(var i=0;i<files_selected_array.length;i++)if(files_selected_array[i][1]===e){total_filesize_selected-=files_selected_array[i][2],"drive"==files_selected_array[i][6]?(total_drive_files--,already_uploaded_drive_files>1&&$("#currentDriveUploadN").html(already_uploaded_drive_files),ajaxdrive[e].abort()):"dropbox"==files_selected_array[i][6]?(total_dropbox_files--,already_uploaded_dropbox_files>1&&(already_uploaded_dropbox_files--,$("#currentDropboxUploadN").html(already_uploaded_dropbox_files)),ajaxdrop[e].abort()):"user"==files_selected_array[i][6]&&already_uploaded_files>1&&(already_uploaded_files--,$("#currentUploadN").html(already_uploaded_files)),files_selected_array.splice(i,1);break}total_files_selected--,boxfiles--,removing=e,$("#"+e+" .btn").tooltip("hide"),ilovepdfUploader.removeFile(e),$("#"+e).fadeTo("slow",.01,function(){$(this).remove(),$(this).tooltip("hide"),updateDOM(),removing=""})}function updateDOM(){if($("#addProgress").hide(),App.rebindTooltips(),(1==force_listview||2==force_listview)&&$(".file").tooltip("destroy"),App.rebindScrollers(),App.fixContentHeight(),total_files_selected>0&&!$("#footer-button").is(":visible")&&"merge"!=app||"merge"==app&&total_files_selected>1&&!$("#footer-button").is(":visible")){if($("#footer-button").slideToggle("slow"),$(".page-footer-fixed .footer").css("background-color","#fff"),$(".footer-inner").hide(),!npf||parseInt(npf)<1+extratools){if(extratools)var e=1e4,t=3e4;else var e=1e4,t=15e3;gobutton_pulsate_timer=setTimeout(function(){$("#uploadfiles").pulsate({color:"#000000",reach:200,speed:1e3,pause:e,glow:!0,repeat:!0,onHover:!1})},t)}}else(2>total_files_selected&&$("#footer-button").is(":visible")&&"merge"==app||1>total_files_selected&&$("#footer-button").is(":visible")&&"merge"!=app)&&($("#uploadfiles").pulsate("destroy"),$("#footer-button").slideToggle("slow",function(){$(".footer-inner").show()}),$(".page-footer-fixed .footer").css("background","rgba(255, 255, 255, 0.4);"),gobutton_pulsate_timer&&clearTimeout(gobutton_pulsate_timer),alreadycalcdim=!1,showing_tools=0);$("#droptxt").is(":visible")&&$("#droptxt").hide(),($(".page-title.tool").is(":visible")&&total_files_selected>0||$(".page-title.tool").is(":visible")&&1==extratools&&total_files_selected>0)&&0==closing_title&&(closing_title=1,$(".page-title.tool").slideToggle(function(){$(window).width()>768&&($(".views").show(),$(".coverview").show(),$(".sort").show()),$(".page-subtitle").slideToggle(function(){$("hr.h1").slideToggle(),$(".breadcrumb").slideToggle()}),closing_title=0})),(!$(".page-title.tool").is(":visible")&&1>total_files_selected&&"merge"==app||!$(".page-title.tool").is(":visible")&&"merge"!=app&&1>total_files_selected)&&0==closing_title&&(closing_title=1,$(".page-title.tool").slideToggle(function(){$(".views").hide(),$(".coverview").hide(),$(".sort").hide(),$(".page-subtitle").slideToggle(function(){$("hr.h1").slideToggle(),$(".breadcrumb").slideToggle()}),$("#uploadfiles").pulsate("destroy"),closing_title=0})),$("#totalSelectedFiles").html(ilovepdfUploader.files.length),dropboxcomplete||$("#totalDropboxSelectedFiles").html(total_dropbox_files),$("#totalDriveSelectedFiles").html(total_drive_files),already_uploaded_dropbox_files==total_dropbox_files&&($("#totalDropboxSelectedFiles").html(total_dropbox_files+' <i class="fa fa-check">'),dropboxcomplete=!0),already_uploaded_drive_files==total_drive_files&&($("#totalDriveSelectedFiles").html(total_drive_files+' <i class="fa fa-check">'),drivecomplete=!0),already_uploaded_drive_files==total_drive_files&&already_uploaded_dropbox_files==total_dropbox_files&&(total_dropbox_files>0||total_drive_files>0)&&$("#upLoader").hide(),("resizeimage"==app||"convertfromjpg"==app||"cropimage"==app)&&$(window).width()<1400&&0==already_scrolled&&(already_scrolled=!0,window.scrollTo(0,200)),"resizeimage"==app&&total_files_selected>1&&3>total_files_selected_history&&setTimeout(function(){$("#resizebypercent").click()},500),"convertfromjpg"==app&&(!$("#to-png").length&&2>total_files_selected?($("#to-gif").show(),$("#to-gif-animated").hide(),$("#tab-gif").click()):$("#tab-gif-animated").hasClass("active")&&2>total_files_selected&&$("#tab-gif").click(),$("#tab-gif-animated").addClass("disabled-tab"),2>total_files_selected?$("#tab-gif-animated").tooltip({container:"body",placement:"top",title:function(){return messages.morethantwo},html:!0}):($("#tab-gif-animated").removeClass("disabled-tab"),$("#tab-gif-animated").tooltip("destroy"))),"cropimage"==app&&(0==total_files_selected&&0==$("#upload-container").is(":visible")&&"html5"==ilovepdfUploader.runtime&&$("#upload-container").slideToggle(),total_files_selected>0&&1==$("#upload-container").is(":visible")&&"html5"==ilovepdfUploader.runtime&&$("#upload-container").slideToggle()),1==extratools&&total_files_selected>0&&0==$("#extraTools").is(":visible")&&0==showing_tools&&(showing_tools=1,$("#extraTools").slideToggle(function(){closing_title=0})),1==extratools&&0==total_files_selected&&$("#extraTools").hide(),1==extratools&&total_files_selected>0&&total_files_selected<maxTotalFiles?$("#morefiles").show():$("#morefiles").hide()}function updateresizeData(e){$("#img-w").val(truewidth[e]),$("#img-h").val(trueheight[e])}function loadCropper(e){var t=Math.round(truewidth[e]/8),i=t,n=truewidth[e]-t,o=trueheight[e]-t;$("img.imagelove").Jcrop({setSelect:[i,i,n,o],onSelect:updateCoords1,onChange:updateCoords,trueSize:[truewidth[e],trueheight[e]]},function(){$(".requiresjcrop").show(),cropp=this,$("#img-w").val(n-i),$("#img-h").val(o-i)}),"cropimage"==app&&$(".jcrop-holder").css("margin-top",function(){return($(".file").height()-30-$(".jcrop-holder").height())/2})}function calculateDimensions(e,t,i,n){if(e=parseInt(e),t=parseInt(t),n=parseInt(n),i=parseInt(i),alreadycalcdim=!0,1==poptions.resizejpgmode){var o=0,s=0;return(1-parseInt($("#resper").val())/100)*e%1==.5&&(o=.5,console.log("hello!")),(1-parseInt($("#resper").val())/100)*t%1==.5&&(s=.5,console.log("hello1!")),n=Math.round((1-parseInt($("#resper").val())/100)*t+s),i=Math.round((1-parseInt($("#resper").val())/100)*e+o),{width:i,height:n}}if(!isNaN(n)&&1==noenlarge&&n>t)return{width:e,height:t};if(!isNaN(i)&&1==noenlarge&&i>e)return{width:e,height:t};if(1!=poptions.resizejpgmode&&1==noenlarge&&i>e&&n>t)return{width:e,height:t};if(1==mantainratio){var r=Math.min(i/e,n/t);if(isNaN(n))var r=i/e;else if(isNaN(i))var r=n/t;return{width:Math.round(e*r),height:Math.round(t*r)}}return{width:i,height:n}}function onlynumbers(e){-1!==$.inArray(e.keyCode,[46,8,9,27,13])||65==e.keyCode&&(e.ctrlKey===!0||e.metaKey===!0)||e.keyCode>=35&&e.keyCode<=40||(e.shiftKey||e.keyCode<48||e.keyCode>57)&&(e.keyCode<96||e.keyCode>105)&&e.preventDefault()}function updateAllDimensions(){""==$("#img-w").val()&&1==mantainratio&&total_files_selected>1&&""!=$("#img-h").val()?$("#img-w").attr("placeholder","auto"):""==$("#img-h").val()&&1==mantainratio&&total_files_selected>1&&""!=$("#img-w").val()?$("#img-h").attr("placeholder","auto"):0==mantainratio&&""==$("#img-h").val()?$("#img-h").attr("placeholder","0"):0==mantainratio&&""==$("#img-w").val()&&$("#img-w").attr("placeholder","0"),""==$("#img-w").val()&&""==$("#img-h").val()&&($("#img-w").attr("placeholder","0"),$("#img-h").attr("placeholder","0")),$.each(files_selected_array,function(e,t){var i=calculateDimensions($("#img-"+t[1]).attr("data-width"),$("#img-"+t[1]).attr("data-height"),$("#img-w").val(),$("#img-h").val());0==i.width||isNaN(i.width)||0==i.height||isNaN(i.height)?$("#"+t[1]+" .imagesize").html('<br/><span class="badge badge-default originals"><b>'+$("#img-"+t[1]).attr("data-width")+'</b> <i class="fa fa-times"></i> <b>'+$("#img-"+t[1]).attr("data-height")+"</b></span>"):$("#"+t[1]+" .imagesize").html('<br/><span class="badge badge-default originals"><b>'+$("#img-"+t[1]).attr("data-width")+'</b> <i class="fa fa-times"></i> <b>'+$("#img-"+t[1]).attr("data-height")+'</b></span> <i class="fa fa-long-arrow-right"></i> <span class="badge badge-info outputs"><b>'+i.width+'</b> <i class="fa fa-times"></i> <b>'+i.height+"</b></span>")}),rebindTooltipsBadges()}function updateCoords(e){poptions.cropping_area=e,0==cropwait&&($("#img-w").val(Math.round(e.w)),$("#img-h").val(Math.round(e.h)))}function updateCoords1(e){cropwait=!0}function compressjpgmode(e){poptions.compressjpgmode=e,1==e?($("#byquality").hide(),$("#byfilesize").show()):($("#byfilesize").hide(),$("#byquality").show())}function convertfromjpgto(e){return 2==e&&2>total_files_selected?!1:(poptions.convertfromjpgto=e,void(2==e?($("#to-png").hide(),$("#to-gif").hide(),$("#to-gif-animated").show()):1==e?($("#to-png").hide(),$("#to-gif").show(),$("#to-gif-animated").hide()):($("#to-png").show(),$("#to-gif").hide(),$("#to-gif-animated").hide())))}function transferDriveFile(e,t,i,n,o,s,r){ajaxdrive[r]=$.post(proc_serv+"/transferdrivefile",{uploadInstanceID:e,downloadUrl:n,user_id:t,userK:i,oauthToken:o,filename:s},function(e){already_uploaded_drive_files++,$("#currentDriveUploadN").html(already_uploaded_drive_files),already_uploaded_drive_files==total_drive_files&&($("#totalDriveSelectedFiles").html(total_drive_files+' <i class="fa fa-check">'),drivecomplete=!0),already_uploaded_drive_files==total_drive_files&&already_uploaded_dropbox_files==total_dropbox_files&&$("#upLoader").hide();var e=$.parseJSON(e);0==gobutton&&changeCoverUrl(r,proc_serv+"/"+e.coverurl),e.filename&&changeSrvFilename(r,e.filename),pluploadcomplete&&dropboxcomplete&&drivecomplete&&gobutton&&activateProcessing()}).error(function(e){})}function transferDropboxFile(e,t,i,n,o,s,r){ajaxdrop[r]=$.post(proc_serv+"/transferdropboxfile",{uploadInstanceID:e,downloadUrl:n,user_id:t,userK:i,oauthToken:o,filename:s,fileID:r},function(e){already_uploaded_dropbox_files++,$("#currentDropboxUploadN").html(already_uploaded_dropbox_files),already_uploaded_dropbox_files==total_dropbox_files&&($("#totalDropboxSelectedFiles").html(total_dropbox_files+' <i class="fa fa-check">'),dropboxcomplete=!0),already_uploaded_dropbox_files==total_dropbox_files&&already_uploaded_drive_files==total_drive_files&&$("#upLoader").hide();var e=$.parseJSON(e);0==gobutton&&changeCoverUrl(r,proc_serv+"/"+e.coverurl),e.filename&&changeSrvFilename(r,e.filename),$("#img-"+r).attr("src",proc_serv+"/"+e.coverurl),"cropimage"==app&&$(".imagelove").attr("src",proc_serv+"/"+e.coverurl),pluploadcomplete&&dropboxcomplete&&drivecomplete&&gobutton&&activateProcessing()})}function processPackageResponse(e){1==e.result?(closeConfirmFiles=!1,closeConfirmUpload=!1,closeConfirmConverting=!1,window.location.href=dp+"/"+e.downloadlink):-1==e.result?(closeConfirmFiles=!1,closeConfirmUpload=!1,closeConfirmConverting=!1,window.location.href=ep+"/"+e.downloadlink):($("#wh").css("cursor","default"),$("#uploadingStatus").css("cursor","default"),$("#processingStatus").css("cursor","default"),0==password?($(window).keydown(function(e){return 13==e.keyCode?($("#pwdSub").click(),!1):void 0}),$.each(e.result,function(e,t){$("#filepasswords").prepend(passwordFormItem.replace(/{fileName}/g,t).replace(/{fileID}/g,e))})):($("#filepasswords input").hide(),$("#filepasswords label").hide(),$.each(e.result,function(e,t){$("#filepasswords input[name="+e+"]").show(),$("#filepasswords label[for="+e+"]").show(),$("#filepasswords input[name="+e+"]").val(""),$("#filepasswords input[name="+e+"]").attr("placeholder",messages.wrongpassword),$("#filepasswords label[for="+e+"]").addClass("txt-redlove")})),$("#waiting").hide(),$("#passwords").show())}function processPackage(){var e=JSON.stringify(files_selected_array),t=JSON.stringify(poptions);"XDomainRequest"in window&&null!==window.XDomainRequest&&parseInt(brwversion)<10?IELegacyAjax(proc_serv+"/process",{uploadInstanceID:s,user_id:userID,userK:userK,files_selected_array:e,total_filesize_selected:total_filesize_selected,password:password,app:app,options:t},function(e){try{$.parseJSON(e)}catch(t){closeConfirmFiles=!1,closeConfirmUpload=!1,closeConfirmConverting=!1,window.location.href=ep+"/"+s}processPackageResponse(e)}):$.post(proc_serv+"/process",{uploadInstanceID:s,user_id:userID,userK:userK,files_selected_array:e,total_filesize_selected:total_filesize_selected,password:password,app:app,options:t},function(e){try{var e=$.parseJSON(e)}catch(t){closeConfirmFiles=!1,closeConfirmUpload=!1,closeConfirmConverting=!1,window.location.href=ep+"/"+s}processPackageResponse(e)}).error(function(e){window.location.href=ep+"/"+e.downloadlink})}function activateProcessing(){if(0==activateproc){var actionProc=app+"action",formatto="";0==poptions.convertfromjpgto?formatto="PNG":(1==poptions.convertfromjpgto||2==poptions.convertfromjpgto)&&(formatto="GIF"),$("#actionApp").html(eval("messages."+actionProc).replace(/{format}/g,formatto)),activateproc=!0,$("#uploadingStatus").fadeOut(function(){$("#processingStatus").fadeIn()}),noDupTimer||(noDupTimer=!0,setTimeout(function(){$("#waitnotify").html(messages.waitnotify),$("#waitnotify").show()},1e4)),processPackage()}}function changeCoverUrl(e,t){for(var i in files_selected_array)if(files_selected_array[i][1]==e){files_selected_array[i][9]=t;break}}function changeSrvFilename(e,t){for(var i in files_selected_array)if(files_selected_array[i][1]==e){files_selected_array[i][10]=t;break}}function getFileInfo(e,t){for(var i in files_selected_array)if(files_selected_array[i][1]==e)return files_selected_array[i][t]}function changePassword(e,t){for(var i in files_selected_array)if(files_selected_array[i][1]==e){files_selected_array[i][11]=t;break}}function renderImage(e,t,i,n){if(console.log(n),null==e){var o=new Image;o.src=n;var s=i.replace("#img-","");console.log(s),$(i).attr("src",n),$(o).on("load",function(){if($(i).attr("data-width",o.width),$(i).attr("data-height",o.height),"html5"!=ilovepdfUploader.runtime&&($(i).attr("width",200),"html5"!=ilovepdfUploader.runtime&&updateAllDimensions()),"cropimage"==app&&loadCropper(s),"resizeimage"==app){if(0==alreadycalcdim)$("#"+s+" .imagesize").html('<br/><span class="badge badge-default originals"><b>'+$("#img-"+s).attr("data-width")+'</b> <i class="fa fa-times"></i> <b>'+$("#img-"+s).attr("data-height")+"</b></span>");else{var e=calculateDimensions($("#img-"+s).attr("data-width"),$("#img-"+s).attr("data-height"),$("#img-w").val(),$("#img-h").val());0==e.width||isNaN(e.width)||0==e.height||isNaN(e.height)?$("#"+s+" .imagesize").html('<br/><span class="badge badge-default originals"><b>'+$("#img-"+s).attr("data-width")+'</b> <i class="fa fa-times"></i> <b>'+$("#img-"+s).attr("data-height")+"</b></span>"):$("#"+s+" .imagesize").html('<br/><span class="badge badge-default originals"><b>'+$("#img-"+s).attr("data-width")+'</b> <i class="fa fa-times"></i> <b>'+$("#img-"+s).attr("data-height")+'</b></span> <i class="fa fa-long-arrow-right"></i> <span class="badge badge-info outputs"><b>'+e.width+'</b> <i class="fa fa-times"></i> <b>'+e.height+"</b></span>")}1==total_files_selected&&updateresizeData(s),rebindTooltipsBadges()}})}else{var s=i.replace("#img-","");t.onload=function(e){var n=new Uint8Array(t.result),o=new Blob([n]);URLObj[s]=window.URL||window.webkitURL,imagesrc[s]=URLObj[s].createObjectURL(o),lastblob=imagesrc[s],$(i).attr("src",imagesrc[s]);var r=new Image;r.src=lastblob,$(r).on("load",function(){if(truewidth[s]=r.width,trueheight[s]=r.height,$(i).attr("data-width",r.width),$(i).attr("data-height",r.height),"cropimage"==app&&loadCropper(s),"resizeimage"==app){if(0==alreadycalcdim)$("#"+s+" .imagesize").html('<br/><span class="badge badge-default originals"><b>'+$("#img-"+s).attr("data-width")+'</b> <i class="fa fa-times"></i> <b>'+$("#img-"+s).attr("data-height")+"</b></span>");else{var e=calculateDimensions($("#img-"+s).attr("data-width"),$("#img-"+s).attr("data-height"),$("#img-w").val(),$("#img-h").val());0==e.width||isNaN(e.width)||0==e.height||isNaN(e.height)?$("#"+s+" .imagesize").html('<br/><span class="badge badge-default originals"><b>'+$("#img-"+s).attr("data-width")+'</b> <i class="fa fa-times"></i> <b>'+$("#img-"+s).attr("data-height")+"</b></span>"):$("#"+s+" .imagesize").html('<br/><span class="badge badge-default originals"><b>'+$("#img-"+s).attr("data-width")+'</b> <i class="fa fa-times"></i> <b>'+$("#img-"+s).attr("data-height")+'</b></span> <i class="fa fa-long-arrow-right"></i> <span class="badge badge-info outputs"><b>'+e.width+'</b> <i class="fa fa-times"></i> <b>'+e.height+"</b></span>")}1==total_files_selected&&updateresizeData(s),rebindTooltipsBadges()}})},t.readAsArrayBuffer(e)}}function updateNPages(){var e=0;$.each(filenpages,function(t,i){e+=i}),$("#npagest").html(e)}function rebindTooltipsRanges(){$(".rangeItem input").tooltip({container:"body",placement:"top",title:function(){return'<canvas class="splitcanvas" id="cover-'+$(this).attr("id")+'" width="149" height="212"></canvas>'},html:!0,trigger:"manual"})}function rebindTooltipsBadges(){$(".imagesize .badge.originals").tooltip({container:"body",placement:"top",title:function(){return messages.originalpixels}}),$(".imagesize .badge.outputs").tooltip({container:"body",placement:"top",title:function(){return messages.outputpixels},content:function(){return"This"}})}function splitAll(){poptions.splitall=1,currentNrange=1,$("#ranges").html(messages.separateallpdf.replace("{uniqueFilePagesNumber}",uniqueFilePagesNumber)+'<span class="smallClick">'+messages.clickonsplitpdfbutton+'<br/><i class="fa fa-arrow-down"></i></span>'),$("#addRange").hide(),$("#mergeAfter").hide()}function resizejpgmode(e){poptions.resizejpgmode=e,1==e?($("#bypixels").hide(),$("#bypercent").show()):($("#bypercent").hide(),$("#bypixels").show()),updateAllDimensions()}function splitRanges(){currentNrange=1,poptions.splitall=0,$("#ranges").empty(),$("#ranges").prepend(rangeItem.replace(/{nrange}/g,1).replace(/{npages}/g,uniqueFilePagesNumber)),rebindTooltipsRanges(),App.rebindTooltips(),$("#addRange").show(),$("#mergeAfter").show()}function compressRatio(e){poptions.compress_ratio=e}function JPGpages(){poptions.jpgpages=1,$("#extradesc").html(messages.allpdfpagestojpg.replace("/{uniqueFilePagesNumber}/g",uniqueFilePagesNumber)+'<span class="smallClick">'+messages.clickonconvertojpg+'<br/><i class="fa fa-arrow-down"></i></span>'),updateNPages()}function extractJPG(){poptions.jpgpages=0,$("#extradesc").html(messages.allembedimagestojpg+'<span class="smallClick">'+messages.clickonconvertojpg+'<br/><i class="fa fa-arrow-down"></i></span>')}function IELegacyAjax(e,t,i){t=$.param(t);var n=new XDomainRequest;n.open("POST",e),n.onload=function(){var e=new ActiveXObject("Microsoft.XMLDOM"),t=$.parseJSON(n.responseText);e.async=!1,(null==t||"undefined"==typeof t)&&(t=$.parseJSON(data.firstChild.textContent)),i(t)},n.onerror=function(){_result=!1},n.onprogress=function(){},n.ontimeout=function(){},n.onerror=function(){},setTimeout(function(){n.send(t)},0)}function installChromeApp(){chrome.webstore.install(void 0,function(){ga("send","event","user","chrome_install",app)},function(){ga("send","event","user","chrome_no_install",app)})}function onApiLoad(){oauthToken||gapi.load("auth",{callback:onAuthApiLoad}),gapi.load("picker",{callback:onPickerApiLoad})}function onAuthApiLoad(){window.gapi.auth.authorize({client_id:clientId,scope:scope,immediate:!1},handleAuthResult)}function onPickerApiLoad(){pickerApiLoaded=!0,createPicker(),console.log("AA")}function handleAuthResult(e){e&&!e.error&&(oauthToken=e.access_token,console.log(oauthToken),createPicker(),console.log("BB"))}function createPicker(){var e=new google.picker.View(google.picker.ViewId.DOCS_IMAGES);if("jpg,jpeg,png,gif"==mime)e.setMimeTypes("image/jpeg,image/jpg,image/png,image/gif");else if("tiff,tif,png,gif,raw,cr2,sr2,arw,rw2,nef,orf,pef,raf"==mime)var e=new google.picker.View(google.picker.ViewId.DOCS);else"jpg,jpeg"==mime&&e.setMimeTypes("image/jpeg,image/jpg");if(pickerApiLoaded&&oauthToken){var t=(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.NAV_HIDDEN).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).addView(e).setOAuthToken(oauthToken).setDeveloperKey(developerKey).setCallback(pickerCallback).build();t.setVisible(!0)}}function pickerCallback(e){function t(i){var n="?",o="?",r="?",a=e[google.picker.Response.DOCUMENTS].length,l=e[google.picker.Response.DOCUMENTS][i];n=l[google.picker.Document.URL],o=l[google.picker.Document.NAME],r=l[google.picker.Document.ID],console.log(google.picker.Document),console.log(l[google.picker.Document.NAME]),gapi.client.request({path:"/drive/v2/files/"+r,method:"GET",callback:function(e,n){console.log(e),drivecomplete=!1,total_files_selected++,total_drive_files++,total_filesize_selected+=parseInt(e.fileSize),console.log(total_files_selected+"--");var l=o.substr(o.lastIndexOf(".")+1).toLowerCase();if(total_files_selected>maxTotalFiles)total_files_selected--,total_drive_files--,total_filesize_selected-=parseInt(e.fileSize),limitTotalFilesPassed=!0;else if(total_filesize_selected>maxTotalFilesize)total_files_selected--,total_drive_files--,total_filesize_selected-=parseInt(e.fileSize),limitTotalFilesizePassed=!0;else if(void 0!=e.downloadUrl&&-1==mime.indexOf(l))notSupportedFile=!0,total_files_selected--,total_drive_files--,total_filesize_selected-=parseInt(e.fileSize),notSupportedFormat.push(l);else{a>10&&(covers_hidden=!0,$("#hideCovers").hide(),$("#showCovers").show(),showaddprogress=files.length,App.sayDeactivated());var c=null,u=e.downloadUrl,c=e.thumbnailLink,d=parseInt(e.fileSize),h=total_files_selected_history+1;truewidth["drive-"+r+"-"+h]=parseInt(e.imageMediaMetadata.width),trueheight["drive-"+r+"-"+h]=parseInt(e.imageMediaMetadata.height),c&&"cropimage"==app&&(c=c.replace("=s220","=s700")),addfileDOM(o,"drive-"+r+"-"+h,d,null,ilovepdfUploader.runtime,c,"drive");var p=r+"-"+h;transferDriveFile(s,userID,userK,u,oauthToken,o,"drive-"+p),a-1>i&&(i++,t(i))}(limitTotalFilesPassed||limitTotalFilesizePassed||notSupportedFile)&&(console.log("limitTotalFilesPassed"),showError())}})}if(e[google.picker.Response.ACTION]==google.picker.Action.PICKED){var i=(e[google.picker.Response.DOCUMENTS],0);t(i)}}function dropbox(){var e=[".jpg",".jpeg"];"jpg,jpeg,png,gif"==mime&&(e=[".jpg",".jpeg",".png",".gif"]),"tiff,tif,png,gif,raw,cr2,sr2,arw,rw2,nef,orf,pef,raf"==mime&&(e=[".tiff",".tif",".png",".gif",".raw",".cr2",".sr2",".arw",".rw2",".nef",".orf",".pef",".raf"]),Dropbox.choose({success:function(e){$.each(e,function(t){if(console.log(e[t]),total_files_selected++,total_dropbox_files++,total_filesize_selected+=e[t].bytes,total_files_selected>maxTotalFiles)total_files_selected--,total_dropbox_files--,total_filesize_selected-=e[t].bytes,limitTotalFilesPassed=!0;else if(total_filesize_selected>maxTotalFilesize)total_files_selected--,total_dropbox_files--,total_filesize_selected-=e[t].bytes,limitTotalFilesizePassed=!0;else{dropboxcomplete=!1;var i=Math.random().toString(36).substr(2)+(new Date).getTime();if(total_filesize_selected-=e[t].bytes,e[t].thumbnailLink){var n=e[t].thumbnailLink.replace(/(bounding_box=).*?(&)/,"$1800$2"),o=new Image;o.src=e[t].link,$(o).on("load",function(){console.log(o);var r=total_files_selected_history+1;truewidth["dropbox-"+i+"-"+r]=o.width,trueheight["dropbox-"+i+"-"+r]=o.height,addfileDOM(e[t].name,"dropbox-"+i+"-"+r,e[t].bytes,null,ilovepdfUploader.runtime,n,"dropbox"),i=i+"-"+r,transferDropboxFile(s,userID,userK,e[t].link,userID,e[t].name,"dropbox-"+i)})}else addfileDOM(e[t].name,"dropbox-"+i,e[t].bytes,null,ilovepdfUploader.runtime,null,"dropbox"),i=i+"-"+total_files_selected_history,transferDropboxFile(s,userID,userK,e[t].link,userID,e[t].name,"dropbox-"+i)}}),(limitTotalFilesPassed||limitTotalFilesizePassed)&&showError()},cancel:function(){},linkType:"direct",multiselect:!0,extensions:e})}function onGapiLoad(){"download"==controller&&$.post(sln,{},function(e){try{var e=$.parseJSON(e)}catch(t){closeConfirmFiles=!1,closeConfirmUpload=!1,closeConfirmConverting=!1,window.location.href=ep+"/"+s}$("#savetodropbox").attr("onclick",'savetodropbox("'+slcloud+'","'+e.filename+'")'),gapi.savetodrive.render("savetodrive-div",{src:slcloud,filename:e.filename,sitename:"iloveimg.com"})}).error(function(e){})}function showlist(){$("#processedFileList").slideToggle()}function savetodropbox(e,t){console.log(e),Dropbox.save(e,t)}if(function(e,t){function i(e){var t=e.length,i=ue.type(e);return ue.isWindow(e)?!1:1===e.nodeType&&t?!0:"array"===i||"function"!==i&&(0===t||"number"==typeof t&&t>0&&t-1 in e)}function n(e){var t=Te[e]={};return ue.each(e.match(he)||[],function(e,i){t[i]=!0}),t}function o(e,i,n,o){if(ue.acceptData(e)){var s,r,a=ue.expando,l=e.nodeType,c=l?ue.cache:e,u=l?e[a]:e[a]&&a;if(u&&c[u]&&(o||c[u].data)||n!==t||"string"!=typeof i)return u||(u=l?e[a]=te.pop()||ue.guid++:a),c[u]||(c[u]=l?{}:{toJSON:ue.noop}),("object"==typeof i||"function"==typeof i)&&(o?c[u]=ue.extend(c[u],i):c[u].data=ue.extend(c[u].data,i)),r=c[u],o||(r.data||(r.data={}),r=r.data),n!==t&&(r[ue.camelCase(i)]=n),"string"==typeof i?(s=r[i],null==s&&(s=r[ue.camelCase(i)])):s=r,s}}function s(e,t,i){if(ue.acceptData(e)){var n,o,s=e.nodeType,r=s?ue.cache:e,l=s?e[ue.expando]:ue.expando;if(r[l]){if(t&&(n=i?r[l]:r[l].data)){ue.isArray(t)?t=t.concat(ue.map(t,ue.camelCase)):t in n?t=[t]:(t=ue.camelCase(t),t=t in n?[t]:t.split(" ")),o=t.length;for(;o--;)delete n[t[o]];if(i?!a(n):!ue.isEmptyObject(n))return}(i||(delete r[l].data,a(r[l])))&&(s?ue.cleanData([e],!0):ue.support.deleteExpando||r!=r.window?delete r[l]:r[l]=null)}}}function r(e,i,n){if(n===t&&1===e.nodeType){var o="data-"+i.replace(Se,"-$1").toLowerCase();if(n=e.getAttribute(o),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:+n+""===n?+n:ke.test(n)?ue.parseJSON(n):n}catch(s){}ue.data(e,i,n)}else n=t}return n}function a(e){var t;for(t in e)if(("data"!==t||!ue.isEmptyObject(e[t]))&&"toJSON"!==t)return!1;return!0}function l(){return!0}function c(){return!1}function u(){try{return Q.activeElement}catch(e){}}function d(e,t){do e=e[t];while(e&&1!==e.nodeType);return e}function h(e,t,i){if(ue.isFunction(t))return ue.grep(e,function(e,n){return!!t.call(e,n,e)!==i});if(t.nodeType)return ue.grep(e,function(e){return e===t!==i});if("string"==typeof t){if(Ue.test(t))return ue.filter(t,e,i);t=ue.filter(t,e)}return ue.grep(e,function(e){return ue.inArray(e,t)>=0!==i})}function p(e){var t=Xe.split("|"),i=e.createDocumentFragment();if(i.createElement)for(;t.length;)i.createElement(t.pop());return i}function f(e,t){return ue.nodeName(e,"table")&&ue.nodeName(1===t.nodeType?t:t.firstChild,"tr")?e.getElementsByTagName("tbody")[0]||e.appendChild(e.ownerDocument.createElement("tbody")):e;
}function m(e){return e.type=(null!==ue.find.attr(e,"type"))+"/"+e.type,e}function g(e){var t=ot.exec(e.type);return t?e.type=t[1]:e.removeAttribute("type"),e}function v(e,t){for(var i,n=0;null!=(i=e[n]);n++)ue._data(i,"globalEval",!t||ue._data(t[n],"globalEval"))}function b(e,t){if(1===t.nodeType&&ue.hasData(e)){var i,n,o,s=ue._data(e),r=ue._data(t,s),a=s.events;if(a){delete r.handle,r.events={};for(i in a)for(n=0,o=a[i].length;o>n;n++)ue.event.add(t,i,a[i][n])}r.data&&(r.data=ue.extend({},r.data))}}function y(e,t){var i,n,o;if(1===t.nodeType){if(i=t.nodeName.toLowerCase(),!ue.support.noCloneEvent&&t[ue.expando]){o=ue._data(t);for(n in o.events)ue.removeEvent(t,n,o.handle);t.removeAttribute(ue.expando)}"script"===i&&t.text!==e.text?(m(t).text=e.text,g(t)):"object"===i?(t.parentNode&&(t.outerHTML=e.outerHTML),ue.support.html5Clone&&e.innerHTML&&!ue.trim(t.innerHTML)&&(t.innerHTML=e.innerHTML)):"input"===i&&tt.test(e.type)?(t.defaultChecked=t.checked=e.checked,t.value!==e.value&&(t.value=e.value)):"option"===i?t.defaultSelected=t.selected=e.defaultSelected:("input"===i||"textarea"===i)&&(t.defaultValue=e.defaultValue)}}function w(e,i){var n,o,s=0,r=typeof e.getElementsByTagName!==V?e.getElementsByTagName(i||"*"):typeof e.querySelectorAll!==V?e.querySelectorAll(i||"*"):t;if(!r)for(r=[],n=e.childNodes||e;null!=(o=n[s]);s++)!i||ue.nodeName(o,i)?r.push(o):ue.merge(r,w(o,i));return i===t||i&&ue.nodeName(e,i)?ue.merge([e],r):r}function _(e){tt.test(e.type)&&(e.defaultChecked=e.checked)}function x(e,t){if(t in e)return t;for(var i=t.charAt(0).toUpperCase()+t.slice(1),n=t,o=Et.length;o--;)if(t=Et[o]+i,t in e)return t;return n}function C(e,t){return e=t||e,"none"===ue.css(e,"display")||!ue.contains(e.ownerDocument,e)}function E(e,t){for(var i,n,o,s=[],r=0,a=e.length;a>r;r++)n=e[r],n.style&&(s[r]=ue._data(n,"olddisplay"),i=n.style.display,t?(s[r]||"none"!==i||(n.style.display=""),""===n.style.display&&C(n)&&(s[r]=ue._data(n,"olddisplay",$(n.nodeName)))):s[r]||(o=C(n),(i&&"none"!==i||!o)&&ue._data(n,"olddisplay",o?i:ue.css(n,"display"))));for(r=0;a>r;r++)n=e[r],n.style&&(t&&"none"!==n.style.display&&""!==n.style.display||(n.style.display=t?s[r]||"":"none"));return e}function T(e,t,i){var n=vt.exec(t);return n?Math.max(0,n[1]-(i||0))+(n[2]||"px"):t}function k(e,t,i,n,o){for(var s=i===(n?"border":"content")?4:"width"===t?1:0,r=0;4>s;s+=2)"margin"===i&&(r+=ue.css(e,i+Ct[s],!0,o)),n?("content"===i&&(r-=ue.css(e,"padding"+Ct[s],!0,o)),"margin"!==i&&(r-=ue.css(e,"border"+Ct[s]+"Width",!0,o))):(r+=ue.css(e,"padding"+Ct[s],!0,o),"padding"!==i&&(r+=ue.css(e,"border"+Ct[s]+"Width",!0,o)));return r}function S(e,t,i){var n=!0,o="width"===t?e.offsetWidth:e.offsetHeight,s=ut(e),r=ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,s);if(0>=o||null==o){if(o=dt(e,t,s),(0>o||null==o)&&(o=e.style[t]),bt.test(o))return o;n=r&&(ue.support.boxSizingReliable||o===e.style[t]),o=parseFloat(o)||0}return o+k(e,t,i||(r?"border":"content"),n,s)+"px"}function $(e){var t=Q,i=wt[e];return i||(i=D(e,t),"none"!==i&&i||(ct=(ct||ue("<iframe frameborder='0' width='0' height='0'/>").css("cssText","display:block !important")).appendTo(t.documentElement),t=(ct[0].contentWindow||ct[0].contentDocument).document,t.write("<!doctype html><html><body>"),t.close(),i=D(e,t),ct.detach()),wt[e]=i),i}function D(e,t){var i=ue(t.createElement(e)).appendTo(t.body),n=ue.css(i[0],"display");return i.remove(),n}function I(e,t,i,n){var o;if(ue.isArray(t))ue.each(t,function(t,o){i||kt.test(e)?n(e,o):I(e+"["+("object"==typeof o?t:"")+"]",o,i,n)});else if(i||"object"!==ue.type(t))n(e,t);else for(o in t)I(e+"["+o+"]",t[o],i,n)}function A(e){return function(t,i){"string"!=typeof t&&(i=t,t="*");var n,o=0,s=t.toLowerCase().match(he)||[];if(ue.isFunction(i))for(;n=s[o++];)"+"===n[0]?(n=n.slice(1)||"*",(e[n]=e[n]||[]).unshift(i)):(e[n]=e[n]||[]).push(i)}}function R(e,i,n,o){function s(l){var c;return r[l]=!0,ue.each(e[l]||[],function(e,l){var u=l(i,n,o);return"string"!=typeof u||a||r[u]?a?!(c=u):t:(i.dataTypes.unshift(u),s(u),!1)}),c}var r={},a=e===Bt;return s(i.dataTypes[0])||!r["*"]&&s("*")}function O(e,i){var n,o,s=ue.ajaxSettings.flatOptions||{};for(o in i)i[o]!==t&&((s[o]?e:n||(n={}))[o]=i[o]);return n&&ue.extend(!0,e,n),e}function N(e,i,n){for(var o,s,r,a,l=e.contents,c=e.dataTypes;"*"===c[0];)c.shift(),s===t&&(s=e.mimeType||i.getResponseHeader("Content-Type"));if(s)for(a in l)if(l[a]&&l[a].test(s)){c.unshift(a);break}if(c[0]in n)r=c[0];else{for(a in n){if(!c[0]||e.converters[a+" "+c[0]]){r=a;break}o||(o=a)}r=r||o}return r?(r!==c[0]&&c.unshift(r),n[r]):t}function P(e,t,i,n){var o,s,r,a,l,c={},u=e.dataTypes.slice();if(u[1])for(r in e.converters)c[r.toLowerCase()]=e.converters[r];for(s=u.shift();s;)if(e.responseFields[s]&&(i[e.responseFields[s]]=t),!l&&n&&e.dataFilter&&(t=e.dataFilter(t,e.dataType)),l=s,s=u.shift())if("*"===s)s=l;else if("*"!==l&&l!==s){if(r=c[l+" "+s]||c["* "+s],!r)for(o in c)if(a=o.split(" "),a[1]===s&&(r=c[l+" "+a[0]]||c["* "+a[0]])){r===!0?r=c[o]:c[o]!==!0&&(s=a[0],u.unshift(a[1]));break}if(r!==!0)if(r&&e["throws"])t=r(t);else try{t=r(t)}catch(d){return{state:"parsererror",error:r?d:"No conversion from "+l+" to "+s}}}return{state:"success",data:t}}function z(){try{return new e.XMLHttpRequest}catch(t){}}function M(){try{return new e.ActiveXObject("Microsoft.XMLHTTP")}catch(t){}}function F(){return setTimeout(function(){Jt=t}),Jt=ue.now()}function L(e,t,i){for(var n,o=(oi[t]||[]).concat(oi["*"]),s=0,r=o.length;r>s;s++)if(n=o[s].call(i,t,e))return n}function H(e,t,i){var n,o,s=0,r=ni.length,a=ue.Deferred().always(function(){delete l.elem}),l=function(){if(o)return!1;for(var t=Jt||F(),i=Math.max(0,c.startTime+c.duration-t),n=i/c.duration||0,s=1-n,r=0,l=c.tweens.length;l>r;r++)c.tweens[r].run(s);return a.notifyWith(e,[c,s,i]),1>s&&l?i:(a.resolveWith(e,[c]),!1)},c=a.promise({elem:e,props:ue.extend({},t),opts:ue.extend(!0,{specialEasing:{}},i),originalProperties:t,originalOptions:i,startTime:Jt||F(),duration:i.duration,tweens:[],createTween:function(t,i){var n=ue.Tween(e,c.opts,t,i,c.opts.specialEasing[t]||c.opts.easing);return c.tweens.push(n),n},stop:function(t){var i=0,n=t?c.tweens.length:0;if(o)return this;for(o=!0;n>i;i++)c.tweens[i].run(1);return t?a.resolveWith(e,[c,t]):a.rejectWith(e,[c,t]),this}}),u=c.props;for(j(u,c.opts.specialEasing);r>s;s++)if(n=ni[s].call(c,e,u,c.opts))return n;return ue.map(u,L,c),ue.isFunction(c.opts.start)&&c.opts.start.call(e,c),ue.fx.timer(ue.extend(l,{elem:e,anim:c,queue:c.opts.queue})),c.progress(c.opts.progress).done(c.opts.done,c.opts.complete).fail(c.opts.fail).always(c.opts.always)}function j(e,t){var i,n,o,s,r;for(i in e)if(n=ue.camelCase(i),o=t[n],s=e[i],ue.isArray(s)&&(o=s[1],s=e[i]=s[0]),i!==n&&(e[n]=s,delete e[i]),r=ue.cssHooks[n],r&&"expand"in r){s=r.expand(s),delete e[n];for(i in s)i in e||(e[i]=s[i],t[i]=o)}else t[n]=o}function U(e,t,i){var n,o,s,r,a,l,c=this,u={},d=e.style,h=e.nodeType&&C(e),p=ue._data(e,"fxshow");i.queue||(a=ue._queueHooks(e,"fx"),null==a.unqueued&&(a.unqueued=0,l=a.empty.fire,a.empty.fire=function(){a.unqueued||l()}),a.unqueued++,c.always(function(){c.always(function(){a.unqueued--,ue.queue(e,"fx").length||a.empty.fire()})})),1===e.nodeType&&("height"in t||"width"in t)&&(i.overflow=[d.overflow,d.overflowX,d.overflowY],"inline"===ue.css(e,"display")&&"none"===ue.css(e,"float")&&(ue.support.inlineBlockNeedsLayout&&"inline"!==$(e.nodeName)?d.zoom=1:d.display="inline-block")),i.overflow&&(d.overflow="hidden",ue.support.shrinkWrapBlocks||c.always(function(){d.overflow=i.overflow[0],d.overflowX=i.overflow[1],d.overflowY=i.overflow[2]}));for(n in t)if(o=t[n],ei.exec(o)){if(delete t[n],s=s||"toggle"===o,o===(h?"hide":"show"))continue;u[n]=p&&p[n]||ue.style(e,n)}if(!ue.isEmptyObject(u)){p?"hidden"in p&&(h=p.hidden):p=ue._data(e,"fxshow",{}),s&&(p.hidden=!h),h?ue(e).show():c.done(function(){ue(e).hide()}),c.done(function(){var t;ue._removeData(e,"fxshow");for(t in u)ue.style(e,t,u[t])});for(n in u)r=L(h?p[n]:0,n,c),n in p||(p[n]=r.start,h&&(r.end=r.start,r.start="width"===n||"height"===n?1:0))}}function B(e,t,i,n,o){return new B.prototype.init(e,t,i,n,o)}function W(e,t){var i,n={height:e},o=0;for(t=t?1:0;4>o;o+=2-t)i=Ct[o],n["margin"+i]=n["padding"+i]=e;return t&&(n.opacity=n.width=e),n}function q(e){return ue.isWindow(e)?e:9===e.nodeType?e.defaultView||e.parentWindow:!1}var X,G,V=typeof t,Y=e.location,Q=e.document,K=Q.documentElement,J=e.jQuery,Z=e.$,ee={},te=[],ie="1.10.2",ne=te.concat,oe=te.push,se=te.slice,re=te.indexOf,ae=ee.toString,le=ee.hasOwnProperty,ce=ie.trim,ue=function(e,t){return new ue.fn.init(e,t,G)},de=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,he=/\S+/g,pe=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,fe=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,me=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,ge=/^[\],:{}\s]*$/,ve=/(?:^|:|,)(?:\s*\[)+/g,be=/\\(?:["\\\/bfnrt]|u[\da-fA-F]{4})/g,ye=/"[^"\\\r\n]*"|true|false|null|-?(?:\d+\.|)\d+(?:[eE][+-]?\d+|)/g,we=/^-ms-/,_e=/-([\da-z])/gi,xe=function(e,t){return t.toUpperCase()},Ce=function(e){(Q.addEventListener||"load"===e.type||"complete"===Q.readyState)&&(Ee(),ue.ready())},Ee=function(){Q.addEventListener?(Q.removeEventListener("DOMContentLoaded",Ce,!1),e.removeEventListener("load",Ce,!1)):(Q.detachEvent("onreadystatechange",Ce),e.detachEvent("onload",Ce))};ue.fn=ue.prototype={jquery:ie,constructor:ue,init:function(e,i,n){var o,s;if(!e)return this;if("string"==typeof e){if(o="<"===e.charAt(0)&&">"===e.charAt(e.length-1)&&e.length>=3?[null,e,null]:fe.exec(e),!o||!o[1]&&i)return!i||i.jquery?(i||n).find(e):this.constructor(i).find(e);if(o[1]){if(i=i instanceof ue?i[0]:i,ue.merge(this,ue.parseHTML(o[1],i&&i.nodeType?i.ownerDocument||i:Q,!0)),me.test(o[1])&&ue.isPlainObject(i))for(o in i)ue.isFunction(this[o])?this[o](i[o]):this.attr(o,i[o]);return this}if(s=Q.getElementById(o[2]),s&&s.parentNode){if(s.id!==o[2])return n.find(e);this.length=1,this[0]=s}return this.context=Q,this.selector=e,this}return e.nodeType?(this.context=this[0]=e,this.length=1,this):ue.isFunction(e)?n.ready(e):(e.selector!==t&&(this.selector=e.selector,this.context=e.context),ue.makeArray(e,this))},selector:"",length:0,toArray:function(){return se.call(this)},get:function(e){return null==e?this.toArray():0>e?this[this.length+e]:this[e]},pushStack:function(e){var t=ue.merge(this.constructor(),e);return t.prevObject=this,t.context=this.context,t},each:function(e,t){return ue.each(this,e,t)},ready:function(e){return ue.ready.promise().done(e),this},slice:function(){return this.pushStack(se.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(e){var t=this.length,i=+e+(0>e?t:0);return this.pushStack(i>=0&&t>i?[this[i]]:[])},map:function(e){return this.pushStack(ue.map(this,function(t,i){return e.call(t,i,t)}))},end:function(){return this.prevObject||this.constructor(null)},push:oe,sort:[].sort,splice:[].splice},ue.fn.init.prototype=ue.fn,ue.extend=ue.fn.extend=function(){var e,i,n,o,s,r,a=arguments[0]||{},l=1,c=arguments.length,u=!1;for("boolean"==typeof a&&(u=a,a=arguments[1]||{},l=2),"object"==typeof a||ue.isFunction(a)||(a={}),c===l&&(a=this,--l);c>l;l++)if(null!=(s=arguments[l]))for(o in s)e=a[o],n=s[o],a!==n&&(u&&n&&(ue.isPlainObject(n)||(i=ue.isArray(n)))?(i?(i=!1,r=e&&ue.isArray(e)?e:[]):r=e&&ue.isPlainObject(e)?e:{},a[o]=ue.extend(u,r,n)):n!==t&&(a[o]=n));return a},ue.extend({expando:"jQuery"+(ie+Math.random()).replace(/\D/g,""),noConflict:function(t){return e.$===ue&&(e.$=Z),t&&e.jQuery===ue&&(e.jQuery=J),ue},isReady:!1,readyWait:1,holdReady:function(e){e?ue.readyWait++:ue.ready(!0)},ready:function(e){if(e===!0?!--ue.readyWait:!ue.isReady){if(!Q.body)return setTimeout(ue.ready);ue.isReady=!0,e!==!0&&--ue.readyWait>0||(X.resolveWith(Q,[ue]),ue.fn.trigger&&ue(Q).trigger("ready").off("ready"))}},isFunction:function(e){return"function"===ue.type(e)},isArray:Array.isArray||function(e){return"array"===ue.type(e)},isWindow:function(e){return null!=e&&e==e.window},isNumeric:function(e){return!isNaN(parseFloat(e))&&isFinite(e)},type:function(e){return null==e?e+"":"object"==typeof e||"function"==typeof e?ee[ae.call(e)]||"object":typeof e},isPlainObject:function(e){var i;if(!e||"object"!==ue.type(e)||e.nodeType||ue.isWindow(e))return!1;try{if(e.constructor&&!le.call(e,"constructor")&&!le.call(e.constructor.prototype,"isPrototypeOf"))return!1}catch(n){return!1}if(ue.support.ownLast)for(i in e)return le.call(e,i);for(i in e);return i===t||le.call(e,i)},isEmptyObject:function(e){var t;for(t in e)return!1;return!0},error:function(e){throw Error(e)},parseHTML:function(e,t,i){if(!e||"string"!=typeof e)return null;"boolean"==typeof t&&(i=t,t=!1),t=t||Q;var n=me.exec(e),o=!i&&[];return n?[t.createElement(n[1])]:(n=ue.buildFragment([e],t,o),o&&ue(o).remove(),ue.merge([],n.childNodes))},parseJSON:function(i){return e.JSON&&e.JSON.parse?e.JSON.parse(i):null===i?i:"string"==typeof i&&(i=ue.trim(i),i&&ge.test(i.replace(be,"@").replace(ye,"]").replace(ve,"")))?Function("return "+i)():(ue.error("Invalid JSON: "+i),t)},parseXML:function(i){var n,o;if(!i||"string"!=typeof i)return null;try{e.DOMParser?(o=new DOMParser,n=o.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(s){n=t}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||ue.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(t){t&&ue.trim(t)&&(e.execScript||function(t){e.eval.call(e,t)})(t)},camelCase:function(e){return e.replace(we,"ms-").replace(_e,xe)},nodeName:function(e,t){return e.nodeName&&e.nodeName.toLowerCase()===t.toLowerCase()},each:function(e,t,n){var o,s=0,r=e.length,a=i(e);if(n){if(a)for(;r>s&&(o=t.apply(e[s],n),o!==!1);s++);else for(s in e)if(o=t.apply(e[s],n),o===!1)break}else if(a)for(;r>s&&(o=t.call(e[s],s,e[s]),o!==!1);s++);else for(s in e)if(o=t.call(e[s],s,e[s]),o===!1)break;return e},trim:ce&&!ce.call("\ufeff ")?function(e){return null==e?"":ce.call(e)}:function(e){return null==e?"":(e+"").replace(pe,"")},makeArray:function(e,t){var n=t||[];return null!=e&&(i(Object(e))?ue.merge(n,"string"==typeof e?[e]:e):oe.call(n,e)),n},inArray:function(e,t,i){var n;if(t){if(re)return re.call(t,e,i);for(n=t.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in t&&t[i]===e)return i}return-1},merge:function(e,i){var n=i.length,o=e.length,s=0;if("number"==typeof n)for(;n>s;s++)e[o++]=i[s];else for(;i[s]!==t;)e[o++]=i[s++];return e.length=o,e},grep:function(e,t,i){var n,o=[],s=0,r=e.length;for(i=!!i;r>s;s++)n=!!t(e[s],s),i!==n&&o.push(e[s]);return o},map:function(e,t,n){var o,s=0,r=e.length,a=i(e),l=[];if(a)for(;r>s;s++)o=t(e[s],s,n),null!=o&&(l[l.length]=o);else for(s in e)o=t(e[s],s,n),null!=o&&(l[l.length]=o);return ne.apply([],l)},guid:1,proxy:function(e,i){var n,o,s;return"string"==typeof i&&(s=e[i],i=e,e=s),ue.isFunction(e)?(n=se.call(arguments,2),o=function(){return e.apply(i||this,n.concat(se.call(arguments)))},o.guid=e.guid=e.guid||ue.guid++,o):t},access:function(e,i,n,o,s,r,a){var l=0,c=e.length,u=null==n;if("object"===ue.type(n)){s=!0;for(l in n)ue.access(e,i,l,n[l],!0,r,a)}else if(o!==t&&(s=!0,ue.isFunction(o)||(a=!0),u&&(a?(i.call(e,o),i=null):(u=i,i=function(e,t,i){return u.call(ue(e),i)})),i))for(;c>l;l++)i(e[l],n,a?o:o.call(e[l],l,i(e[l],n)));return s?e:u?i.call(e):c?i(e[0],n):r},now:function(){return(new Date).getTime()},swap:function(e,t,i,n){var o,s,r={};for(s in t)r[s]=e.style[s],e.style[s]=t[s];o=i.apply(e,n||[]);for(s in t)e.style[s]=r[s];return o}}),ue.ready.promise=function(t){if(!X)if(X=ue.Deferred(),"complete"===Q.readyState)setTimeout(ue.ready);else if(Q.addEventListener)Q.addEventListener("DOMContentLoaded",Ce,!1),e.addEventListener("load",Ce,!1);else{Q.attachEvent("onreadystatechange",Ce),e.attachEvent("onload",Ce);var i=!1;try{i=null==e.frameElement&&Q.documentElement}catch(n){}i&&i.doScroll&&function o(){if(!ue.isReady){try{i.doScroll("left")}catch(e){return setTimeout(o,50)}Ee(),ue.ready()}}()}return X.promise(t)},ue.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(e,t){ee["[object "+t+"]"]=t.toLowerCase()}),G=ue(Q),function(e,t){function i(e,t,i,n){var o,s,r,a,l,c,u,d,f,m;if((t?t.ownerDocument||t:H)!==R&&A(t),t=t||R,i=i||[],!e||"string"!=typeof e)return i;if(1!==(a=t.nodeType)&&9!==a)return[];if(N&&!n){if(o=ye.exec(e))if(r=o[1]){if(9===a){if(s=t.getElementById(r),!s||!s.parentNode)return i;if(s.id===r)return i.push(s),i}else if(t.ownerDocument&&(s=t.ownerDocument.getElementById(r))&&F(t,s)&&s.id===r)return i.push(s),i}else{if(o[2])return ee.apply(i,t.getElementsByTagName(e)),i;if((r=o[3])&&C.getElementsByClassName&&t.getElementsByClassName)return ee.apply(i,t.getElementsByClassName(r)),i}if(C.qsa&&(!P||!P.test(e))){if(d=u=L,f=t,m=9===a&&e,1===a&&"object"!==t.nodeName.toLowerCase()){for(c=h(e),(u=t.getAttribute("id"))?d=u.replace(xe,"\\$&"):t.setAttribute("id",d),d="[id='"+d+"'] ",l=c.length;l--;)c[l]=d+p(c[l]);f=pe.test(e)&&t.parentNode||t,m=c.join(",")}if(m)try{return ee.apply(i,f.querySelectorAll(m)),i}catch(g){}finally{u||t.removeAttribute("id")}}}return _(e.replace(ce,"$1"),t,i,n)}function n(){function e(i,n){return t.push(i+=" ")>T.cacheLength&&delete e[t.shift()],e[i]=n}var t=[];return e}function o(e){return e[L]=!0,e}function s(e){var t=R.createElement("div");try{return!!e(t)}catch(i){return!1}finally{t.parentNode&&t.parentNode.removeChild(t),t=null}}function r(e,t){for(var i=e.split("|"),n=e.length;n--;)T.attrHandle[i[n]]=t}function a(e,t){var i=t&&e,n=i&&1===e.nodeType&&1===t.nodeType&&(~t.sourceIndex||Y)-(~e.sourceIndex||Y);if(n)return n;if(i)for(;i=i.nextSibling;)if(i===t)return-1;return e?1:-1}function l(e){return function(t){var i=t.nodeName.toLowerCase();return"input"===i&&t.type===e}}function c(e){return function(t){var i=t.nodeName.toLowerCase();return("input"===i||"button"===i)&&t.type===e}}function u(e){return o(function(t){return t=+t,o(function(i,n){for(var o,s=e([],i.length,t),r=s.length;r--;)i[o=s[r]]&&(i[o]=!(n[o]=i[o]))})})}function d(){}function h(e,t){var n,o,s,r,a,l,c,u=W[e+" "];if(u)return t?0:u.slice(0);for(a=e,l=[],c=T.preFilter;a;){(!n||(o=de.exec(a)))&&(o&&(a=a.slice(o[0].length)||a),l.push(s=[])),n=!1,(o=he.exec(a))&&(n=o.shift(),s.push({value:n,type:o[0].replace(ce," ")}),a=a.slice(n.length));for(r in T.filter)!(o=ve[r].exec(a))||c[r]&&!(o=c[r](o))||(n=o.shift(),s.push({value:n,type:r,matches:o}),a=a.slice(n.length));if(!n)break}return t?a.length:a?i.error(e):W(e,l).slice(0)}function p(e){for(var t=0,i=e.length,n="";i>t;t++)n+=e[t].value;return n}function f(e,t,i){var n=t.dir,o=i&&"parentNode"===n,s=U++;return t.first?function(t,i,s){for(;t=t[n];)if(1===t.nodeType||o)return e(t,i,s)}:function(t,i,r){var a,l,c,u=j+" "+s;if(r){for(;t=t[n];)if((1===t.nodeType||o)&&e(t,i,r))return!0}else for(;t=t[n];)if(1===t.nodeType||o)if(c=t[L]||(t[L]={}),(l=c[n])&&l[0]===u){if((a=l[1])===!0||a===E)return a===!0}else if(l=c[n]=[u],l[1]=e(t,i,r)||E,l[1]===!0)return!0}}function m(e){return e.length>1?function(t,i,n){for(var o=e.length;o--;)if(!e[o](t,i,n))return!1;return!0}:e[0]}function g(e,t,i,n,o){for(var s,r=[],a=0,l=e.length,c=null!=t;l>a;a++)(s=e[a])&&(!i||i(s,n,o))&&(r.push(s),c&&t.push(a));return r}function v(e,t,i,n,s,r){return n&&!n[L]&&(n=v(n)),s&&!s[L]&&(s=v(s,r)),o(function(o,r,a,l){var c,u,d,h=[],p=[],f=r.length,m=o||w(t||"*",a.nodeType?[a]:a,[]),v=!e||!o&&t?m:g(m,h,e,a,l),b=i?s||(o?e:f||n)?[]:r:v;if(i&&i(v,b,a,l),n)for(c=g(b,p),n(c,[],a,l),u=c.length;u--;)(d=c[u])&&(b[p[u]]=!(v[p[u]]=d));if(o){if(s||e){if(s){for(c=[],u=b.length;u--;)(d=b[u])&&c.push(v[u]=d);s(null,b=[],c,l)}for(u=b.length;u--;)(d=b[u])&&(c=s?ie.call(o,d):h[u])>-1&&(o[c]=!(r[c]=d))}}else b=g(b===r?b.splice(f,b.length):b),s?s(null,r,b,l):ee.apply(r,b)})}function b(e){for(var t,i,n,o=e.length,s=T.relative[e[0].type],r=s||T.relative[" "],a=s?1:0,l=f(function(e){return e===t},r,!0),c=f(function(e){return ie.call(t,e)>-1},r,!0),u=[function(e,i,n){return!s&&(n||i!==D)||((t=i).nodeType?l(e,i,n):c(e,i,n))}];o>a;a++)if(i=T.relative[e[a].type])u=[f(m(u),i)];else{if(i=T.filter[e[a].type].apply(null,e[a].matches),i[L]){for(n=++a;o>n&&!T.relative[e[n].type];n++);return v(a>1&&m(u),a>1&&p(e.slice(0,a-1).concat({value:" "===e[a-2].type?"*":""})).replace(ce,"$1"),i,n>a&&b(e.slice(a,n)),o>n&&b(e=e.slice(n)),o>n&&p(e))}u.push(i)}return m(u)}function y(e,t){var n=0,s=t.length>0,r=e.length>0,a=function(o,a,l,c,u){var d,h,p,f=[],m=0,v="0",b=o&&[],y=null!=u,w=D,_=o||r&&T.find.TAG("*",u&&a.parentNode||a),x=j+=null==w?1:Math.random()||.1;for(y&&(D=a!==R&&a,E=n);null!=(d=_[v]);v++){if(r&&d){for(h=0;p=e[h++];)if(p(d,a,l)){c.push(d);break}y&&(j=x,E=++n)}s&&((d=!p&&d)&&m--,o&&b.push(d))}if(m+=v,s&&v!==m){for(h=0;p=t[h++];)p(b,f,a,l);if(o){if(m>0)for(;v--;)b[v]||f[v]||(f[v]=J.call(c));f=g(f)}ee.apply(c,f),y&&!o&&f.length>0&&m+t.length>1&&i.uniqueSort(c)}return y&&(j=x,D=w),b};return s?o(a):a}function w(e,t,n){for(var o=0,s=t.length;s>o;o++)i(e,t[o],n);return n}function _(e,t,i,n){var o,s,r,a,l,c=h(e);if(!n&&1===c.length){if(s=c[0]=c[0].slice(0),s.length>2&&"ID"===(r=s[0]).type&&C.getById&&9===t.nodeType&&N&&T.relative[s[1].type]){if(t=(T.find.ID(r.matches[0].replace(Ce,Ee),t)||[])[0],!t)return i;e=e.slice(s.shift().value.length)}for(o=ve.needsContext.test(e)?0:s.length;o--&&(r=s[o],!T.relative[a=r.type]);)if((l=T.find[a])&&(n=l(r.matches[0].replace(Ce,Ee),pe.test(s[0].type)&&t.parentNode||t))){if(s.splice(o,1),e=n.length&&p(s),!e)return ee.apply(i,n),i;break}}return $(e,c)(n,t,!N,i,pe.test(e)),i}var x,C,E,T,k,S,$,D,I,A,R,O,N,P,z,M,F,L="sizzle"+-new Date,H=e.document,j=0,U=0,B=n(),W=n(),q=n(),X=!1,G=function(e,t){return e===t?(X=!0,0):0},V=typeof t,Y=1<<31,Q={}.hasOwnProperty,K=[],J=K.pop,Z=K.push,ee=K.push,te=K.slice,ie=K.indexOf||function(e){for(var t=0,i=this.length;i>t;t++)if(this[t]===e)return t;return-1},ne="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",oe="[\\x20\\t\\r\\n\\f]",se="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",re=se.replace("w","w#"),ae="\\["+oe+"*("+se+")"+oe+"*(?:([*^$|!~]?=)"+oe+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+re+")|)|)"+oe+"*\\]",le=":("+se+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+ae.replace(3,8)+")*)|.*)\\)|)",ce=RegExp("^"+oe+"+|((?:^|[^\\\\])(?:\\\\.)*)"+oe+"+$","g"),de=RegExp("^"+oe+"*,"+oe+"*"),he=RegExp("^"+oe+"*([>+~]|"+oe+")"+oe+"*"),pe=RegExp(oe+"*[+~]"),fe=RegExp("="+oe+"*([^\\]'\"]*)"+oe+"*\\]","g"),me=RegExp(le),ge=RegExp("^"+re+"$"),ve={ID:RegExp("^#("+se+")"),CLASS:RegExp("^\\.("+se+")"),TAG:RegExp("^("+se.replace("w","w*")+")"),ATTR:RegExp("^"+ae),PSEUDO:RegExp("^"+le),CHILD:RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+oe+"*(even|odd|(([+-]|)(\\d*)n|)"+oe+"*(?:([+-]|)"+oe+"*(\\d+)|))"+oe+"*\\)|)","i"),bool:RegExp("^(?:"+ne+")$","i"),needsContext:RegExp("^"+oe+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+oe+"*((?:-\\d)?\\d*)"+oe+"*\\)|)(?=[^-]|$)","i")},be=/^[^{]+\{\s*\[native \w/,ye=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,we=/^(?:input|select|textarea|button)$/i,_e=/^h\d$/i,xe=/'|\\/g,Ce=RegExp("\\\\([\\da-f]{1,6}"+oe+"?|("+oe+")|.)","ig"),Ee=function(e,t,i){var n="0x"+t-65536;return n!==n||i?t:0>n?String.fromCharCode(n+65536):String.fromCharCode(55296|n>>10,56320|1023&n)};try{ee.apply(K=te.call(H.childNodes),H.childNodes),K[H.childNodes.length].nodeType}catch(Te){ee={apply:K.length?function(e,t){Z.apply(e,te.call(t))}:function(e,t){for(var i=e.length,n=0;e[i++]=t[n++];);e.length=i-1}}}S=i.isXML=function(e){var t=e&&(e.ownerDocument||e).documentElement;return t?"HTML"!==t.nodeName:!1},C=i.support={},A=i.setDocument=function(e){var i=e?e.ownerDocument||e:H,n=i.defaultView;return i!==R&&9===i.nodeType&&i.documentElement?(R=i,O=i.documentElement,N=!S(i),n&&n.attachEvent&&n!==n.top&&n.attachEvent("onbeforeunload",function(){A()}),C.attributes=s(function(e){return e.className="i",!e.getAttribute("className")}),C.getElementsByTagName=s(function(e){return e.appendChild(i.createComment("")),!e.getElementsByTagName("*").length}),C.getElementsByClassName=s(function(e){return e.innerHTML="<div class='a'></div><div class='a i'></div>",e.firstChild.className="i",2===e.getElementsByClassName("i").length}),C.getById=s(function(e){return O.appendChild(e).id=L,!i.getElementsByName||!i.getElementsByName(L).length}),C.getById?(T.find.ID=function(e,t){if(typeof t.getElementById!==V&&N){var i=t.getElementById(e);return i&&i.parentNode?[i]:[]}},T.filter.ID=function(e){var t=e.replace(Ce,Ee);return function(e){return e.getAttribute("id")===t}}):(delete T.find.ID,T.filter.ID=function(e){var t=e.replace(Ce,Ee);return function(e){var i=typeof e.getAttributeNode!==V&&e.getAttributeNode("id");return i&&i.value===t}}),T.find.TAG=C.getElementsByTagName?function(e,i){return typeof i.getElementsByTagName!==V?i.getElementsByTagName(e):t}:function(e,t){var i,n=[],o=0,s=t.getElementsByTagName(e);if("*"===e){for(;i=s[o++];)1===i.nodeType&&n.push(i);return n}return s},T.find.CLASS=C.getElementsByClassName&&function(e,i){return typeof i.getElementsByClassName!==V&&N?i.getElementsByClassName(e):t},z=[],P=[],(C.qsa=be.test(i.querySelectorAll))&&(s(function(e){e.innerHTML="<select><option selected=''></option></select>",e.querySelectorAll("[selected]").length||P.push("\\["+oe+"*(?:value|"+ne+")"),e.querySelectorAll(":checked").length||P.push(":checked")}),s(function(e){var t=i.createElement("input");t.setAttribute("type","hidden"),e.appendChild(t).setAttribute("t",""),e.querySelectorAll("[t^='']").length&&P.push("[*^$]="+oe+"*(?:''|\"\")"),e.querySelectorAll(":enabled").length||P.push(":enabled",":disabled"),e.querySelectorAll("*,:x"),P.push(",.*:")})),(C.matchesSelector=be.test(M=O.webkitMatchesSelector||O.mozMatchesSelector||O.oMatchesSelector||O.msMatchesSelector))&&s(function(e){C.disconnectedMatch=M.call(e,"div"),M.call(e,"[s!='']:x"),z.push("!=",le)}),P=P.length&&RegExp(P.join("|")),z=z.length&&RegExp(z.join("|")),F=be.test(O.contains)||O.compareDocumentPosition?function(e,t){var i=9===e.nodeType?e.documentElement:e,n=t&&t.parentNode;return e===n||!(!n||1!==n.nodeType||!(i.contains?i.contains(n):e.compareDocumentPosition&&16&e.compareDocumentPosition(n)))}:function(e,t){if(t)for(;t=t.parentNode;)if(t===e)return!0;return!1},G=O.compareDocumentPosition?function(e,t){if(e===t)return X=!0,0;var n=t.compareDocumentPosition&&e.compareDocumentPosition&&e.compareDocumentPosition(t);return n?1&n||!C.sortDetached&&t.compareDocumentPosition(e)===n?e===i||F(H,e)?-1:t===i||F(H,t)?1:I?ie.call(I,e)-ie.call(I,t):0:4&n?-1:1:e.compareDocumentPosition?-1:1}:function(e,t){var n,o=0,s=e.parentNode,r=t.parentNode,l=[e],c=[t];if(e===t)return X=!0,0;if(!s||!r)return e===i?-1:t===i?1:s?-1:r?1:I?ie.call(I,e)-ie.call(I,t):0;if(s===r)return a(e,t);for(n=e;n=n.parentNode;)l.unshift(n);for(n=t;n=n.parentNode;)c.unshift(n);for(;l[o]===c[o];)o++;return o?a(l[o],c[o]):l[o]===H?-1:c[o]===H?1:0},i):R},i.matches=function(e,t){return i(e,null,null,t)},i.matchesSelector=function(e,t){if((e.ownerDocument||e)!==R&&A(e),t=t.replace(fe,"='$1']"),!(!C.matchesSelector||!N||z&&z.test(t)||P&&P.test(t)))try{var n=M.call(e,t);if(n||C.disconnectedMatch||e.document&&11!==e.document.nodeType)return n}catch(o){}return i(t,R,null,[e]).length>0},i.contains=function(e,t){return(e.ownerDocument||e)!==R&&A(e),F(e,t)},i.attr=function(e,i){(e.ownerDocument||e)!==R&&A(e);var n=T.attrHandle[i.toLowerCase()],o=n&&Q.call(T.attrHandle,i.toLowerCase())?n(e,i,!N):t;return o===t?C.attributes||!N?e.getAttribute(i):(o=e.getAttributeNode(i))&&o.specified?o.value:null:o},i.error=function(e){throw Error("Syntax error, unrecognized expression: "+e)},i.uniqueSort=function(e){var t,i=[],n=0,o=0;if(X=!C.detectDuplicates,I=!C.sortStable&&e.slice(0),e.sort(G),X){for(;t=e[o++];)t===e[o]&&(n=i.push(o));for(;n--;)e.splice(i[n],1)}return e},k=i.getText=function(e){var t,i="",n=0,o=e.nodeType;if(o){if(1===o||9===o||11===o){if("string"==typeof e.textContent)return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)i+=k(e)}else if(3===o||4===o)return e.nodeValue}else for(;t=e[n];n++)i+=k(t);return i},T=i.selectors={cacheLength:50,createPseudo:o,match:ve,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Ce,Ee),e[3]=(e[4]||e[5]||"").replace(Ce,Ee),"~="===e[2]&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),"nth"===e[1].slice(0,3)?(e[3]||i.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*("even"===e[3]||"odd"===e[3])),e[5]=+(e[7]+e[8]||"odd"===e[3])):e[3]&&i.error(e[0]),e},PSEUDO:function(e){var i,n=!e[5]&&e[2];return ve.CHILD.test(e[0])?null:(e[3]&&e[4]!==t?e[2]=e[4]:n&&me.test(n)&&(i=h(n,!0))&&(i=n.indexOf(")",n.length-i)-n.length)&&(e[0]=e[0].slice(0,i),e[2]=n.slice(0,i)),e.slice(0,3))}},filter:{TAG:function(e){var t=e.replace(Ce,Ee).toLowerCase();return"*"===e?function(){return!0}:function(e){return e.nodeName&&e.nodeName.toLowerCase()===t}},CLASS:function(e){var t=B[e+" "];return t||(t=RegExp("(^|"+oe+")"+e+"("+oe+"|$)"))&&B(e,function(e){return t.test("string"==typeof e.className&&e.className||typeof e.getAttribute!==V&&e.getAttribute("class")||"")})},ATTR:function(e,t,n){return function(o){var s=i.attr(o,e);return null==s?"!="===t:t?(s+="","="===t?s===n:"!="===t?s!==n:"^="===t?n&&0===s.indexOf(n):"*="===t?n&&s.indexOf(n)>-1:"$="===t?n&&s.slice(-n.length)===n:"~="===t?(" "+s+" ").indexOf(n)>-1:"|="===t?s===n||s.slice(0,n.length+1)===n+"-":!1):!0}},CHILD:function(e,t,i,n,o){var s="nth"!==e.slice(0,3),r="last"!==e.slice(-4),a="of-type"===t;return 1===n&&0===o?function(e){return!!e.parentNode}:function(t,i,l){var c,u,d,h,p,f,m=s!==r?"nextSibling":"previousSibling",g=t.parentNode,v=a&&t.nodeName.toLowerCase(),b=!l&&!a;if(g){if(s){for(;m;){for(d=t;d=d[m];)if(a?d.nodeName.toLowerCase()===v:1===d.nodeType)return!1;f=m="only"===e&&!f&&"nextSibling"}return!0}if(f=[r?g.firstChild:g.lastChild],r&&b){for(u=g[L]||(g[L]={}),c=u[e]||[],p=c[0]===j&&c[1],h=c[0]===j&&c[2],d=p&&g.childNodes[p];d=++p&&d&&d[m]||(h=p=0)||f.pop();)if(1===d.nodeType&&++h&&d===t){u[e]=[j,p,h];break}}else if(b&&(c=(t[L]||(t[L]={}))[e])&&c[0]===j)h=c[1];else for(;(d=++p&&d&&d[m]||(h=p=0)||f.pop())&&((a?d.nodeName.toLowerCase()!==v:1!==d.nodeType)||!++h||(b&&((d[L]||(d[L]={}))[e]=[j,h]),d!==t)););return h-=o,h===n||0===h%n&&h/n>=0}}},PSEUDO:function(e,t){var n,s=T.pseudos[e]||T.setFilters[e.toLowerCase()]||i.error("unsupported pseudo: "+e);return s[L]?s(t):s.length>1?(n=[e,e,"",t],T.setFilters.hasOwnProperty(e.toLowerCase())?o(function(e,i){for(var n,o=s(e,t),r=o.length;r--;)n=ie.call(e,o[r]),e[n]=!(i[n]=o[r])}):function(e){return s(e,0,n)}):s}},pseudos:{not:o(function(e){var t=[],i=[],n=$(e.replace(ce,"$1"));return n[L]?o(function(e,t,i,o){for(var s,r=n(e,null,o,[]),a=e.length;a--;)(s=r[a])&&(e[a]=!(t[a]=s))}):function(e,o,s){return t[0]=e,n(t,null,s,i),!i.pop()}}),has:o(function(e){return function(t){return i(e,t).length>0}}),contains:o(function(e){return function(t){return(t.textContent||t.innerText||k(t)).indexOf(e)>-1}}),lang:o(function(e){return ge.test(e||"")||i.error("unsupported lang: "+e),e=e.replace(Ce,Ee).toLowerCase(),function(t){var i;do if(i=N?t.lang:t.getAttribute("xml:lang")||t.getAttribute("lang"))return i=i.toLowerCase(),i===e||0===i.indexOf(e+"-");while((t=t.parentNode)&&1===t.nodeType);return!1}}),target:function(t){var i=e.location&&e.location.hash;return i&&i.slice(1)===t.id},root:function(e){return e===O},focus:function(e){return e===R.activeElement&&(!R.hasFocus||R.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&!!e.checked||"option"===t&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeName>"@"||3===e.nodeType||4===e.nodeType)return!1;return!0},parent:function(e){return!T.pseudos.empty(e);
},header:function(e){return _e.test(e.nodeName)},input:function(e){return we.test(e.nodeName)},button:function(e){var t=e.nodeName.toLowerCase();return"input"===t&&"button"===e.type||"button"===t},text:function(e){var t;return"input"===e.nodeName.toLowerCase()&&"text"===e.type&&(null==(t=e.getAttribute("type"))||t.toLowerCase()===e.type)},first:u(function(){return[0]}),last:u(function(e,t){return[t-1]}),eq:u(function(e,t,i){return[0>i?i+t:i]}),even:u(function(e,t){for(var i=0;t>i;i+=2)e.push(i);return e}),odd:u(function(e,t){for(var i=1;t>i;i+=2)e.push(i);return e}),lt:u(function(e,t,i){for(var n=0>i?i+t:i;--n>=0;)e.push(n);return e}),gt:u(function(e,t,i){for(var n=0>i?i+t:i;t>++n;)e.push(n);return e})}},T.pseudos.nth=T.pseudos.eq;for(x in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})T.pseudos[x]=l(x);for(x in{submit:!0,reset:!0})T.pseudos[x]=c(x);d.prototype=T.filters=T.pseudos,T.setFilters=new d,$=i.compile=function(e,t){var i,n=[],o=[],s=q[e+" "];if(!s){for(t||(t=h(e)),i=t.length;i--;)s=b(t[i]),s[L]?n.push(s):o.push(s);s=q(e,y(o,n))}return s},C.sortStable=L.split("").sort(G).join("")===L,C.detectDuplicates=X,A(),C.sortDetached=s(function(e){return 1&e.compareDocumentPosition(R.createElement("div"))}),s(function(e){return e.innerHTML="<a href='#'></a>","#"===e.firstChild.getAttribute("href")})||r("type|href|height|width",function(e,i,n){return n?t:e.getAttribute(i,"type"===i.toLowerCase()?1:2)}),C.attributes&&s(function(e){return e.innerHTML="<input/>",e.firstChild.setAttribute("value",""),""===e.firstChild.getAttribute("value")})||r("value",function(e,i,n){return n||"input"!==e.nodeName.toLowerCase()?t:e.defaultValue}),s(function(e){return null==e.getAttribute("disabled")})||r(ne,function(e,i,n){var o;return n?t:(o=e.getAttributeNode(i))&&o.specified?o.value:e[i]===!0?i.toLowerCase():null}),ue.find=i,ue.expr=i.selectors,ue.expr[":"]=ue.expr.pseudos,ue.unique=i.uniqueSort,ue.text=i.getText,ue.isXMLDoc=i.isXML,ue.contains=i.contains}(e);var Te={};ue.Callbacks=function(e){e="string"==typeof e?Te[e]||n(e):ue.extend({},e);var i,o,s,r,a,l,c=[],u=!e.once&&[],d=function(t){for(o=e.memory&&t,s=!0,a=l||0,l=0,r=c.length,i=!0;c&&r>a;a++)if(c[a].apply(t[0],t[1])===!1&&e.stopOnFalse){o=!1;break}i=!1,c&&(u?u.length&&d(u.shift()):o?c=[]:h.disable())},h={add:function(){if(c){var t=c.length;!function n(t){ue.each(t,function(t,i){var o=ue.type(i);"function"===o?e.unique&&h.has(i)||c.push(i):i&&i.length&&"string"!==o&&n(i)})}(arguments),i?r=c.length:o&&(l=t,d(o))}return this},remove:function(){return c&&ue.each(arguments,function(e,t){for(var n;(n=ue.inArray(t,c,n))>-1;)c.splice(n,1),i&&(r>=n&&r--,a>=n&&a--)}),this},has:function(e){return e?ue.inArray(e,c)>-1:!(!c||!c.length)},empty:function(){return c=[],r=0,this},disable:function(){return c=u=o=t,this},disabled:function(){return!c},lock:function(){return u=t,o||h.disable(),this},locked:function(){return!u},fireWith:function(e,t){return!c||s&&!u||(t=t||[],t=[e,t.slice?t.slice():t],i?u.push(t):d(t)),this},fire:function(){return h.fireWith(this,arguments),this},fired:function(){return!!s}};return h},ue.extend({Deferred:function(e){var t=[["resolve","done",ue.Callbacks("once memory"),"resolved"],["reject","fail",ue.Callbacks("once memory"),"rejected"],["notify","progress",ue.Callbacks("memory")]],i="pending",n={state:function(){return i},always:function(){return o.done(arguments).fail(arguments),this},then:function(){var e=arguments;return ue.Deferred(function(i){ue.each(t,function(t,s){var r=s[0],a=ue.isFunction(e[t])&&e[t];o[s[1]](function(){var e=a&&a.apply(this,arguments);e&&ue.isFunction(e.promise)?e.promise().done(i.resolve).fail(i.reject).progress(i.notify):i[r+"With"](this===n?i.promise():this,a?[e]:arguments)})}),e=null}).promise()},promise:function(e){return null!=e?ue.extend(e,n):n}},o={};return n.pipe=n.then,ue.each(t,function(e,s){var r=s[2],a=s[3];n[s[1]]=r.add,a&&r.add(function(){i=a},t[1^e][2].disable,t[2][2].lock),o[s[0]]=function(){return o[s[0]+"With"](this===o?n:this,arguments),this},o[s[0]+"With"]=r.fireWith}),n.promise(o),e&&e.call(o,o),o},when:function(e){var t,i,n,o=0,s=se.call(arguments),r=s.length,a=1!==r||e&&ue.isFunction(e.promise)?r:0,l=1===a?e:ue.Deferred(),c=function(e,i,n){return function(o){i[e]=this,n[e]=arguments.length>1?se.call(arguments):o,n===t?l.notifyWith(i,n):--a||l.resolveWith(i,n)}};if(r>1)for(t=Array(r),i=Array(r),n=Array(r);r>o;o++)s[o]&&ue.isFunction(s[o].promise)?s[o].promise().done(c(o,n,s)).fail(l.reject).progress(c(o,i,t)):--a;return a||l.resolveWith(n,s),l.promise()}}),ue.support=function(t){var i,n,o,s,r,a,l,c,u,d=Q.createElement("div");if(d.setAttribute("className","t"),d.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*")||[],n=d.getElementsByTagName("a")[0],!n||!n.style||!i.length)return t;s=Q.createElement("select"),a=s.appendChild(Q.createElement("option")),o=d.getElementsByTagName("input")[0],n.style.cssText="top:1px;float:left;opacity:.5",t.getSetAttribute="t"!==d.className,t.leadingWhitespace=3===d.firstChild.nodeType,t.tbody=!d.getElementsByTagName("tbody").length,t.htmlSerialize=!!d.getElementsByTagName("link").length,t.style=/top/.test(n.getAttribute("style")),t.hrefNormalized="/a"===n.getAttribute("href"),t.opacity=/^0.5/.test(n.style.opacity),t.cssFloat=!!n.style.cssFloat,t.checkOn=!!o.value,t.optSelected=a.selected,t.enctype=!!Q.createElement("form").enctype,t.html5Clone="<:nav></:nav>"!==Q.createElement("nav").cloneNode(!0).outerHTML,t.inlineBlockNeedsLayout=!1,t.shrinkWrapBlocks=!1,t.pixelPosition=!1,t.deleteExpando=!0,t.noCloneEvent=!0,t.reliableMarginRight=!0,t.boxSizingReliable=!0,o.checked=!0,t.noCloneChecked=o.cloneNode(!0).checked,s.disabled=!0,t.optDisabled=!a.disabled;try{delete d.test}catch(h){t.deleteExpando=!1}o=Q.createElement("input"),o.setAttribute("value",""),t.input=""===o.getAttribute("value"),o.value="t",o.setAttribute("type","radio"),t.radioValue="t"===o.value,o.setAttribute("checked","t"),o.setAttribute("name","t"),r=Q.createDocumentFragment(),r.appendChild(o),t.appendChecked=o.checked,t.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,d.attachEvent&&(d.attachEvent("onclick",function(){t.noCloneEvent=!1}),d.cloneNode(!0).click());for(u in{submit:!0,change:!0,focusin:!0})d.setAttribute(l="on"+u,"t"),t[u+"Bubbles"]=l in e||d.attributes[l].expando===!1;d.style.backgroundClip="content-box",d.cloneNode(!0).style.backgroundClip="",t.clearCloneStyle="content-box"===d.style.backgroundClip;for(u in ue(t))break;return t.ownLast="0"!==u,ue(function(){var i,n,o,s="padding:0;margin:0;border:0;display:block;box-sizing:content-box;-moz-box-sizing:content-box;-webkit-box-sizing:content-box;",r=Q.getElementsByTagName("body")[0];r&&(i=Q.createElement("div"),i.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",r.appendChild(i).appendChild(d),d.innerHTML="<table><tr><td></td><td>t</td></tr></table>",o=d.getElementsByTagName("td"),o[0].style.cssText="padding:0;margin:0;border:0;display:none",c=0===o[0].offsetHeight,o[0].style.display="",o[1].style.display="none",t.reliableHiddenOffsets=c&&0===o[0].offsetHeight,d.innerHTML="",d.style.cssText="box-sizing:border-box;-moz-box-sizing:border-box;-webkit-box-sizing:border-box;padding:1px;border:1px;display:block;width:4px;margin-top:1%;position:absolute;top:1%;",ue.swap(r,null!=r.style.zoom?{zoom:1}:{},function(){t.boxSizing=4===d.offsetWidth}),e.getComputedStyle&&(t.pixelPosition="1%"!==(e.getComputedStyle(d,null)||{}).top,t.boxSizingReliable="4px"===(e.getComputedStyle(d,null)||{width:"4px"}).width,n=d.appendChild(Q.createElement("div")),n.style.cssText=d.style.cssText=s,n.style.marginRight=n.style.width="0",d.style.width="1px",t.reliableMarginRight=!parseFloat((e.getComputedStyle(n,null)||{}).marginRight)),typeof d.style.zoom!==V&&(d.innerHTML="",d.style.cssText=s+"width:1px;padding:1px;display:inline;zoom:1",t.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.innerHTML="<div></div>",d.firstChild.style.width="5px",t.shrinkWrapBlocks=3!==d.offsetWidth,t.inlineBlockNeedsLayout&&(r.style.zoom=1)),r.removeChild(i),i=d=o=n=null)}),i=s=r=a=n=o=null,t}({});var ke=/(?:\{[\s\S]*\}|\[[\s\S]*\])$/,Se=/([A-Z])/g;ue.extend({cache:{},noData:{applet:!0,embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(e){return e=e.nodeType?ue.cache[e[ue.expando]]:e[ue.expando],!!e&&!a(e)},data:function(e,t,i){return o(e,t,i)},removeData:function(e,t){return s(e,t)},_data:function(e,t,i){return o(e,t,i,!0)},_removeData:function(e,t){return s(e,t,!0)},acceptData:function(e){if(e.nodeType&&1!==e.nodeType&&9!==e.nodeType)return!1;var t=e.nodeName&&ue.noData[e.nodeName.toLowerCase()];return!t||t!==!0&&e.getAttribute("classid")===t}}),ue.fn.extend({data:function(e,i){var n,o,s=null,a=0,l=this[0];if(e===t){if(this.length&&(s=ue.data(l),1===l.nodeType&&!ue._data(l,"parsedAttrs"))){for(n=l.attributes;n.length>a;a++)o=n[a].name,0===o.indexOf("data-")&&(o=ue.camelCase(o.slice(5)),r(l,o,s[o]));ue._data(l,"parsedAttrs",!0)}return s}return"object"==typeof e?this.each(function(){ue.data(this,e)}):arguments.length>1?this.each(function(){ue.data(this,e,i)}):l?r(l,e,ue.data(l,e)):null},removeData:function(e){return this.each(function(){ue.removeData(this,e)})}}),ue.extend({queue:function(e,i,n){var o;return e?(i=(i||"fx")+"queue",o=ue._data(e,i),n&&(!o||ue.isArray(n)?o=ue._data(e,i,ue.makeArray(n)):o.push(n)),o||[]):t},dequeue:function(e,t){t=t||"fx";var i=ue.queue(e,t),n=i.length,o=i.shift(),s=ue._queueHooks(e,t),r=function(){ue.dequeue(e,t)};"inprogress"===o&&(o=i.shift(),n--),o&&("fx"===t&&i.unshift("inprogress"),delete s.stop,o.call(e,r,s)),!n&&s&&s.empty.fire()},_queueHooks:function(e,t){var i=t+"queueHooks";return ue._data(e,i)||ue._data(e,i,{empty:ue.Callbacks("once memory").add(function(){ue._removeData(e,t+"queue"),ue._removeData(e,i)})})}}),ue.fn.extend({queue:function(e,i){var n=2;return"string"!=typeof e&&(i=e,e="fx",n--),n>arguments.length?ue.queue(this[0],e):i===t?this:this.each(function(){var t=ue.queue(this,e,i);ue._queueHooks(this,e),"fx"===e&&"inprogress"!==t[0]&&ue.dequeue(this,e)})},dequeue:function(e){return this.each(function(){ue.dequeue(this,e)})},delay:function(e,t){return e=ue.fx?ue.fx.speeds[e]||e:e,t=t||"fx",this.queue(t,function(t,i){var n=setTimeout(t,e);i.stop=function(){clearTimeout(n)}})},clearQueue:function(e){return this.queue(e||"fx",[])},promise:function(e,i){var n,o=1,s=ue.Deferred(),r=this,a=this.length,l=function(){--o||s.resolveWith(r,[r])};for("string"!=typeof e&&(i=e,e=t),e=e||"fx";a--;)n=ue._data(r[a],e+"queueHooks"),n&&n.empty&&(o++,n.empty.add(l));return l(),s.promise(i)}});var $e,De,Ie=/[\t\r\n\f]/g,Ae=/\r/g,Re=/^(?:input|select|textarea|button|object)$/i,Oe=/^(?:a|area)$/i,Ne=/^(?:checked|selected)$/i,Pe=ue.support.getSetAttribute,ze=ue.support.input;ue.fn.extend({attr:function(e,t){return ue.access(this,ue.attr,e,t,arguments.length>1)},removeAttr:function(e){return this.each(function(){ue.removeAttr(this,e)})},prop:function(e,t){return ue.access(this,ue.prop,e,t,arguments.length>1)},removeProp:function(e){return e=ue.propFix[e]||e,this.each(function(){try{this[e]=t,delete this[e]}catch(i){}})},addClass:function(e){var t,i,n,o,s,r=0,a=this.length,l="string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).addClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(he)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ie," "):" ")){for(s=0;o=t[s++];)0>n.indexOf(" "+o+" ")&&(n+=o+" ");i.className=ue.trim(n)}return this},removeClass:function(e){var t,i,n,o,s,r=0,a=this.length,l=0===arguments.length||"string"==typeof e&&e;if(ue.isFunction(e))return this.each(function(t){ue(this).removeClass(e.call(this,t,this.className))});if(l)for(t=(e||"").match(he)||[];a>r;r++)if(i=this[r],n=1===i.nodeType&&(i.className?(" "+i.className+" ").replace(Ie," "):"")){for(s=0;o=t[s++];)for(;n.indexOf(" "+o+" ")>=0;)n=n.replace(" "+o+" "," ");i.className=e?ue.trim(n):""}return this},toggleClass:function(e,t){var i=typeof e;return"boolean"==typeof t&&"string"===i?t?this.addClass(e):this.removeClass(e):ue.isFunction(e)?this.each(function(i){ue(this).toggleClass(e.call(this,i,this.className,t),t)}):this.each(function(){if("string"===i)for(var t,n=0,o=ue(this),s=e.match(he)||[];t=s[n++];)o.hasClass(t)?o.removeClass(t):o.addClass(t);else(i===V||"boolean"===i)&&(this.className&&ue._data(this,"__className__",this.className),this.className=this.className||e===!1?"":ue._data(this,"__className__")||"")})},hasClass:function(e){for(var t=" "+e+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(Ie," ").indexOf(t)>=0)return!0;return!1},val:function(e){var i,n,o,s=this[0];return arguments.length?(o=ue.isFunction(e),this.each(function(i){var s;1===this.nodeType&&(s=o?e.call(this,i,ue(this).val()):e,null==s?s="":"number"==typeof s?s+="":ue.isArray(s)&&(s=ue.map(s,function(e){return null==e?"":e+""})),n=ue.valHooks[this.type]||ue.valHooks[this.nodeName.toLowerCase()],n&&"set"in n&&n.set(this,s,"value")!==t||(this.value=s))})):s?(n=ue.valHooks[s.type]||ue.valHooks[s.nodeName.toLowerCase()],n&&"get"in n&&(i=n.get(s,"value"))!==t?i:(i=s.value,"string"==typeof i?i.replace(Ae,""):null==i?"":i)):void 0}}),ue.extend({valHooks:{option:{get:function(e){var t=ue.find.attr(e,"value");return null!=t?t:e.text}},select:{get:function(e){for(var t,i,n=e.options,o=e.selectedIndex,s="select-one"===e.type||0>o,r=s?null:[],a=s?o+1:n.length,l=0>o?a:s?o:0;a>l;l++)if(i=n[l],!(!i.selected&&l!==o||(ue.support.optDisabled?i.disabled:null!==i.getAttribute("disabled"))||i.parentNode.disabled&&ue.nodeName(i.parentNode,"optgroup"))){if(t=ue(i).val(),s)return t;r.push(t)}return r},set:function(e,t){for(var i,n,o=e.options,s=ue.makeArray(t),r=o.length;r--;)n=o[r],(n.selected=ue.inArray(ue(n).val(),s)>=0)&&(i=!0);return i||(e.selectedIndex=-1),s}}},attr:function(e,i,n){var o,s,r=e.nodeType;return e&&3!==r&&8!==r&&2!==r?typeof e.getAttribute===V?ue.prop(e,i,n):(1===r&&ue.isXMLDoc(e)||(i=i.toLowerCase(),o=ue.attrHooks[i]||(ue.expr.match.bool.test(i)?De:$e)),n===t?o&&"get"in o&&null!==(s=o.get(e,i))?s:(s=ue.find.attr(e,i),null==s?t:s):null!==n?o&&"set"in o&&(s=o.set(e,n,i))!==t?s:(e.setAttribute(i,n+""),n):(ue.removeAttr(e,i),t)):void 0},removeAttr:function(e,t){var i,n,o=0,s=t&&t.match(he);if(s&&1===e.nodeType)for(;i=s[o++];)n=ue.propFix[i]||i,ue.expr.match.bool.test(i)?ze&&Pe||!Ne.test(i)?e[n]=!1:e[ue.camelCase("default-"+i)]=e[n]=!1:ue.attr(e,i,""),e.removeAttribute(Pe?i:n)},attrHooks:{type:{set:function(e,t){if(!ue.support.radioValue&&"radio"===t&&ue.nodeName(e,"input")){var i=e.value;return e.setAttribute("type",t),i&&(e.value=i),t}}}},propFix:{"for":"htmlFor","class":"className"},prop:function(e,i,n){var o,s,r,a=e.nodeType;return e&&3!==a&&8!==a&&2!==a?(r=1!==a||!ue.isXMLDoc(e),r&&(i=ue.propFix[i]||i,s=ue.propHooks[i]),n!==t?s&&"set"in s&&(o=s.set(e,n,i))!==t?o:e[i]=n:s&&"get"in s&&null!==(o=s.get(e,i))?o:e[i]):void 0},propHooks:{tabIndex:{get:function(e){var t=ue.find.attr(e,"tabindex");return t?parseInt(t,10):Re.test(e.nodeName)||Oe.test(e.nodeName)&&e.href?0:-1}}}}),De={set:function(e,t,i){return t===!1?ue.removeAttr(e,i):ze&&Pe||!Ne.test(i)?e.setAttribute(!Pe&&ue.propFix[i]||i,i):e[ue.camelCase("default-"+i)]=e[i]=!0,i}},ue.each(ue.expr.match.bool.source.match(/\w+/g),function(e,i){var n=ue.expr.attrHandle[i]||ue.find.attr;ue.expr.attrHandle[i]=ze&&Pe||!Ne.test(i)?function(e,i,o){var s=ue.expr.attrHandle[i],r=o?t:(ue.expr.attrHandle[i]=t)!=n(e,i,o)?i.toLowerCase():null;return ue.expr.attrHandle[i]=s,r}:function(e,i,n){return n?t:e[ue.camelCase("default-"+i)]?i.toLowerCase():null}}),ze&&Pe||(ue.attrHooks.value={set:function(e,i,n){return ue.nodeName(e,"input")?(e.defaultValue=i,t):$e&&$e.set(e,i,n)}}),Pe||($e={set:function(e,i,n){var o=e.getAttributeNode(n);return o||e.setAttributeNode(o=e.ownerDocument.createAttribute(n)),o.value=i+="","value"===n||i===e.getAttribute(n)?i:t}},ue.expr.attrHandle.id=ue.expr.attrHandle.name=ue.expr.attrHandle.coords=function(e,i,n){var o;return n?t:(o=e.getAttributeNode(i))&&""!==o.value?o.value:null},ue.valHooks.button={get:function(e,i){var n=e.getAttributeNode(i);return n&&n.specified?n.value:t},set:$e.set},ue.attrHooks.contenteditable={set:function(e,t,i){$e.set(e,""===t?!1:t,i)}},ue.each(["width","height"],function(e,i){ue.attrHooks[i]={set:function(e,n){return""===n?(e.setAttribute(i,"auto"),n):t}}})),ue.support.hrefNormalized||ue.each(["href","src"],function(e,t){ue.propHooks[t]={get:function(e){return e.getAttribute(t,4)}}}),ue.support.style||(ue.attrHooks.style={get:function(e){return e.style.cssText||t},set:function(e,t){return e.style.cssText=t+""}}),ue.support.optSelected||(ue.propHooks.selected={get:function(e){var t=e.parentNode;return t&&(t.selectedIndex,t.parentNode&&t.parentNode.selectedIndex),null}}),ue.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){ue.propFix[this.toLowerCase()]=this}),ue.support.enctype||(ue.propFix.enctype="encoding"),ue.each(["radio","checkbox"],function(){ue.valHooks[this]={set:function(e,i){return ue.isArray(i)?e.checked=ue.inArray(ue(e).val(),i)>=0:t}},ue.support.checkOn||(ue.valHooks[this].get=function(e){return null===e.getAttribute("value")?"on":e.value})});var Me=/^(?:input|select|textarea)$/i,Fe=/^key/,Le=/^(?:mouse|contextmenu)|click/,He=/^(?:focusinfocus|focusoutblur)$/,je=/^([^.]*)(?:\.(.+)|)$/;ue.event={global:{},add:function(e,i,n,o,s){var r,a,l,c,u,d,h,p,f,m,g,v=ue._data(e);if(v){for(n.handler&&(c=n,n=c.handler,s=c.selector),n.guid||(n.guid=ue.guid++),(a=v.events)||(a=v.events={}),(d=v.handle)||(d=v.handle=function(e){return typeof ue===V||e&&ue.event.triggered===e.type?t:ue.event.dispatch.apply(d.elem,arguments)},d.elem=e),i=(i||"").match(he)||[""],l=i.length;l--;)r=je.exec(i[l])||[],f=g=r[1],m=(r[2]||"").split(".").sort(),f&&(u=ue.event.special[f]||{},f=(s?u.delegateType:u.bindType)||f,u=ue.event.special[f]||{},h=ue.extend({type:f,origType:g,data:o,handler:n,guid:n.guid,selector:s,needsContext:s&&ue.expr.match.needsContext.test(s),namespace:m.join(".")},c),(p=a[f])||(p=a[f]=[],p.delegateCount=0,u.setup&&u.setup.call(e,o,m,d)!==!1||(e.addEventListener?e.addEventListener(f,d,!1):e.attachEvent&&e.attachEvent("on"+f,d))),u.add&&(u.add.call(e,h),h.handler.guid||(h.handler.guid=n.guid)),s?p.splice(p.delegateCount++,0,h):p.push(h),ue.event.global[f]=!0);e=null}},remove:function(e,t,i,n,o){var s,r,a,l,c,u,d,h,p,f,m,g=ue.hasData(e)&&ue._data(e);if(g&&(u=g.events)){for(t=(t||"").match(he)||[""],c=t.length;c--;)if(a=je.exec(t[c])||[],p=m=a[1],f=(a[2]||"").split(".").sort(),p){for(d=ue.event.special[p]||{},p=(n?d.delegateType:d.bindType)||p,h=u[p]||[],a=a[2]&&RegExp("(^|\\.)"+f.join("\\.(?:.*\\.|)")+"(\\.|$)"),l=s=h.length;s--;)r=h[s],!o&&m!==r.origType||i&&i.guid!==r.guid||a&&!a.test(r.namespace)||n&&n!==r.selector&&("**"!==n||!r.selector)||(h.splice(s,1),r.selector&&h.delegateCount--,d.remove&&d.remove.call(e,r));l&&!h.length&&(d.teardown&&d.teardown.call(e,f,g.handle)!==!1||ue.removeEvent(e,p,g.handle),delete u[p])}else for(p in u)ue.event.remove(e,p+t[c],i,n,!0);ue.isEmptyObject(u)&&(delete g.handle,ue._removeData(e,"events"))}},trigger:function(i,n,o,s){var r,a,l,c,u,d,h,p=[o||Q],f=le.call(i,"type")?i.type:i,m=le.call(i,"namespace")?i.namespace.split("."):[];if(l=d=o=o||Q,3!==o.nodeType&&8!==o.nodeType&&!He.test(f+ue.event.triggered)&&(f.indexOf(".")>=0&&(m=f.split("."),f=m.shift(),m.sort()),a=0>f.indexOf(":")&&"on"+f,i=i[ue.expando]?i:new ue.Event(f,"object"==typeof i&&i),i.isTrigger=s?2:3,i.namespace=m.join("."),i.namespace_re=i.namespace?RegExp("(^|\\.)"+m.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,i.result=t,i.target||(i.target=o),n=null==n?[i]:ue.makeArray(n,[i]),u=ue.event.special[f]||{},s||!u.trigger||u.trigger.apply(o,n)!==!1)){if(!s&&!u.noBubble&&!ue.isWindow(o)){for(c=u.delegateType||f,He.test(c+f)||(l=l.parentNode);l;l=l.parentNode)p.push(l),d=l;d===(o.ownerDocument||Q)&&p.push(d.defaultView||d.parentWindow||e)}for(h=0;(l=p[h++])&&!i.isPropagationStopped();)i.type=h>1?c:u.bindType||f,r=(ue._data(l,"events")||{})[i.type]&&ue._data(l,"handle"),r&&r.apply(l,n),r=a&&l[a],r&&ue.acceptData(l)&&r.apply&&r.apply(l,n)===!1&&i.preventDefault();if(i.type=f,!s&&!i.isDefaultPrevented()&&(!u._default||u._default.apply(p.pop(),n)===!1)&&ue.acceptData(o)&&a&&o[f]&&!ue.isWindow(o)){d=o[a],d&&(o[a]=null),ue.event.triggered=f;try{o[f]()}catch(g){}ue.event.triggered=t,d&&(o[a]=d)}return i.result}},dispatch:function(e){e=ue.event.fix(e);var i,n,o,s,r,a=[],l=se.call(arguments),c=(ue._data(this,"events")||{})[e.type]||[],u=ue.event.special[e.type]||{};if(l[0]=e,e.delegateTarget=this,!u.preDispatch||u.preDispatch.call(this,e)!==!1){for(a=ue.event.handlers.call(this,e,c),i=0;(s=a[i++])&&!e.isPropagationStopped();)for(e.currentTarget=s.elem,r=0;(o=s.handlers[r++])&&!e.isImmediatePropagationStopped();)(!e.namespace_re||e.namespace_re.test(o.namespace))&&(e.handleObj=o,e.data=o.data,n=((ue.event.special[o.origType]||{}).handle||o.handler).apply(s.elem,l),n!==t&&(e.result=n)===!1&&(e.preventDefault(),e.stopPropagation()));return u.postDispatch&&u.postDispatch.call(this,e),e.result}},handlers:function(e,i){var n,o,s,r,a=[],l=i.delegateCount,c=e.target;if(l&&c.nodeType&&(!e.button||"click"!==e.type))for(;c!=this;c=c.parentNode||this)if(1===c.nodeType&&(c.disabled!==!0||"click"!==e.type)){for(s=[],r=0;l>r;r++)o=i[r],n=o.selector+" ",s[n]===t&&(s[n]=o.needsContext?ue(n,this).index(c)>=0:ue.find(n,this,null,[c]).length),s[n]&&s.push(o);s.length&&a.push({elem:c,handlers:s})}return i.length>l&&a.push({elem:this,handlers:i.slice(l)}),a},fix:function(e){if(e[ue.expando])return e;var t,i,n,o=e.type,s=e,r=this.fixHooks[o];for(r||(this.fixHooks[o]=r=Le.test(o)?this.mouseHooks:Fe.test(o)?this.keyHooks:{}),n=r.props?this.props.concat(r.props):this.props,e=new ue.Event(s),t=n.length;t--;)i=n[t],e[i]=s[i];return e.target||(e.target=s.srcElement||Q),3===e.target.nodeType&&(e.target=e.target.parentNode),e.metaKey=!!e.metaKey,r.filter?r.filter(e,s):e},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(e,t){return null==e.which&&(e.which=null!=t.charCode?t.charCode:t.keyCode),e}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(e,i){var n,o,s,r=i.button,a=i.fromElement;return null==e.pageX&&null!=i.clientX&&(o=e.target.ownerDocument||Q,s=o.documentElement,n=o.body,e.pageX=i.clientX+(s&&s.scrollLeft||n&&n.scrollLeft||0)-(s&&s.clientLeft||n&&n.clientLeft||0),e.pageY=i.clientY+(s&&s.scrollTop||n&&n.scrollTop||0)-(s&&s.clientTop||n&&n.clientTop||0)),!e.relatedTarget&&a&&(e.relatedTarget=a===e.target?i.toElement:a),e.which||r===t||(e.which=1&r?1:2&r?3:4&r?2:0),e}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==u()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===u()&&this.blur?(this.blur(),!1):t},delegateType:"focusout"},click:{trigger:function(){return ue.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):t},_default:function(e){return ue.nodeName(e.target,"a")}},beforeunload:{postDispatch:function(e){e.result!==t&&(e.originalEvent.returnValue=e.result)}}},simulate:function(e,t,i,n){var o=ue.extend(new ue.Event,i,{type:e,isSimulated:!0,originalEvent:{}});n?ue.event.trigger(o,null,t):ue.event.dispatch.call(t,o),o.isDefaultPrevented()&&i.preventDefault()}},ue.removeEvent=Q.removeEventListener?function(e,t,i){e.removeEventListener&&e.removeEventListener(t,i,!1)}:function(e,t,i){var n="on"+t;e.detachEvent&&(typeof e[n]===V&&(e[n]=null),e.detachEvent(n,i))},ue.Event=function(e,i){return this instanceof ue.Event?(e&&e.type?(this.originalEvent=e,this.type=e.type,this.isDefaultPrevented=e.defaultPrevented||e.returnValue===!1||e.getPreventDefault&&e.getPreventDefault()?l:c):this.type=e,i&&ue.extend(this,i),this.timeStamp=e&&e.timeStamp||ue.now(),this[ue.expando]=!0,t):new ue.Event(e,i)},ue.Event.prototype={isDefaultPrevented:c,isPropagationStopped:c,isImmediatePropagationStopped:c,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=l,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=l,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=l,this.stopPropagation()}},ue.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(e,t){ue.event.special[e]={delegateType:t,bindType:t,handle:function(e){var i,n=this,o=e.relatedTarget,s=e.handleObj;return(!o||o!==n&&!ue.contains(n,o))&&(e.type=s.origType,i=s.handler.apply(this,arguments),e.type=t),i}}}),ue.support.submitBubbles||(ue.event.special.submit={setup:function(){return ue.nodeName(this,"form")?!1:(ue.event.add(this,"click._submit keypress._submit",function(e){var i=e.target,n=ue.nodeName(i,"input")||ue.nodeName(i,"button")?i.form:t;n&&!ue._data(n,"submitBubbles")&&(ue.event.add(n,"submit._submit",function(e){e._submit_bubble=!0}),ue._data(n,"submitBubbles",!0))}),t)},postDispatch:function(e){e._submit_bubble&&(delete e._submit_bubble,this.parentNode&&!e.isTrigger&&ue.event.simulate("submit",this.parentNode,e,!0))},teardown:function(){return ue.nodeName(this,"form")?!1:(ue.event.remove(this,"._submit"),t)}}),ue.support.changeBubbles||(ue.event.special.change={setup:function(){return Me.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(ue.event.add(this,"propertychange._change",function(e){"checked"===e.originalEvent.propertyName&&(this._just_changed=!0)}),ue.event.add(this,"click._change",function(e){this._just_changed&&!e.isTrigger&&(this._just_changed=!1),ue.event.simulate("change",this,e,!0)})),!1):(ue.event.add(this,"beforeactivate._change",function(e){var t=e.target;Me.test(t.nodeName)&&!ue._data(t,"changeBubbles")&&(ue.event.add(t,"change._change",function(e){!this.parentNode||e.isSimulated||e.isTrigger||ue.event.simulate("change",this.parentNode,e,!0)}),ue._data(t,"changeBubbles",!0))}),t)},handle:function(e){var i=e.target;return this!==i||e.isSimulated||e.isTrigger||"radio"!==i.type&&"checkbox"!==i.type?e.handleObj.handler.apply(this,arguments):t},teardown:function(){return ue.event.remove(this,"._change"),!Me.test(this.nodeName)}}),ue.support.focusinBubbles||ue.each({focus:"focusin",blur:"focusout"},function(e,t){var i=0,n=function(e){ue.event.simulate(t,e.target,ue.event.fix(e),!0)};ue.event.special[t]={setup:function(){0===i++&&Q.addEventListener(e,n,!0)},teardown:function(){0===--i&&Q.removeEventListener(e,n,!0)}}}),ue.fn.extend({on:function(e,i,n,o,s){var r,a;if("object"==typeof e){"string"!=typeof i&&(n=n||i,i=t);for(r in e)this.on(r,i,n,e[r],s);return this}if(null==n&&null==o?(o=i,n=i=t):null==o&&("string"==typeof i?(o=n,n=t):(o=n,n=i,i=t)),o===!1)o=c;else if(!o)return this;return 1===s&&(a=o,o=function(e){return ue().off(e),a.apply(this,arguments)},o.guid=a.guid||(a.guid=ue.guid++)),this.each(function(){ue.event.add(this,e,o,n,i)})},one:function(e,t,i,n){return this.on(e,t,i,n,1)},off:function(e,i,n){var o,s;if(e&&e.preventDefault&&e.handleObj)return o=e.handleObj,ue(e.delegateTarget).off(o.namespace?o.origType+"."+o.namespace:o.origType,o.selector,o.handler),this;if("object"==typeof e){for(s in e)this.off(s,i,e[s]);return this}return(i===!1||"function"==typeof i)&&(n=i,i=t),n===!1&&(n=c),this.each(function(){ue.event.remove(this,e,n,i)})},trigger:function(e,t){return this.each(function(){ue.event.trigger(e,t,this)})},triggerHandler:function(e,i){var n=this[0];return n?ue.event.trigger(e,i,n,!0):t}});var Ue=/^.[^:#\[\.,]*$/,Be=/^(?:parents|prev(?:Until|All))/,We=ue.expr.match.needsContext,qe={children:!0,contents:!0,next:!0,prev:!0};ue.fn.extend({find:function(e){var t,i=[],n=this,o=n.length;if("string"!=typeof e)return this.pushStack(ue(e).filter(function(){for(t=0;o>t;t++)if(ue.contains(n[t],this))return!0}));for(t=0;o>t;t++)ue.find(e,n[t],i);return i=this.pushStack(o>1?ue.unique(i):i),i.selector=this.selector?this.selector+" "+e:e,i},has:function(e){var t,i=ue(e,this),n=i.length;return this.filter(function(){for(t=0;n>t;t++)if(ue.contains(this,i[t]))return!0})},not:function(e){return this.pushStack(h(this,e||[],!0))},filter:function(e){return this.pushStack(h(this,e||[],!1))},is:function(e){return!!h(this,"string"==typeof e&&We.test(e)?ue(e):e||[],!1).length},closest:function(e,t){for(var i,n=0,o=this.length,s=[],r=We.test(e)||"string"!=typeof e?ue(e,t||this.context):0;o>n;n++)for(i=this[n];i&&i!==t;i=i.parentNode)if(11>i.nodeType&&(r?r.index(i)>-1:1===i.nodeType&&ue.find.matchesSelector(i,e))){i=s.push(i);break}return this.pushStack(s.length>1?ue.unique(s):s)},index:function(e){return e?"string"==typeof e?ue.inArray(this[0],ue(e)):ue.inArray(e.jquery?e[0]:e,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(e,t){var i="string"==typeof e?ue(e,t):ue.makeArray(e&&e.nodeType?[e]:e),n=ue.merge(this.get(),i);return this.pushStack(ue.unique(n))},addBack:function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}}),ue.each({parent:function(e){var t=e.parentNode;return t&&11!==t.nodeType?t:null},parents:function(e){return ue.dir(e,"parentNode")},parentsUntil:function(e,t,i){return ue.dir(e,"parentNode",i)},next:function(e){return d(e,"nextSibling")},prev:function(e){return d(e,"previousSibling")},nextAll:function(e){return ue.dir(e,"nextSibling")},prevAll:function(e){return ue.dir(e,"previousSibling")},nextUntil:function(e,t,i){return ue.dir(e,"nextSibling",i)},prevUntil:function(e,t,i){return ue.dir(e,"previousSibling",i)},siblings:function(e){return ue.sibling((e.parentNode||{}).firstChild,e)},children:function(e){return ue.sibling(e.firstChild)},contents:function(e){return ue.nodeName(e,"iframe")?e.contentDocument||e.contentWindow.document:ue.merge([],e.childNodes)}},function(e,t){ue.fn[e]=function(i,n){var o=ue.map(this,t,i);return"Until"!==e.slice(-5)&&(n=i),n&&"string"==typeof n&&(o=ue.filter(n,o)),this.length>1&&(qe[e]||(o=ue.unique(o)),Be.test(e)&&(o=o.reverse())),this.pushStack(o)}}),ue.extend({filter:function(e,t,i){var n=t[0];return i&&(e=":not("+e+")"),1===t.length&&1===n.nodeType?ue.find.matchesSelector(n,e)?[n]:[]:ue.find.matches(e,ue.grep(t,function(e){return 1===e.nodeType}))},dir:function(e,i,n){for(var o=[],s=e[i];s&&9!==s.nodeType&&(n===t||1!==s.nodeType||!ue(s).is(n));)1===s.nodeType&&o.push(s),s=s[i];return o},sibling:function(e,t){for(var i=[];e;e=e.nextSibling)1===e.nodeType&&e!==t&&i.push(e);return i}});var Xe="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",Ge=/ jQuery\d+="(?:null|\d+)"/g,Ve=RegExp("<(?:"+Xe+")[\\s/>]","i"),Ye=/^\s+/,Qe=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,Ke=/<([\w:]+)/,Je=/<tbody/i,Ze=/<|&#?\w+;/,et=/<(?:script|style|link)/i,tt=/^(?:checkbox|radio)$/i,it=/checked\s*(?:[^=]|=\s*.checked.)/i,nt=/^$|\/(?:java|ecma)script/i,ot=/^true\/(.*)/,st=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,rt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:ue.support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},at=p(Q),lt=at.appendChild(Q.createElement("div"));rt.optgroup=rt.option,rt.tbody=rt.tfoot=rt.colgroup=rt.caption=rt.thead,rt.th=rt.td,ue.fn.extend({text:function(e){return ue.access(this,function(e){
return e===t?ue.text(this):this.empty().append((this[0]&&this[0].ownerDocument||Q).createTextNode(e))},null,e,arguments.length)},append:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.appendChild(e)}})},prepend:function(){return this.domManip(arguments,function(e){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var t=f(this,e);t.insertBefore(e,t.firstChild)}})},before:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this)})},after:function(){return this.domManip(arguments,function(e){this.parentNode&&this.parentNode.insertBefore(e,this.nextSibling)})},remove:function(e,t){for(var i,n=e?ue.filter(e,this):this,o=0;null!=(i=n[o]);o++)t||1!==i.nodeType||ue.cleanData(w(i)),i.parentNode&&(t&&ue.contains(i.ownerDocument,i)&&v(w(i,"script")),i.parentNode.removeChild(i));return this},empty:function(){for(var e,t=0;null!=(e=this[t]);t++){for(1===e.nodeType&&ue.cleanData(w(e,!1));e.firstChild;)e.removeChild(e.firstChild);e.options&&ue.nodeName(e,"select")&&(e.options.length=0)}return this},clone:function(e,t){return e=null==e?!1:e,t=null==t?e:t,this.map(function(){return ue.clone(this,e,t)})},html:function(e){return ue.access(this,function(e){var i=this[0]||{},n=0,o=this.length;if(e===t)return 1===i.nodeType?i.innerHTML.replace(Ge,""):t;if(!("string"!=typeof e||et.test(e)||!ue.support.htmlSerialize&&Ve.test(e)||!ue.support.leadingWhitespace&&Ye.test(e)||rt[(Ke.exec(e)||["",""])[1].toLowerCase()])){e=e.replace(Qe,"<$1></$2>");try{for(;o>n;n++)i=this[n]||{},1===i.nodeType&&(ue.cleanData(w(i,!1)),i.innerHTML=e);i=0}catch(s){}}i&&this.empty().append(e)},null,e,arguments.length)},replaceWith:function(){var e=ue.map(this,function(e){return[e.nextSibling,e.parentNode]}),t=0;return this.domManip(arguments,function(i){var n=e[t++],o=e[t++];o&&(n&&n.parentNode!==o&&(n=this.nextSibling),ue(this).remove(),o.insertBefore(i,n))},!0),t?this:this.remove()},detach:function(e){return this.remove(e,!0)},domManip:function(e,t,i){e=ne.apply([],e);var n,o,s,r,a,l,c=0,u=this.length,d=this,h=u-1,p=e[0],f=ue.isFunction(p);if(f||!(1>=u||"string"!=typeof p||ue.support.checkClone)&&it.test(p))return this.each(function(n){var o=d.eq(n);f&&(e[0]=p.call(this,n,o.html())),o.domManip(e,t,i)});if(u&&(l=ue.buildFragment(e,this[0].ownerDocument,!1,!i&&this),n=l.firstChild,1===l.childNodes.length&&(l=n),n)){for(r=ue.map(w(l,"script"),m),s=r.length;u>c;c++)o=l,c!==h&&(o=ue.clone(o,!0,!0),s&&ue.merge(r,w(o,"script"))),t.call(this[c],o,c);if(s)for(a=r[r.length-1].ownerDocument,ue.map(r,g),c=0;s>c;c++)o=r[c],nt.test(o.type||"")&&!ue._data(o,"globalEval")&&ue.contains(a,o)&&(o.src?ue._evalUrl(o.src):ue.globalEval((o.text||o.textContent||o.innerHTML||"").replace(st,"")));l=n=null}return this}}),ue.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(e,t){ue.fn[e]=function(e){for(var i,n=0,o=[],s=ue(e),r=s.length-1;r>=n;n++)i=n===r?this:this.clone(!0),ue(s[n])[t](i),oe.apply(o,i.get());return this.pushStack(o)}}),ue.extend({clone:function(e,t,i){var n,o,s,r,a,l=ue.contains(e.ownerDocument,e);if(ue.support.html5Clone||ue.isXMLDoc(e)||!Ve.test("<"+e.nodeName+">")?s=e.cloneNode(!0):(lt.innerHTML=e.outerHTML,lt.removeChild(s=lt.firstChild)),!(ue.support.noCloneEvent&&ue.support.noCloneChecked||1!==e.nodeType&&11!==e.nodeType||ue.isXMLDoc(e)))for(n=w(s),a=w(e),r=0;null!=(o=a[r]);++r)n[r]&&y(o,n[r]);if(t)if(i)for(a=a||w(e),n=n||w(s),r=0;null!=(o=a[r]);r++)b(o,n[r]);else b(e,s);return n=w(s,"script"),n.length>0&&v(n,!l&&w(e,"script")),n=a=o=null,s},buildFragment:function(e,t,i,n){for(var o,s,r,a,l,c,u,d=e.length,h=p(t),f=[],m=0;d>m;m++)if(s=e[m],s||0===s)if("object"===ue.type(s))ue.merge(f,s.nodeType?[s]:s);else if(Ze.test(s)){for(a=a||h.appendChild(t.createElement("div")),l=(Ke.exec(s)||["",""])[1].toLowerCase(),u=rt[l]||rt._default,a.innerHTML=u[1]+s.replace(Qe,"<$1></$2>")+u[2],o=u[0];o--;)a=a.lastChild;if(!ue.support.leadingWhitespace&&Ye.test(s)&&f.push(t.createTextNode(Ye.exec(s)[0])),!ue.support.tbody)for(s="table"!==l||Je.test(s)?"<table>"!==u[1]||Je.test(s)?0:a:a.firstChild,o=s&&s.childNodes.length;o--;)ue.nodeName(c=s.childNodes[o],"tbody")&&!c.childNodes.length&&s.removeChild(c);for(ue.merge(f,a.childNodes),a.textContent="";a.firstChild;)a.removeChild(a.firstChild);a=h.lastChild}else f.push(t.createTextNode(s));for(a&&h.removeChild(a),ue.support.appendChecked||ue.grep(w(f,"input"),_),m=0;s=f[m++];)if((!n||-1===ue.inArray(s,n))&&(r=ue.contains(s.ownerDocument,s),a=w(h.appendChild(s),"script"),r&&v(a),i))for(o=0;s=a[o++];)nt.test(s.type||"")&&i.push(s);return a=null,h},cleanData:function(e,t){for(var i,n,o,s,r=0,a=ue.expando,l=ue.cache,c=ue.support.deleteExpando,u=ue.event.special;null!=(i=e[r]);r++)if((t||ue.acceptData(i))&&(o=i[a],s=o&&l[o])){if(s.events)for(n in s.events)u[n]?ue.event.remove(i,n):ue.removeEvent(i,n,s.handle);l[o]&&(delete l[o],c?delete i[a]:typeof i.removeAttribute!==V?i.removeAttribute(a):i[a]=null,te.push(o))}},_evalUrl:function(e){return ue.ajax({url:e,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})}}),ue.fn.extend({wrapAll:function(e){if(ue.isFunction(e))return this.each(function(t){ue(this).wrapAll(e.call(this,t))});if(this[0]){var t=ue(e,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&t.insertBefore(this[0]),t.map(function(){for(var e=this;e.firstChild&&1===e.firstChild.nodeType;)e=e.firstChild;return e}).append(this)}return this},wrapInner:function(e){return ue.isFunction(e)?this.each(function(t){ue(this).wrapInner(e.call(this,t))}):this.each(function(){var t=ue(this),i=t.contents();i.length?i.wrapAll(e):t.append(e)})},wrap:function(e){var t=ue.isFunction(e);return this.each(function(i){ue(this).wrapAll(t?e.call(this,i):e)})},unwrap:function(){return this.parent().each(function(){ue.nodeName(this,"body")||ue(this).replaceWith(this.childNodes)}).end()}});var ct,ut,dt,ht=/alpha\([^)]*\)/i,pt=/opacity\s*=\s*([^)]*)/,ft=/^(top|right|bottom|left)$/,mt=/^(none|table(?!-c[ea]).+)/,gt=/^margin/,vt=RegExp("^("+de+")(.*)$","i"),bt=RegExp("^("+de+")(?!px)[a-z%]+$","i"),yt=RegExp("^([+-])=("+de+")","i"),wt={BODY:"block"},_t={position:"absolute",visibility:"hidden",display:"block"},xt={letterSpacing:0,fontWeight:400},Ct=["Top","Right","Bottom","Left"],Et=["Webkit","O","Moz","ms"];ue.fn.extend({css:function(e,i){return ue.access(this,function(e,i,n){var o,s,r={},a=0;if(ue.isArray(i)){for(s=ut(e),o=i.length;o>a;a++)r[i[a]]=ue.css(e,i[a],!1,s);return r}return n!==t?ue.style(e,i,n):ue.css(e,i)},e,i,arguments.length>1)},show:function(){return E(this,!0)},hide:function(){return E(this)},toggle:function(e){return"boolean"==typeof e?e?this.show():this.hide():this.each(function(){C(this)?ue(this).show():ue(this).hide()})}}),ue.extend({cssHooks:{opacity:{get:function(e,t){if(t){var i=dt(e,"opacity");return""===i?"1":i}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":ue.support.cssFloat?"cssFloat":"styleFloat"},style:function(e,i,n,o){if(e&&3!==e.nodeType&&8!==e.nodeType&&e.style){var s,r,a,l=ue.camelCase(i),c=e.style;if(i=ue.cssProps[l]||(ue.cssProps[l]=x(c,l)),a=ue.cssHooks[i]||ue.cssHooks[l],n===t)return a&&"get"in a&&(s=a.get(e,!1,o))!==t?s:c[i];if(r=typeof n,"string"===r&&(s=yt.exec(n))&&(n=(s[1]+1)*s[2]+parseFloat(ue.css(e,i)),r="number"),!(null==n||"number"===r&&isNaN(n)||("number"!==r||ue.cssNumber[l]||(n+="px"),ue.support.clearCloneStyle||""!==n||0!==i.indexOf("background")||(c[i]="inherit"),a&&"set"in a&&(n=a.set(e,n,o))===t)))try{c[i]=n}catch(u){}}},css:function(e,i,n,o){var s,r,a,l=ue.camelCase(i);return i=ue.cssProps[l]||(ue.cssProps[l]=x(e.style,l)),a=ue.cssHooks[i]||ue.cssHooks[l],a&&"get"in a&&(r=a.get(e,!0,n)),r===t&&(r=dt(e,i,o)),"normal"===r&&i in xt&&(r=xt[i]),""===n||n?(s=parseFloat(r),n===!0||ue.isNumeric(s)?s||0:r):r}}),e.getComputedStyle?(ut=function(t){return e.getComputedStyle(t,null)},dt=function(e,i,n){var o,s,r,a=n||ut(e),l=a?a.getPropertyValue(i)||a[i]:t,c=e.style;return a&&(""!==l||ue.contains(e.ownerDocument,e)||(l=ue.style(e,i)),bt.test(l)&&gt.test(i)&&(o=c.width,s=c.minWidth,r=c.maxWidth,c.minWidth=c.maxWidth=c.width=l,l=a.width,c.width=o,c.minWidth=s,c.maxWidth=r)),l}):Q.documentElement.currentStyle&&(ut=function(e){return e.currentStyle},dt=function(e,i,n){var o,s,r,a=n||ut(e),l=a?a[i]:t,c=e.style;return null==l&&c&&c[i]&&(l=c[i]),bt.test(l)&&!ft.test(i)&&(o=c.left,s=e.runtimeStyle,r=s&&s.left,r&&(s.left=e.currentStyle.left),c.left="fontSize"===i?"1em":l,l=c.pixelLeft+"px",c.left=o,r&&(s.left=r)),""===l?"auto":l}),ue.each(["height","width"],function(e,i){ue.cssHooks[i]={get:function(e,n,o){return n?0===e.offsetWidth&&mt.test(ue.css(e,"display"))?ue.swap(e,_t,function(){return S(e,i,o)}):S(e,i,o):t},set:function(e,t,n){var o=n&&ut(e);return T(e,t,n?k(e,i,n,ue.support.boxSizing&&"border-box"===ue.css(e,"boxSizing",!1,o),o):0)}}}),ue.support.opacity||(ue.cssHooks.opacity={get:function(e,t){return pt.test((t&&e.currentStyle?e.currentStyle.filter:e.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":t?"1":""},set:function(e,t){var i=e.style,n=e.currentStyle,o=ue.isNumeric(t)?"alpha(opacity="+100*t+")":"",s=n&&n.filter||i.filter||"";i.zoom=1,(t>=1||""===t)&&""===ue.trim(s.replace(ht,""))&&i.removeAttribute&&(i.removeAttribute("filter"),""===t||n&&!n.filter)||(i.filter=ht.test(s)?s.replace(ht,o):s+" "+o)}}),ue(function(){ue.support.reliableMarginRight||(ue.cssHooks.marginRight={get:function(e,i){return i?ue.swap(e,{display:"inline-block"},dt,[e,"marginRight"]):t}}),!ue.support.pixelPosition&&ue.fn.position&&ue.each(["top","left"],function(e,i){ue.cssHooks[i]={get:function(e,n){return n?(n=dt(e,i),bt.test(n)?ue(e).position()[i]+"px":n):t}}})}),ue.expr&&ue.expr.filters&&(ue.expr.filters.hidden=function(e){return 0>=e.offsetWidth&&0>=e.offsetHeight||!ue.support.reliableHiddenOffsets&&"none"===(e.style&&e.style.display||ue.css(e,"display"))},ue.expr.filters.visible=function(e){return!ue.expr.filters.hidden(e)}),ue.each({margin:"",padding:"",border:"Width"},function(e,t){ue.cssHooks[e+t]={expand:function(i){for(var n=0,o={},s="string"==typeof i?i.split(" "):[i];4>n;n++)o[e+Ct[n]+t]=s[n]||s[n-2]||s[0];return o}},gt.test(e)||(ue.cssHooks[e+t].set=T)});var Tt=/%20/g,kt=/\[\]$/,St=/\r?\n/g,$t=/^(?:submit|button|image|reset|file)$/i,Dt=/^(?:input|select|textarea|keygen)/i;ue.fn.extend({serialize:function(){return ue.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var e=ue.prop(this,"elements");return e?ue.makeArray(e):this}).filter(function(){var e=this.type;return this.name&&!ue(this).is(":disabled")&&Dt.test(this.nodeName)&&!$t.test(e)&&(this.checked||!tt.test(e))}).map(function(e,t){var i=ue(this).val();return null==i?null:ue.isArray(i)?ue.map(i,function(e){return{name:t.name,value:e.replace(St,"\r\n")}}):{name:t.name,value:i.replace(St,"\r\n")}}).get()}}),ue.param=function(e,i){var n,o=[],s=function(e,t){t=ue.isFunction(t)?t():null==t?"":t,o[o.length]=encodeURIComponent(e)+"="+encodeURIComponent(t)};if(i===t&&(i=ue.ajaxSettings&&ue.ajaxSettings.traditional),ue.isArray(e)||e.jquery&&!ue.isPlainObject(e))ue.each(e,function(){s(this.name,this.value)});else for(n in e)I(n,e[n],i,s);return o.join("&").replace(Tt,"+")},ue.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(e,t){ue.fn[t]=function(e,i){return arguments.length>0?this.on(t,null,e,i):this.trigger(t)}}),ue.fn.extend({hover:function(e,t){return this.mouseenter(e).mouseleave(t||e)},bind:function(e,t,i){return this.on(e,null,t,i)},unbind:function(e,t){return this.off(e,null,t)},delegate:function(e,t,i,n){return this.on(t,e,i,n)},undelegate:function(e,t,i){return 1===arguments.length?this.off(e,"**"):this.off(t,e||"**",i)}});var It,At,Rt=ue.now(),Ot=/\?/,Nt=/#.*$/,Pt=/([?&])_=[^&]*/,zt=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Mt=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,Ft=/^(?:GET|HEAD)$/,Lt=/^\/\//,Ht=/^([\w.+-]+:)(?:\/\/([^\/?#:]*)(?::(\d+)|)|)/,jt=ue.fn.load,Ut={},Bt={},Wt="*/".concat("*");try{At=Y.href}catch(qt){At=Q.createElement("a"),At.href="",At=At.href}It=Ht.exec(At.toLowerCase())||[],ue.fn.load=function(e,i,n){if("string"!=typeof e&&jt)return jt.apply(this,arguments);var o,s,r,a=this,l=e.indexOf(" ");return l>=0&&(o=e.slice(l,e.length),e=e.slice(0,l)),ue.isFunction(i)?(n=i,i=t):i&&"object"==typeof i&&(r="POST"),a.length>0&&ue.ajax({url:e,type:r,dataType:"html",data:i}).done(function(e){s=arguments,a.html(o?ue("<div>").append(ue.parseHTML(e)).find(o):e)}).complete(n&&function(e,t){a.each(n,s||[e.responseText,t,e])}),this},ue.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(e,t){ue.fn[t]=function(e){return this.on(t,e)}}),ue.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:At,type:"GET",isLocal:Mt.test(It[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":Wt,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":ue.parseJSON,"text xml":ue.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(e,t){return t?O(O(e,ue.ajaxSettings),t):O(ue.ajaxSettings,e)},ajaxPrefilter:A(Ut),ajaxTransport:A(Bt),ajax:function(e,i){function n(e,i,n,o){var s,d,b,y,_,C=i;2!==w&&(w=2,l&&clearTimeout(l),u=t,a=o||"",x.readyState=e>0?4:0,s=e>=200&&300>e||304===e,n&&(y=N(h,x,n)),y=P(h,y,x,s),s?(h.ifModified&&(_=x.getResponseHeader("Last-Modified"),_&&(ue.lastModified[r]=_),_=x.getResponseHeader("etag"),_&&(ue.etag[r]=_)),204===e||"HEAD"===h.type?C="nocontent":304===e?C="notmodified":(C=y.state,d=y.data,b=y.error,s=!b)):(b=C,(e||!C)&&(C="error",0>e&&(e=0))),x.status=e,x.statusText=(i||C)+"",s?m.resolveWith(p,[d,C,x]):m.rejectWith(p,[x,C,b]),x.statusCode(v),v=t,c&&f.trigger(s?"ajaxSuccess":"ajaxError",[x,h,s?d:b]),g.fireWith(p,[x,C]),c&&(f.trigger("ajaxComplete",[x,h]),--ue.active||ue.event.trigger("ajaxStop")))}"object"==typeof e&&(i=e,e=t),i=i||{};var o,s,r,a,l,c,u,d,h=ue.ajaxSetup({},i),p=h.context||h,f=h.context&&(p.nodeType||p.jquery)?ue(p):ue.event,m=ue.Deferred(),g=ue.Callbacks("once memory"),v=h.statusCode||{},b={},y={},w=0,_="canceled",x={readyState:0,getResponseHeader:function(e){var t;if(2===w){if(!d)for(d={};t=zt.exec(a);)d[t[1].toLowerCase()]=t[2];t=d[e.toLowerCase()]}return null==t?null:t},getAllResponseHeaders:function(){return 2===w?a:null},setRequestHeader:function(e,t){var i=e.toLowerCase();return w||(e=y[i]=y[i]||e,b[e]=t),this},overrideMimeType:function(e){return w||(h.mimeType=e),this},statusCode:function(e){var t;if(e)if(2>w)for(t in e)v[t]=[v[t],e[t]];else x.always(e[x.status]);return this},abort:function(e){var t=e||_;return u&&u.abort(t),n(0,t),this}};if(m.promise(x).complete=g.add,x.success=x.done,x.error=x.fail,h.url=((e||h.url||At)+"").replace(Nt,"").replace(Lt,It[1]+"//"),h.type=i.method||i.type||h.method||h.type,h.dataTypes=ue.trim(h.dataType||"*").toLowerCase().match(he)||[""],null==h.crossDomain&&(o=Ht.exec(h.url.toLowerCase()),h.crossDomain=!(!o||o[1]===It[1]&&o[2]===It[2]&&(o[3]||("http:"===o[1]?"80":"443"))===(It[3]||("http:"===It[1]?"80":"443")))),h.data&&h.processData&&"string"!=typeof h.data&&(h.data=ue.param(h.data,h.traditional)),R(Ut,h,i,x),2===w)return x;c=h.global,c&&0===ue.active++&&ue.event.trigger("ajaxStart"),h.type=h.type.toUpperCase(),h.hasContent=!Ft.test(h.type),r=h.url,h.hasContent||(h.data&&(r=h.url+=(Ot.test(r)?"&":"?")+h.data,delete h.data),h.cache===!1&&(h.url=Pt.test(r)?r.replace(Pt,"$1_="+Rt++):r+(Ot.test(r)?"&":"?")+"_="+Rt++)),h.ifModified&&(ue.lastModified[r]&&x.setRequestHeader("If-Modified-Since",ue.lastModified[r]),ue.etag[r]&&x.setRequestHeader("If-None-Match",ue.etag[r])),(h.data&&h.hasContent&&h.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",h.contentType),x.setRequestHeader("Accept",h.dataTypes[0]&&h.accepts[h.dataTypes[0]]?h.accepts[h.dataTypes[0]]+("*"!==h.dataTypes[0]?", "+Wt+"; q=0.01":""):h.accepts["*"]);for(s in h.headers)x.setRequestHeader(s,h.headers[s]);if(h.beforeSend&&(h.beforeSend.call(p,x,h)===!1||2===w))return x.abort();_="abort";for(s in{success:1,error:1,complete:1})x[s](h[s]);if(u=R(Bt,h,i,x)){x.readyState=1,c&&f.trigger("ajaxSend",[x,h]),h.async&&h.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},h.timeout));try{w=1,u.send(b,n)}catch(C){if(!(2>w))throw C;n(-1,C)}}else n(-1,"No Transport");return x},getJSON:function(e,t,i){return ue.get(e,t,i,"json")},getScript:function(e,i){return ue.get(e,t,i,"script")}}),ue.each(["get","post"],function(e,i){ue[i]=function(e,n,o,s){return ue.isFunction(n)&&(s=s||o,o=n,n=t),ue.ajax({url:e,type:i,dataType:s,data:n,success:o})}}),ue.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(e){return ue.globalEval(e),e}}}),ue.ajaxPrefilter("script",function(e){e.cache===t&&(e.cache=!1),e.crossDomain&&(e.type="GET",e.global=!1)}),ue.ajaxTransport("script",function(e){if(e.crossDomain){var i,n=Q.head||ue("head")[0]||Q.documentElement;return{send:function(t,o){i=Q.createElement("script"),i.async=!0,e.scriptCharset&&(i.charset=e.scriptCharset),i.src=e.url,i.onload=i.onreadystatechange=function(e,t){(t||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),i=null,t||o(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(t,!0)}}}});var Xt=[],Gt=/(=)\?(?=&|$)|\?\?/;ue.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var e=Xt.pop()||ue.expando+"_"+Rt++;return this[e]=!0,e}}),ue.ajaxPrefilter("json jsonp",function(i,n,o){var s,r,a,l=i.jsonp!==!1&&(Gt.test(i.url)?"url":"string"==typeof i.data&&!(i.contentType||"").indexOf("application/x-www-form-urlencoded")&&Gt.test(i.data)&&"data");return l||"jsonp"===i.dataTypes[0]?(s=i.jsonpCallback=ue.isFunction(i.jsonpCallback)?i.jsonpCallback():i.jsonpCallback,l?i[l]=i[l].replace(Gt,"$1"+s):i.jsonp!==!1&&(i.url+=(Ot.test(i.url)?"&":"?")+i.jsonp+"="+s),i.converters["script json"]=function(){return a||ue.error(s+" was not called"),a[0]},i.dataTypes[0]="json",r=e[s],e[s]=function(){a=arguments},o.always(function(){e[s]=r,i[s]&&(i.jsonpCallback=n.jsonpCallback,Xt.push(s)),a&&ue.isFunction(r)&&r(a[0]),a=r=t}),"script"):t});var Vt,Yt,Qt=0,Kt=e.ActiveXObject&&function(){var e;for(e in Vt)Vt[e](t,!0)};ue.ajaxSettings.xhr=e.ActiveXObject?function(){return!this.isLocal&&z()||M()}:z,Yt=ue.ajaxSettings.xhr(),ue.support.cors=!!Yt&&"withCredentials"in Yt,Yt=ue.support.ajax=!!Yt,Yt&&ue.ajaxTransport(function(i){if(!i.crossDomain||ue.support.cors){var n;return{send:function(o,s){var r,a,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(a in i.xhrFields)l[a]=i.xhrFields[a];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||o["X-Requested-With"]||(o["X-Requested-With"]="XMLHttpRequest");try{for(a in o)l.setRequestHeader(a,o[a])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(e,o){var a,c,u,d;try{if(n&&(o||4===l.readyState))if(n=t,r&&(l.onreadystatechange=ue.noop,Kt&&delete Vt[r]),o)4!==l.readyState&&l.abort();else{d={},a=l.status,c=l.getAllResponseHeaders(),"string"==typeof l.responseText&&(d.text=l.responseText);try{u=l.statusText}catch(h){u=""}a||!i.isLocal||i.crossDomain?1223===a&&(a=204):a=d.text?200:404}}catch(p){o||s(-1,p)}d&&s(a,u,d,c)},i.async?4===l.readyState?setTimeout(n):(r=++Qt,Kt&&(Vt||(Vt={},ue(e).unload(Kt)),Vt[r]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(t,!0)}}}});var Jt,Zt,ei=/^(?:toggle|show|hide)$/,ti=RegExp("^(?:([+-])=|)("+de+")([a-z%]*)$","i"),ii=/queueHooks$/,ni=[U],oi={"*":[function(e,t){var i=this.createTween(e,t),n=i.cur(),o=ti.exec(t),s=o&&o[3]||(ue.cssNumber[e]?"":"px"),r=(ue.cssNumber[e]||"px"!==s&&+n)&&ti.exec(ue.css(i.elem,e)),a=1,l=20;if(r&&r[3]!==s){s=s||r[3],o=o||[],r=+n||1;do a=a||".5",r/=a,ue.style(i.elem,e,r+s);while(a!==(a=i.cur()/n)&&1!==a&&--l)}return o&&(r=i.start=+r||+n||0,i.unit=s,i.end=o[1]?r+(o[1]+1)*o[2]:+o[2]),i}]};ue.Animation=ue.extend(H,{tweener:function(e,t){ue.isFunction(e)?(t=e,e=["*"]):e=e.split(" ");for(var i,n=0,o=e.length;o>n;n++)i=e[n],oi[i]=oi[i]||[],oi[i].unshift(t)},prefilter:function(e,t){t?ni.unshift(e):ni.push(e)}}),ue.Tween=B,B.prototype={constructor:B,init:function(e,t,i,n,o,s){this.elem=e,this.prop=i,this.easing=o||"swing",this.options=t,this.start=this.now=this.cur(),this.end=n,this.unit=s||(ue.cssNumber[i]?"":"px")},cur:function(){var e=B.propHooks[this.prop];return e&&e.get?e.get(this):B.propHooks._default.get(this)},run:function(e){var t,i=B.propHooks[this.prop];return this.pos=t=this.options.duration?ue.easing[this.easing](e,this.options.duration*e,0,1,this.options.duration):e,this.now=(this.end-this.start)*t+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),i&&i.set?i.set(this):B.propHooks._default.set(this),this}},B.prototype.init.prototype=B.prototype,B.propHooks={_default:{get:function(e){var t;return null==e.elem[e.prop]||e.elem.style&&null!=e.elem.style[e.prop]?(t=ue.css(e.elem,e.prop,""),t&&"auto"!==t?t:0):e.elem[e.prop]},set:function(e){ue.fx.step[e.prop]?ue.fx.step[e.prop](e):e.elem.style&&(null!=e.elem.style[ue.cssProps[e.prop]]||ue.cssHooks[e.prop])?ue.style(e.elem,e.prop,e.now+e.unit):e.elem[e.prop]=e.now}}},B.propHooks.scrollTop=B.propHooks.scrollLeft={set:function(e){e.elem.nodeType&&e.elem.parentNode&&(e.elem[e.prop]=e.now)}},ue.each(["toggle","show","hide"],function(e,t){var i=ue.fn[t];ue.fn[t]=function(e,n,o){return null==e||"boolean"==typeof e?i.apply(this,arguments):this.animate(W(t,!0),e,n,o)}}),ue.fn.extend({fadeTo:function(e,t,i,n){return this.filter(C).css("opacity",0).show().end().animate({opacity:t},e,i,n)},animate:function(e,t,i,n){var o=ue.isEmptyObject(e),s=ue.speed(t,i,n),r=function(){var t=H(this,ue.extend({},e),s);(o||ue._data(this,"finish"))&&t.stop(!0)};return r.finish=r,o||s.queue===!1?this.each(r):this.queue(s.queue,r)},stop:function(e,i,n){var o=function(e){var t=e.stop;delete e.stop,t(n)};return"string"!=typeof e&&(n=i,i=e,e=t),i&&e!==!1&&this.queue(e||"fx",[]),this.each(function(){var t=!0,i=null!=e&&e+"queueHooks",s=ue.timers,r=ue._data(this);if(i)r[i]&&r[i].stop&&o(r[i]);else for(i in r)r[i]&&r[i].stop&&ii.test(i)&&o(r[i]);for(i=s.length;i--;)s[i].elem!==this||null!=e&&s[i].queue!==e||(s[i].anim.stop(n),t=!1,s.splice(i,1));(t||!n)&&ue.dequeue(this,e)})},finish:function(e){return e!==!1&&(e=e||"fx"),this.each(function(){var t,i=ue._data(this),n=i[e+"queue"],o=i[e+"queueHooks"],s=ue.timers,r=n?n.length:0;for(i.finish=!0,ue.queue(this,e,[]),o&&o.stop&&o.stop.call(this,!0),t=s.length;t--;)s[t].elem===this&&s[t].queue===e&&(s[t].anim.stop(!0),s.splice(t,1));for(t=0;r>t;t++)n[t]&&n[t].finish&&n[t].finish.call(this);delete i.finish})}}),ue.each({slideDown:W("show"),slideUp:W("hide"),slideToggle:W("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(e,t){ue.fn[e]=function(e,i,n){return this.animate(t,e,i,n)}}),ue.speed=function(e,t,i){var n=e&&"object"==typeof e?ue.extend({},e):{complete:i||!i&&t||ue.isFunction(e)&&e,duration:e,easing:i&&t||t&&!ue.isFunction(t)&&t};return n.duration=ue.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in ue.fx.speeds?ue.fx.speeds[n.duration]:ue.fx.speeds._default,(null==n.queue||n.queue===!0)&&(n.queue="fx"),n.old=n.complete,n.complete=function(){ue.isFunction(n.old)&&n.old.call(this),n.queue&&ue.dequeue(this,n.queue)},n},ue.easing={linear:function(e){return e},swing:function(e){return.5-Math.cos(e*Math.PI)/2}},ue.timers=[],ue.fx=B.prototype.init,ue.fx.tick=function(){var e,i=ue.timers,n=0;for(Jt=ue.now();i.length>n;n++)e=i[n],e()||i[n]!==e||i.splice(n--,1);i.length||ue.fx.stop(),Jt=t},ue.fx.timer=function(e){e()&&ue.timers.push(e)&&ue.fx.start()},ue.fx.interval=13,ue.fx.start=function(){Zt||(Zt=setInterval(ue.fx.tick,ue.fx.interval))},ue.fx.stop=function(){clearInterval(Zt),Zt=null},ue.fx.speeds={slow:600,fast:200,_default:400},ue.fx.step={},ue.expr&&ue.expr.filters&&(ue.expr.filters.animated=function(e){return ue.grep(ue.timers,function(t){return e===t.elem}).length}),ue.fn.offset=function(e){if(arguments.length)return e===t?this:this.each(function(t){ue.offset.setOffset(this,e,t)});var i,n,o={top:0,left:0},s=this[0],r=s&&s.ownerDocument;return r?(i=r.documentElement,ue.contains(i,s)?(typeof s.getBoundingClientRect!==V&&(o=s.getBoundingClientRect()),n=q(r),{top:o.top+(n.pageYOffset||i.scrollTop)-(i.clientTop||0),left:o.left+(n.pageXOffset||i.scrollLeft)-(i.clientLeft||0)}):o):void 0},ue.offset={setOffset:function(e,t,i){var n=ue.css(e,"position");"static"===n&&(e.style.position="relative");var o,s,r=ue(e),a=r.offset(),l=ue.css(e,"top"),c=ue.css(e,"left"),u=("absolute"===n||"fixed"===n)&&ue.inArray("auto",[l,c])>-1,d={},h={};u?(h=r.position(),o=h.top,s=h.left):(o=parseFloat(l)||0,s=parseFloat(c)||0),ue.isFunction(t)&&(t=t.call(e,i,a)),null!=t.top&&(d.top=t.top-a.top+o),null!=t.left&&(d.left=t.left-a.left+s),"using"in t?t.using.call(e,d):r.css(d)}},ue.fn.extend({position:function(){if(this[0]){var e,t,i={top:0,left:0},n=this[0];return"fixed"===ue.css(n,"position")?t=n.getBoundingClientRect():(e=this.offsetParent(),t=this.offset(),ue.nodeName(e[0],"html")||(i=e.offset()),i.top+=ue.css(e[0],"borderTopWidth",!0),i.left+=ue.css(e[0],"borderLeftWidth",!0)),{top:t.top-i.top-ue.css(n,"marginTop",!0),left:t.left-i.left-ue.css(n,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var e=this.offsetParent||K;e&&!ue.nodeName(e,"html")&&"static"===ue.css(e,"position");)e=e.offsetParent;return e||K})}}),ue.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(e,i){var n=/Y/.test(i);ue.fn[e]=function(o){return ue.access(this,function(e,o,s){var r=q(e);return s===t?r?i in r?r[i]:r.document.documentElement[o]:e[o]:(r?r.scrollTo(n?ue(r).scrollLeft():s,n?s:ue(r).scrollTop()):e[o]=s,t)},e,o,arguments.length,null)}}),ue.each({Height:"height",Width:"width"},function(e,i){ue.each({padding:"inner"+e,content:i,"":"outer"+e},function(n,o){ue.fn[o]=function(o,s){var r=arguments.length&&(n||"boolean"!=typeof o),a=n||(o===!0||s===!0?"margin":"border");return ue.access(this,function(i,n,o){var s;return ue.isWindow(i)?i.document.documentElement["client"+e]:9===i.nodeType?(s=i.documentElement,Math.max(i.body["scroll"+e],s["scroll"+e],i.body["offset"+e],s["offset"+e],s["client"+e])):o===t?ue.css(i,n,a):ue.style(i,n,o,a)},i,r?o:t,r,null)}})}),ue.fn.size=function(){return this.length},ue.fn.andSelf=ue.fn.addBack,"object"==typeof module&&module&&"object"==typeof module.exports?module.exports=ue:(e.jQuery=e.$=ue,"function"==typeof define&&define.amd&&define("jquery",[],function(){return ue}))}(window),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(t,n){var o,s,r,a=t.nodeName.toLowerCase();return"area"===a?(o=t.parentNode,s=o.name,t.href&&s&&"map"===o.nodeName.toLowerCase()?(r=e("img[usemap='#"+s+"']")[0],!!r&&i(r)):!1):(/^(input|select|textarea|button|object)$/.test(a)?!t.disabled:"a"===a?t.href||n:n)&&i(t)}function i(t){return e.expr.filters.visible(t)&&!e(t).parents().addBack().filter(function(){return"hidden"===e.css(this,"visibility")}).length}e.ui=e.ui||{},e.extend(e.ui,{version:"1.11.4",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),e.fn.extend({scrollParent:function(t){var i=this.css("position"),n="absolute"===i,o=t?/(auto|scroll|hidden)/:/(auto|scroll)/,s=this.parents().filter(function(){var t=e(this);return n&&"static"===t.css("position")?!1:o.test(t.css("overflow")+t.css("overflow-y")+t.css("overflow-x"))}).eq(0);return"fixed"!==i&&s.length?s:e(this[0].ownerDocument||document)},uniqueId:function(){var e=0;return function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++e)})}}(),removeUniqueId:function(){return this.each(function(){/^ui-id-\d+$/.test(this.id)&&e(this).removeAttr("id")})}}),e.extend(e.expr[":"],{data:e.expr.createPseudo?e.expr.createPseudo(function(t){return function(i){return!!e.data(i,t)}}):function(t,i,n){return!!e.data(t,n[3])},focusable:function(i){return t(i,!isNaN(e.attr(i,"tabindex")))},tabbable:function(i){var n=e.attr(i,"tabindex"),o=isNaN(n);return(o||n>=0)&&t(i,!o)}}),e("<a>").outerWidth(1).jquery||e.each(["Width","Height"],function(t,i){function n(t,i,n,s){return e.each(o,function(){i-=parseFloat(e.css(t,"padding"+this))||0,n&&(i-=parseFloat(e.css(t,"border"+this+"Width"))||0),s&&(i-=parseFloat(e.css(t,"margin"+this))||0)}),i}var o="Width"===i?["Left","Right"]:["Top","Bottom"],s=i.toLowerCase(),r={innerWidth:e.fn.innerWidth,innerHeight:e.fn.innerHeight,outerWidth:e.fn.outerWidth,outerHeight:e.fn.outerHeight};e.fn["inner"+i]=function(t){return void 0===t?r["inner"+i].call(this):this.each(function(){e(this).css(s,n(this,t)+"px")})},e.fn["outer"+i]=function(t,o){return"number"!=typeof t?r["outer"+i].call(this,t):this.each(function(){e(this).css(s,n(this,t,!0,o)+"px")})}}),e.fn.addBack||(e.fn.addBack=function(e){return this.add(null==e?this.prevObject:this.prevObject.filter(e))}),e("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(e.fn.removeData=function(t){return function(i){return arguments.length?t.call(this,e.camelCase(i)):t.call(this)}}(e.fn.removeData)),e.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),e.fn.extend({focus:function(t){return function(i,n){return"number"==typeof i?this.each(function(){var t=this;setTimeout(function(){e(t).focus(),n&&n.call(t)},i)}):t.apply(this,arguments)}}(e.fn.focus),disableSelection:function(){var e="onselectstart"in document.createElement("div")?"selectstart":"mousedown";return function(){return this.bind(e+".ui-disableSelection",function(e){e.preventDefault()})}}(),enableSelection:function(){return this.unbind(".ui-disableSelection")},zIndex:function(t){if(void 0!==t)return this.css("zIndex",t);if(this.length)for(var i,n,o=e(this[0]);o.length&&o[0]!==document;){if(i=o.css("position"),("absolute"===i||"relative"===i||"fixed"===i)&&(n=parseInt(o.css("zIndex"),10),!isNaN(n)&&0!==n))return n;o=o.parent()}return 0}}),e.ui.plugin={add:function(t,i,n){var o,s=e.ui[t].prototype;for(o in n)s.plugins[o]=s.plugins[o]||[],s.plugins[o].push([i,n[o]])},call:function(e,t,i,n){var o,s=e.plugins[t];if(s&&(n||e.element[0].parentNode&&11!==e.element[0].parentNode.nodeType))for(o=0;s.length>o;o++)e.options[s[o][0]]&&s[o][1].apply(e.element,i)}};var n=0,o=Array.prototype.slice;e.cleanData=function(t){return function(i){var n,o,s;for(s=0;null!=(o=i[s]);s++)try{n=e._data(o,"events"),n&&n.remove&&e(o).triggerHandler("remove")}catch(r){}t(i)}}(e.cleanData),e.widget=function(t,i,n){var o,s,r,a,l={},c=t.split(".")[0];return t=t.split(".")[1],o=c+"-"+t,n||(n=i,i=e.Widget),e.expr[":"][o.toLowerCase()]=function(t){return!!e.data(t,o)},e[c]=e[c]||{},s=e[c][t],r=e[c][t]=function(e,t){return this._createWidget?void(arguments.length&&this._createWidget(e,t)):new r(e,t)},e.extend(r,s,{version:n.version,_proto:e.extend({},n),_childConstructors:[]}),a=new i,a.options=e.widget.extend({},a.options),e.each(n,function(t,n){return e.isFunction(n)?void(l[t]=function(){var e=function(){return i.prototype[t].apply(this,arguments)},o=function(e){return i.prototype[t].apply(this,e)};return function(){var t,i=this._super,s=this._superApply;return this._super=e,this._superApply=o,t=n.apply(this,arguments),this._super=i,this._superApply=s,
t}}()):void(l[t]=n)}),r.prototype=e.widget.extend(a,{widgetEventPrefix:s?a.widgetEventPrefix||t:t},l,{constructor:r,namespace:c,widgetName:t,widgetFullName:o}),s?(e.each(s._childConstructors,function(t,i){var n=i.prototype;e.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete s._childConstructors):i._childConstructors.push(r),e.widget.bridge(t,r),r},e.widget.extend=function(t){for(var i,n,s=o.call(arguments,1),r=0,a=s.length;a>r;r++)for(i in s[r])n=s[r][i],s[r].hasOwnProperty(i)&&void 0!==n&&(t[i]=e.isPlainObject(n)?e.isPlainObject(t[i])?e.widget.extend({},t[i],n):e.widget.extend({},n):n);return t},e.widget.bridge=function(t,i){var n=i.prototype.widgetFullName||t;e.fn[t]=function(s){var r="string"==typeof s,a=o.call(arguments,1),l=this;return r?this.each(function(){var i,o=e.data(this,n);return"instance"===s?(l=o,!1):o?e.isFunction(o[s])&&"_"!==s.charAt(0)?(i=o[s].apply(o,a),i!==o&&void 0!==i?(l=i&&i.jquery?l.pushStack(i.get()):i,!1):void 0):e.error("no such method '"+s+"' for "+t+" widget instance"):e.error("cannot call methods on "+t+" prior to initialization; attempted to call method '"+s+"'")}):(a.length&&(s=e.widget.extend.apply(null,[s].concat(a))),this.each(function(){var t=e.data(this,n);t?(t.option(s||{}),t._init&&t._init()):e.data(this,n,new i(s,this))})),l}},e.Widget=function(){},e.Widget._childConstructors=[],e.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(t,i){i=e(i||this.defaultElement||this)[0],this.element=e(i),this.uuid=n++,this.eventNamespace="."+this.widgetName+this.uuid,this.bindings=e(),this.hoverable=e(),this.focusable=e(),i!==this&&(e.data(i,this.widgetFullName,this),this._on(!0,this.element,{remove:function(e){e.target===i&&this.destroy()}}),this.document=e(i.style?i.ownerDocument:i.document||i),this.window=e(this.document[0].defaultView||this.document[0].parentWindow)),this.options=e.widget.extend({},this.options,this._getCreateOptions(),t),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:e.noop,_getCreateEventData:e.noop,_create:e.noop,_init:e.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(e.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:e.noop,widget:function(){return this.element},option:function(t,i){var n,o,s,r=t;if(0===arguments.length)return e.widget.extend({},this.options);if("string"==typeof t)if(r={},n=t.split("."),t=n.shift(),n.length){for(o=r[t]=e.widget.extend({},this.options[t]),s=0;n.length-1>s;s++)o[n[s]]=o[n[s]]||{},o=o[n[s]];if(t=n.pop(),1===arguments.length)return void 0===o[t]?null:o[t];o[t]=i}else{if(1===arguments.length)return void 0===this.options[t]?null:this.options[t];r[t]=i}return this._setOptions(r),this},_setOptions:function(e){var t;for(t in e)this._setOption(t,e[t]);return this},_setOption:function(e,t){return this.options[e]=t,"disabled"===e&&(this.widget().toggleClass(this.widgetFullName+"-disabled",!!t),t&&(this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus"))),this},enable:function(){return this._setOptions({disabled:!1})},disable:function(){return this._setOptions({disabled:!0})},_on:function(t,i,n){var o,s=this;"boolean"!=typeof t&&(n=i,i=t,t=!1),n?(i=o=e(i),this.bindings=this.bindings.add(i)):(n=i,i=this.element,o=this.widget()),e.each(n,function(n,r){function a(){return t||s.options.disabled!==!0&&!e(this).hasClass("ui-state-disabled")?("string"==typeof r?s[r]:r).apply(s,arguments):void 0}"string"!=typeof r&&(a.guid=r.guid=r.guid||a.guid||e.guid++);var l=n.match(/^([\w:-]*)\s*(.*)$/),c=l[1]+s.eventNamespace,u=l[2];u?o.delegate(u,c,a):i.bind(c,a)})},_off:function(t,i){i=(i||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(i).undelegate(i),this.bindings=e(this.bindings.not(t).get()),this.focusable=e(this.focusable.not(t).get()),this.hoverable=e(this.hoverable.not(t).get())},_delay:function(e,t){function i(){return("string"==typeof e?n[e]:e).apply(n,arguments)}var n=this;return setTimeout(i,t||0)},_hoverable:function(t){this.hoverable=this.hoverable.add(t),this._on(t,{mouseenter:function(t){e(t.currentTarget).addClass("ui-state-hover")},mouseleave:function(t){e(t.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(t){this.focusable=this.focusable.add(t),this._on(t,{focusin:function(t){e(t.currentTarget).addClass("ui-state-focus")},focusout:function(t){e(t.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(t,i,n){var o,s,r=this.options[t];if(n=n||{},i=e.Event(i),i.type=(t===this.widgetEventPrefix?t:this.widgetEventPrefix+t).toLowerCase(),i.target=this.element[0],s=i.originalEvent)for(o in s)o in i||(i[o]=s[o]);return this.element.trigger(i,n),!(e.isFunction(r)&&r.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},e.each({show:"fadeIn",hide:"fadeOut"},function(t,i){e.Widget.prototype["_"+t]=function(n,o,s){"string"==typeof o&&(o={effect:o});var r,a=o?o===!0||"number"==typeof o?i:o.effect||i:t;o=o||{},"number"==typeof o&&(o={duration:o}),r=!e.isEmptyObject(o),o.complete=s,o.delay&&n.delay(o.delay),r&&e.effects&&e.effects.effect[a]?n[t](o):a!==t&&n[a]?n[a](o.duration,o.easing,s):n.queue(function(i){e(this)[t](),s&&s.call(n[0]),i()})}}),e.widget;var s=!1;e(document).mouseup(function(){s=!1}),e.widget("ui.mouse",{version:"1.11.4",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var t=this;this.element.bind("mousedown."+this.widgetName,function(e){return t._mouseDown(e)}).bind("click."+this.widgetName,function(i){return!0===e.data(i.target,t.widgetName+".preventClickEvent")?(e.removeData(i.target,t.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(t){if(!s){this._mouseMoved=!1,this._mouseStarted&&this._mouseUp(t),this._mouseDownEvent=t;var i=this,n=1===t.which,o="string"==typeof this.options.cancel&&t.target.nodeName?e(t.target).closest(this.options.cancel).length:!1;return n&&!o&&this._mouseCapture(t)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){i.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(t)!==!1,!this._mouseStarted)?(t.preventDefault(),!0):(!0===e.data(t.target,this.widgetName+".preventClickEvent")&&e.removeData(t.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(e){return i._mouseMove(e)},this._mouseUpDelegate=function(e){return i._mouseUp(e)},this.document.bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),t.preventDefault(),s=!0,!0)):!0}},_mouseMove:function(t){if(this._mouseMoved){if(e.ui.ie&&(!document.documentMode||9>document.documentMode)&&!t.button)return this._mouseUp(t);if(!t.which)return this._mouseUp(t)}return(t.which||t.button)&&(this._mouseMoved=!0),this._mouseStarted?(this._mouseDrag(t),t.preventDefault()):(this._mouseDistanceMet(t)&&this._mouseDelayMet(t)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,t)!==!1,this._mouseStarted?this._mouseDrag(t):this._mouseUp(t)),!this._mouseStarted)},_mouseUp:function(t){return this.document.unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,t.target===this._mouseDownEvent.target&&e.data(t.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(t)),s=!1,!1},_mouseDistanceMet:function(e){return Math.max(Math.abs(this._mouseDownEvent.pageX-e.pageX),Math.abs(this._mouseDownEvent.pageY-e.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}}),function(){function t(e,t,i){return[parseFloat(e[0])*(p.test(e[0])?t/100:1),parseFloat(e[1])*(p.test(e[1])?i/100:1)]}function i(t,i){return parseInt(e.css(t,i),10)||0}function n(t){var i=t[0];return 9===i.nodeType?{width:t.width(),height:t.height(),offset:{top:0,left:0}}:e.isWindow(i)?{width:t.width(),height:t.height(),offset:{top:t.scrollTop(),left:t.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:t.outerWidth(),height:t.outerHeight(),offset:t.offset()}}e.ui=e.ui||{};var o,s,r=Math.max,a=Math.abs,l=Math.round,c=/left|center|right/,u=/top|center|bottom/,d=/[\+\-]\d+(\.[\d]+)?%?/,h=/^\w+/,p=/%$/,f=e.fn.position;e.position={scrollbarWidth:function(){if(void 0!==o)return o;var t,i,n=e("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),s=n.children()[0];return e("body").append(n),t=s.offsetWidth,n.css("overflow","scroll"),i=s.offsetWidth,t===i&&(i=n[0].clientWidth),n.remove(),o=t-i},getScrollInfo:function(t){var i=t.isWindow||t.isDocument?"":t.element.css("overflow-x"),n=t.isWindow||t.isDocument?"":t.element.css("overflow-y"),o="scroll"===i||"auto"===i&&t.width<t.element[0].scrollWidth,s="scroll"===n||"auto"===n&&t.height<t.element[0].scrollHeight;return{width:s?e.position.scrollbarWidth():0,height:o?e.position.scrollbarWidth():0}},getWithinInfo:function(t){var i=e(t||window),n=e.isWindow(i[0]),o=!!i[0]&&9===i[0].nodeType;return{element:i,isWindow:n,isDocument:o,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n||o?i.width():i.outerWidth(),height:n||o?i.height():i.outerHeight()}}},e.fn.position=function(o){if(!o||!o.of)return f.apply(this,arguments);o=e.extend({},o);var p,m,g,v,b,y,w=e(o.of),_=e.position.getWithinInfo(o.within),x=e.position.getScrollInfo(_),C=(o.collision||"flip").split(" "),E={};return y=n(w),w[0].preventDefault&&(o.at="left top"),m=y.width,g=y.height,v=y.offset,b=e.extend({},v),e.each(["my","at"],function(){var e,t,i=(o[this]||"").split(" ");1===i.length&&(i=c.test(i[0])?i.concat(["center"]):u.test(i[0])?["center"].concat(i):["center","center"]),i[0]=c.test(i[0])?i[0]:"center",i[1]=u.test(i[1])?i[1]:"center",e=d.exec(i[0]),t=d.exec(i[1]),E[this]=[e?e[0]:0,t?t[0]:0],o[this]=[h.exec(i[0])[0],h.exec(i[1])[0]]}),1===C.length&&(C[1]=C[0]),"right"===o.at[0]?b.left+=m:"center"===o.at[0]&&(b.left+=m/2),"bottom"===o.at[1]?b.top+=g:"center"===o.at[1]&&(b.top+=g/2),p=t(E.at,m,g),b.left+=p[0],b.top+=p[1],this.each(function(){var n,c,u=e(this),d=u.outerWidth(),h=u.outerHeight(),f=i(this,"marginLeft"),y=i(this,"marginTop"),T=d+f+i(this,"marginRight")+x.width,k=h+y+i(this,"marginBottom")+x.height,S=e.extend({},b),$=t(E.my,u.outerWidth(),u.outerHeight());"right"===o.my[0]?S.left-=d:"center"===o.my[0]&&(S.left-=d/2),"bottom"===o.my[1]?S.top-=h:"center"===o.my[1]&&(S.top-=h/2),S.left+=$[0],S.top+=$[1],s||(S.left=l(S.left),S.top=l(S.top)),n={marginLeft:f,marginTop:y},e.each(["left","top"],function(t,i){e.ui.position[C[t]]&&e.ui.position[C[t]][i](S,{targetWidth:m,targetHeight:g,elemWidth:d,elemHeight:h,collisionPosition:n,collisionWidth:T,collisionHeight:k,offset:[p[0]+$[0],p[1]+$[1]],my:o.my,at:o.at,within:_,elem:u})}),o.using&&(c=function(e){var t=v.left-S.left,i=t+m-d,n=v.top-S.top,s=n+g-h,l={target:{element:w,left:v.left,top:v.top,width:m,height:g},element:{element:u,left:S.left,top:S.top,width:d,height:h},horizontal:0>i?"left":t>0?"right":"center",vertical:0>s?"top":n>0?"bottom":"middle"};d>m&&m>a(t+i)&&(l.horizontal="center"),h>g&&g>a(n+s)&&(l.vertical="middle"),l.important=r(a(t),a(i))>r(a(n),a(s))?"horizontal":"vertical",o.using.call(this,e,l)}),u.offset(e.extend(S,{using:c}))})},e.ui.position={fit:{left:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollLeft:n.offset.left,s=n.width,a=e.left-t.collisionPosition.marginLeft,l=o-a,c=a+t.collisionWidth-s-o;t.collisionWidth>s?l>0&&0>=c?(i=e.left+l+t.collisionWidth-s-o,e.left+=l-i):e.left=c>0&&0>=l?o:l>c?o+s-t.collisionWidth:o:l>0?e.left+=l:c>0?e.left-=c:e.left=r(e.left-a,e.left)},top:function(e,t){var i,n=t.within,o=n.isWindow?n.scrollTop:n.offset.top,s=t.within.height,a=e.top-t.collisionPosition.marginTop,l=o-a,c=a+t.collisionHeight-s-o;t.collisionHeight>s?l>0&&0>=c?(i=e.top+l+t.collisionHeight-s-o,e.top+=l-i):e.top=c>0&&0>=l?o:l>c?o+s-t.collisionHeight:o:l>0?e.top+=l:c>0?e.top-=c:e.top=r(e.top-a,e.top)}},flip:{left:function(e,t){var i,n,o=t.within,s=o.offset.left+o.scrollLeft,r=o.width,l=o.isWindow?o.scrollLeft:o.offset.left,c=e.left-t.collisionPosition.marginLeft,u=c-l,d=c+t.collisionWidth-r-l,h="left"===t.my[0]?-t.elemWidth:"right"===t.my[0]?t.elemWidth:0,p="left"===t.at[0]?t.targetWidth:"right"===t.at[0]?-t.targetWidth:0,f=-2*t.offset[0];0>u?(i=e.left+h+p+f+t.collisionWidth-r-s,(0>i||a(u)>i)&&(e.left+=h+p+f)):d>0&&(n=e.left-t.collisionPosition.marginLeft+h+p+f-l,(n>0||d>a(n))&&(e.left+=h+p+f))},top:function(e,t){var i,n,o=t.within,s=o.offset.top+o.scrollTop,r=o.height,l=o.isWindow?o.scrollTop:o.offset.top,c=e.top-t.collisionPosition.marginTop,u=c-l,d=c+t.collisionHeight-r-l,h="top"===t.my[1],p=h?-t.elemHeight:"bottom"===t.my[1]?t.elemHeight:0,f="top"===t.at[1]?t.targetHeight:"bottom"===t.at[1]?-t.targetHeight:0,m=-2*t.offset[1];0>u?(n=e.top+p+f+m+t.collisionHeight-r-s,(0>n||a(u)>n)&&(e.top+=p+f+m)):d>0&&(i=e.top-t.collisionPosition.marginTop+p+f+m-l,(i>0||d>a(i))&&(e.top+=p+f+m))}},flipfit:{left:function(){e.ui.position.flip.left.apply(this,arguments),e.ui.position.fit.left.apply(this,arguments)},top:function(){e.ui.position.flip.top.apply(this,arguments),e.ui.position.fit.top.apply(this,arguments)}}},function(){var t,i,n,o,r,a=document.getElementsByTagName("body")[0],l=document.createElement("div");t=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&e.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(r in n)t.style[r]=n[r];t.appendChild(l),i=a||document.documentElement,i.insertBefore(t,i.firstChild),l.style.cssText="position: absolute; left: 10.7432222px;",o=e(l).offset().left,s=o>10&&11>o,t.innerHTML="",i.removeChild(t)}()}(),e.ui.position,e.widget("ui.draggable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"===this.options.helper&&this._setPositionRelative(),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._setHandleClassName(),this._mouseInit()},_setOption:function(e,t){this._super(e,t),"handle"===e&&(this._removeHandleClassName(),this._setHandleClassName())},_destroy:function(){return(this.helper||this.element).is(".ui-draggable-dragging")?void(this.destroyOnClear=!0):(this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._removeHandleClassName(),void this._mouseDestroy())},_mouseCapture:function(t){var i=this.options;return this._blurActiveElement(t),this.helper||i.disabled||e(t.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(t),this.handle?(this._blockFrames(i.iframeFix===!0?"iframe":i.iframeFix),!0):!1)},_blockFrames:function(t){this.iframeBlocks=this.document.find(t).map(function(){var t=e(this);return e("<div>").css("position","absolute").appendTo(t.parent()).outerWidth(t.outerWidth()).outerHeight(t.outerHeight()).offset(t.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_blurActiveElement:function(t){var i=this.document[0];if(this.handleElement.is(t.target))try{i.activeElement&&"body"!==i.activeElement.nodeName.toLowerCase()&&e(i.activeElement).blur()}catch(n){}},_mouseStart:function(t){var i=this.options;return this.helper=this._createHelper(t),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),e.ui.ddmanager&&(e.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(!0),this.offsetParent=this.helper.offsetParent(),this.hasFixedAncestor=this.helper.parents().filter(function(){return"fixed"===e(this).css("position")}).length>0,this.positionAbs=this.element.offset(),this._refreshOffsets(t),this.originalPosition=this.position=this._generatePosition(t,!1),this.originalPageX=t.pageX,this.originalPageY=t.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",t)===!1?(this._clear(),!1):(this._cacheHelperProportions(),e.ui.ddmanager&&!i.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this._normalizeRightBottom(),this._mouseDrag(t,!0),e.ui.ddmanager&&e.ui.ddmanager.dragStart(this,t),!0)},_refreshOffsets:function(e){this.offset={top:this.positionAbs.top-this.margins.top,left:this.positionAbs.left-this.margins.left,scroll:!1,parent:this._getParentOffset(),relative:this._getRelativeOffset()},this.offset.click={left:e.pageX-this.offset.left,top:e.pageY-this.offset.top}},_mouseDrag:function(t,i){if(this.hasFixedAncestor&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(t,!0),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",t,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.helper[0].style.left=this.position.left+"px",this.helper[0].style.top=this.position.top+"px",e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),!1},_mouseStop:function(t){var i=this,n=!1;return e.ui.ddmanager&&!this.options.dropBehaviour&&(n=e.ui.ddmanager.drop(this,t)),this.dropped&&(n=this.dropped,this.dropped=!1),"invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||e.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?e(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",t)!==!1&&i._clear()}):this._trigger("stop",t)!==!1&&this._clear(),!1},_mouseUp:function(t){return this._unblockFrames(),e.ui.ddmanager&&e.ui.ddmanager.dragStop(this,t),this.handleElement.is(t.target)&&this.element.focus(),e.ui.mouse.prototype._mouseUp.call(this,t)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(t){return this.options.handle?!!e(t.target).closest(this.element.find(this.options.handle)).length:!0},_setHandleClassName:function(){this.handleElement=this.options.handle?this.element.find(this.options.handle):this.element,this.handleElement.addClass("ui-draggable-handle")},_removeHandleClassName:function(){this.handleElement.removeClass("ui-draggable-handle")},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper),o=n?e(i.helper.apply(this.element[0],[t])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return o.parents("body").length||o.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n&&o[0]===this.element[0]&&this._setPositionRelative(),o[0]===this.element[0]||/(fixed|absolute)/.test(o.css("position"))||o.css("position","absolute"),o},_setPositionRelative:function(){/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative")},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_isRootNode:function(e){return/(html|body)/i.test(e.tagName)||e===this.document[0]},_getParentOffset:function(){var t=this.offsetParent.offset(),i=this.document[0];return"absolute"===this.cssPosition&&this.scrollParent[0]!==i&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),this._isRootNode(this.offsetParent[0])&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"!==this.cssPosition)return{top:0,left:0};var e=this.element.position(),t=this._isRootNode(this.scrollParent[0]);return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+(t?0:this.scrollParent.scrollTop()),left:e.left-(parseInt(this.helper.css("left"),10)||0)+(t?0:this.scrollParent.scrollLeft())}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options,s=this.document[0];return this.relativeContainer=null,o.containment?"window"===o.containment?void(this.containment=[e(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,e(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,e(window).scrollLeft()+e(window).width()-this.helperProportions.width-this.margins.left,e(window).scrollTop()+(e(window).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===o.containment?void(this.containment=[0,0,e(s).width()-this.helperProportions.width-this.margins.left,(e(s).height()||s.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):o.containment.constructor===Array?void(this.containment=o.containment):("parent"===o.containment&&(o.containment=this.helper[0].parentNode),i=e(o.containment),n=i[0],void(n&&(t=/(scroll|auto)/.test(i.css("overflow")),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(t?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(t?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relativeContainer=i))):void(this.containment=null)},_convertPositionTo:function(e,t){t||(t=this.position);var i="absolute"===e?1:-1,n=this._isRootNode(this.scrollParent[0]);return{top:t.top+this.offset.relative.top*i+this.offset.parent.top*i-("fixed"===this.cssPosition?-this.offset.scroll.top:n?0:this.offset.scroll.top)*i,left:t.left+this.offset.relative.left*i+this.offset.parent.left*i-("fixed"===this.cssPosition?-this.offset.scroll.left:n?0:this.offset.scroll.left)*i}},_generatePosition:function(e,t){var i,n,o,s,r=this.options,a=this._isRootNode(this.scrollParent[0]),l=e.pageX,c=e.pageY;return a&&this.offset.scroll||(this.offset.scroll={top:this.scrollParent.scrollTop(),left:this.scrollParent.scrollLeft()}),t&&(this.containment&&(this.relativeContainer?(n=this.relativeContainer.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),r.grid&&(o=r.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/r.grid[1])*r.grid[1]:this.originalPageY,c=i?o-this.offset.click.top>=i[1]||o-this.offset.click.top>i[3]?o:o-this.offset.click.top>=i[1]?o-r.grid[1]:o+r.grid[1]:o,s=r.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/r.grid[0])*r.grid[0]:this.originalPageX,l=i?s-this.offset.click.left>=i[0]||s-this.offset.click.left>i[2]?s:s-this.offset.click.left>=i[0]?s-r.grid[0]:s+r.grid[0]:s),"y"===r.axis&&(l=this.originalPageX),"x"===r.axis&&(c=this.originalPageY)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.offset.scroll.top:a?0:this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.offset.scroll.left:a?0:this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1,this.destroyOnClear&&this.destroy()},_normalizeRightBottom:function(){"y"!==this.options.axis&&"auto"!==this.helper.css("right")&&(this.helper.width(this.helper.width()),this.helper.css("right","auto")),"x"!==this.options.axis&&"auto"!==this.helper.css("bottom")&&(this.helper.height(this.helper.height()),this.helper.css("bottom","auto"))},_trigger:function(t,i,n){return n=n||this._uiHash(),e.ui.plugin.call(this,t,[i,n,this],!0),/^(drag|start|stop)/.test(t)&&(this.positionAbs=this._convertPositionTo("absolute"),n.offset=this.positionAbs),e.Widget.prototype._trigger.call(this,t,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),e.ui.plugin.add("draggable","connectToSortable",{start:function(t,i,n){var o=e.extend({},i,{item:n.element});n.sortables=[],e(n.options.connectToSortable).each(function(){var i=e(this).sortable("instance");i&&!i.options.disabled&&(n.sortables.push(i),i.refreshPositions(),i._trigger("activate",t,o))})},stop:function(t,i,n){var o=e.extend({},i,{item:n.element});n.cancelHelperRemoval=!1,e.each(n.sortables,function(){var e=this;e.isOver?(e.isOver=0,n.cancelHelperRemoval=!0,e.cancelHelperRemoval=!1,e._storedCSS={position:e.placeholder.css("position"),top:e.placeholder.css("top"),left:e.placeholder.css("left")},e._mouseStop(t),e.options.helper=e.options._helper):(e.cancelHelperRemoval=!0,e._trigger("deactivate",t,o))})},drag:function(t,i,n){e.each(n.sortables,function(){var o=!1,s=this;s.positionAbs=n.positionAbs,s.helperProportions=n.helperProportions,s.offset.click=n.offset.click,s._intersectsWith(s.containerCache)&&(o=!0,e.each(n.sortables,function(){return this.positionAbs=n.positionAbs,this.helperProportions=n.helperProportions,this.offset.click=n.offset.click,this!==s&&this._intersectsWith(this.containerCache)&&e.contains(s.element[0],this.element[0])&&(o=!1),o})),o?(s.isOver||(s.isOver=1,n._parent=i.helper.parent(),s.currentItem=i.helper.appendTo(s.element).data("ui-sortable-item",!0),s.options._helper=s.options.helper,s.options.helper=function(){return i.helper[0]},t.target=s.currentItem[0],s._mouseCapture(t,!0),s._mouseStart(t,!0,!0),s.offset.click.top=n.offset.click.top,s.offset.click.left=n.offset.click.left,s.offset.parent.left-=n.offset.parent.left-s.offset.parent.left,s.offset.parent.top-=n.offset.parent.top-s.offset.parent.top,n._trigger("toSortable",t),n.dropped=s.element,e.each(n.sortables,function(){this.refreshPositions()}),n.currentItem=n.element,s.fromOutside=n),s.currentItem&&(s._mouseDrag(t),i.position=s.position)):s.isOver&&(s.isOver=0,s.cancelHelperRemoval=!0,s.options._revert=s.options.revert,s.options.revert=!1,s._trigger("out",t,s._uiHash(s)),s._mouseStop(t,!0),s.options.revert=s.options._revert,s.options.helper=s.options._helper,s.placeholder&&s.placeholder.remove(),i.helper.appendTo(n._parent),n._refreshOffsets(t),i.position=n._generatePosition(t,!0),n._trigger("fromSortable",t),n.dropped=!1,e.each(n.sortables,function(){this.refreshPositions()}))})}}),e.ui.plugin.add("draggable","cursor",{start:function(t,i,n){var o=e("body"),s=n.options;o.css("cursor")&&(s._cursor=o.css("cursor")),o.css("cursor",s.cursor)},stop:function(t,i,n){var o=n.options;o._cursor&&e("body").css("cursor",o._cursor)}}),e.ui.plugin.add("draggable","opacity",{start:function(t,i,n){var o=e(i.helper),s=n.options;o.css("opacity")&&(s._opacity=o.css("opacity")),o.css("opacity",s.opacity)},stop:function(t,i,n){var o=n.options;o._opacity&&e(i.helper).css("opacity",o._opacity)}}),e.ui.plugin.add("draggable","scroll",{start:function(e,t,i){i.scrollParentNotHidden||(i.scrollParentNotHidden=i.helper.scrollParent(!1)),i.scrollParentNotHidden[0]!==i.document[0]&&"HTML"!==i.scrollParentNotHidden[0].tagName&&(i.overflowOffset=i.scrollParentNotHidden.offset())},drag:function(t,i,n){var o=n.options,s=!1,r=n.scrollParentNotHidden[0],a=n.document[0];r!==a&&"HTML"!==r.tagName?(o.axis&&"x"===o.axis||(n.overflowOffset.top+r.offsetHeight-t.pageY<o.scrollSensitivity?r.scrollTop=s=r.scrollTop+o.scrollSpeed:t.pageY-n.overflowOffset.top<o.scrollSensitivity&&(r.scrollTop=s=r.scrollTop-o.scrollSpeed)),o.axis&&"y"===o.axis||(n.overflowOffset.left+r.offsetWidth-t.pageX<o.scrollSensitivity?r.scrollLeft=s=r.scrollLeft+o.scrollSpeed:t.pageX-n.overflowOffset.left<o.scrollSensitivity&&(r.scrollLeft=s=r.scrollLeft-o.scrollSpeed))):(o.axis&&"x"===o.axis||(t.pageY-e(a).scrollTop()<o.scrollSensitivity?s=e(a).scrollTop(e(a).scrollTop()-o.scrollSpeed):e(window).height()-(t.pageY-e(a).scrollTop())<o.scrollSensitivity&&(s=e(a).scrollTop(e(a).scrollTop()+o.scrollSpeed))),o.axis&&"y"===o.axis||(t.pageX-e(a).scrollLeft()<o.scrollSensitivity?s=e(a).scrollLeft(e(a).scrollLeft()-o.scrollSpeed):e(window).width()-(t.pageX-e(a).scrollLeft())<o.scrollSensitivity&&(s=e(a).scrollLeft(e(a).scrollLeft()+o.scrollSpeed)))),s!==!1&&e.ui.ddmanager&&!o.dropBehaviour&&e.ui.ddmanager.prepareOffsets(n,t)}}),e.ui.plugin.add("draggable","snap",{start:function(t,i,n){var o=n.options;n.snapElements=[],e(o.snap.constructor!==String?o.snap.items||":data(ui-draggable)":o.snap).each(function(){var t=e(this),i=t.offset();this!==n.element[0]&&n.snapElements.push({item:this,width:t.outerWidth(),height:t.outerHeight(),top:i.top,left:i.left})})},drag:function(t,i,n){var o,s,r,a,l,c,u,d,h,p,f=n.options,m=f.snapTolerance,g=i.offset.left,v=g+n.helperProportions.width,b=i.offset.top,y=b+n.helperProportions.height;for(h=n.snapElements.length-1;h>=0;h--)l=n.snapElements[h].left-n.margins.left,c=l+n.snapElements[h].width,u=n.snapElements[h].top-n.margins.top,d=u+n.snapElements[h].height,l-m>v||g>c+m||u-m>y||b>d+m||!e.contains(n.snapElements[h].item.ownerDocument,n.snapElements[h].item)?(n.snapElements[h].snapping&&n.options.snap.release&&n.options.snap.release.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=!1):("inner"!==f.snapMode&&(o=m>=Math.abs(u-y),s=m>=Math.abs(d-b),r=m>=Math.abs(l-v),a=m>=Math.abs(c-g),o&&(i.position.top=n._convertPositionTo("relative",{top:u-n.helperProportions.height,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:d,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l-n.helperProportions.width}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c}).left)),p=o||s||r||a,"outer"!==f.snapMode&&(o=m>=Math.abs(u-b),s=m>=Math.abs(d-y),r=m>=Math.abs(l-g),a=m>=Math.abs(c-v),o&&(i.position.top=n._convertPositionTo("relative",{
top:u,left:0}).top),s&&(i.position.top=n._convertPositionTo("relative",{top:d-n.helperProportions.height,left:0}).top),r&&(i.position.left=n._convertPositionTo("relative",{top:0,left:l}).left),a&&(i.position.left=n._convertPositionTo("relative",{top:0,left:c-n.helperProportions.width}).left)),!n.snapElements[h].snapping&&(o||s||r||a||p)&&n.options.snap.snap&&n.options.snap.snap.call(n.element,t,e.extend(n._uiHash(),{snapItem:n.snapElements[h].item})),n.snapElements[h].snapping=o||s||r||a||p)}}),e.ui.plugin.add("draggable","stack",{start:function(t,i,n){var o,s=n.options,r=e.makeArray(e(s.stack)).sort(function(t,i){return(parseInt(e(t).css("zIndex"),10)||0)-(parseInt(e(i).css("zIndex"),10)||0)});r.length&&(o=parseInt(e(r[0]).css("zIndex"),10)||0,e(r).each(function(t){e(this).css("zIndex",o+t)}),this.css("zIndex",o+r.length))}}),e.ui.plugin.add("draggable","zIndex",{start:function(t,i,n){var o=e(i.helper),s=n.options;o.css("zIndex")&&(s._zIndex=o.css("zIndex")),o.css("zIndex",s.zIndex)},stop:function(t,i,n){var o=n.options;o._zIndex&&e(i.helper).css("zIndex",o._zIndex)}}),e.ui.draggable,e.widget("ui.droppable",{version:"1.11.4",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var t,i=this.options,n=i.accept;this.isover=!1,this.isout=!0,this.accept=e.isFunction(n)?n:function(e){return e.is(n)},this.proportions=function(){return arguments.length?void(t=arguments[0]):t?t:t={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight}},this._addToManager(i.scope),i.addClasses&&this.element.addClass("ui-droppable")},_addToManager:function(t){e.ui.ddmanager.droppables[t]=e.ui.ddmanager.droppables[t]||[],e.ui.ddmanager.droppables[t].push(this)},_splice:function(e){for(var t=0;e.length>t;t++)e[t]===this&&e.splice(t,1)},_destroy:function(){var t=e.ui.ddmanager.droppables[this.options.scope];this._splice(t),this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(t,i){if("accept"===t)this.accept=e.isFunction(i)?i:function(e){return e.is(i)};else if("scope"===t){var n=e.ui.ddmanager.droppables[this.options.scope];this._splice(n),this._addToManager(i)}this._super(t,i)},_activate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",t,this.ui(i))},_deactivate:function(t){var i=e.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),i&&this._trigger("deactivate",t,this.ui(i))},_over:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",t,this.ui(i)))},_out:function(t){var i=e.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",t,this.ui(i)))},_drop:function(t,i){var n=i||e.ui.ddmanager.current,o=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var i=e(this).droppable("instance");return i.options.greedy&&!i.options.disabled&&i.options.scope===n.options.scope&&i.accept.call(i.element[0],n.currentItem||n.element)&&e.ui.intersect(n,e.extend(i,{offset:i.element.offset()}),i.options.tolerance,t)?(o=!0,!1):void 0}),o?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",t,this.ui(n)),this.element):!1):!1},ui:function(e){return{draggable:e.currentItem||e.element,helper:e.helper,position:e.position,offset:e.positionAbs}}}),e.ui.intersect=function(){function e(e,t,i){return e>=t&&t+i>e}return function(t,i,n,o){if(!i.offset)return!1;var s=(t.positionAbs||t.position.absolute).left+t.margins.left,r=(t.positionAbs||t.position.absolute).top+t.margins.top,a=s+t.helperProportions.width,l=r+t.helperProportions.height,c=i.offset.left,u=i.offset.top,d=c+i.proportions().width,h=u+i.proportions().height;switch(n){case"fit":return s>=c&&d>=a&&r>=u&&h>=l;case"intersect":return s+t.helperProportions.width/2>c&&d>a-t.helperProportions.width/2&&r+t.helperProportions.height/2>u&&h>l-t.helperProportions.height/2;case"pointer":return e(o.pageY,u,i.proportions().height)&&e(o.pageX,c,i.proportions().width);case"touch":return(r>=u&&h>=r||l>=u&&h>=l||u>r&&l>h)&&(s>=c&&d>=s||a>=c&&d>=a||c>s&&a>d);default:return!1}}}(),e.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(t,i){var n,o,s=e.ui.ddmanager.droppables[t.options.scope]||[],r=i?i.type:null,a=(t.currentItem||t.element).find(":data(ui-droppable)").addBack();e:for(n=0;s.length>n;n++)if(!(s[n].options.disabled||t&&!s[n].accept.call(s[n].element[0],t.currentItem||t.element))){for(o=0;a.length>o;o++)if(a[o]===s[n].element[0]){s[n].proportions().height=0;continue e}s[n].visible="none"!==s[n].element.css("display"),s[n].visible&&("mousedown"===r&&s[n]._activate.call(s[n],i),s[n].offset=s[n].element.offset(),s[n].proportions({width:s[n].element[0].offsetWidth,height:s[n].element[0].offsetHeight}))}},drop:function(t,i){var n=!1;return e.each((e.ui.ddmanager.droppables[t.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&e.ui.intersect(t,this,this.options.tolerance,i)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],t.currentItem||t.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(t,i){t.element.parentsUntil("body").bind("scroll.droppable",function(){t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)})},drag:function(t,i){t.options.refreshPositions&&e.ui.ddmanager.prepareOffsets(t,i),e.each(e.ui.ddmanager.droppables[t.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,o,s,r=e.ui.intersect(t,this,this.options.tolerance,i),a=!r&&this.isover?"isout":r&&!this.isover?"isover":null;a&&(this.options.greedy&&(o=this.options.scope,s=this.element.parents(":data(ui-droppable)").filter(function(){return e(this).droppable("instance").options.scope===o}),s.length&&(n=e(s[0]).droppable("instance"),n.greedyChild="isover"===a)),n&&"isover"===a&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[a]=!0,this["isout"===a?"isover":"isout"]=!1,this["isover"===a?"_over":"_out"].call(this,i),n&&"isout"===a&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(t,i){t.element.parentsUntil("body").unbind("scroll.droppable"),t.options.refreshPositions||e.ui.ddmanager.prepareOffsets(t,i)}},e.ui.droppable,e.widget("ui.resizable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_num:function(e){return parseInt(e,10)||0},_isNumber:function(e){return!isNaN(parseInt(e,10))},_hasScroll:function(t,i){if("hidden"===e(t).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",o=!1;return t[n]>0?!0:(t[n]=1,o=t[n]>0,t[n]=0,o)},_create:function(){var t,i,n,o,s,r=this,a=this.options;if(this.element.addClass("ui-resizable"),e.extend(this,{_aspectRatio:!!a.aspectRatio,aspectRatio:a.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:a.helper||a.ghost||a.animate?a.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i)&&(this.element.wrap(e("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.resizable("instance")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=a.handles||(e(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this._handles=e(),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),t=this.handles.split(","),this.handles={},i=0;t.length>i;i++)n=e.trim(t[i]),s="ui-resizable-"+n,o=e("<div class='ui-resizable-handle "+s+"'></div>"),o.css({zIndex:a.zIndex}),"se"===n&&o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(o);this._renderAxis=function(t){var i,n,o,s;t=t||this.element;for(i in this.handles)this.handles[i].constructor===String?this.handles[i]=this.element.children(this.handles[i]).first().show():(this.handles[i].jquery||this.handles[i].nodeType)&&(this.handles[i]=e(this.handles[i]),this._on(this.handles[i],{mousedown:r._mouseDown})),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i)&&(n=e(this.handles[i],this.element),s=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),o=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),t.css(o,s),this._proportionallyResize()),this._handles=this._handles.add(this.handles[i])},this._renderAxis(this.element),this._handles=this._handles.add(this.element.find(".ui-resizable-handle")),this._handles.disableSelection(),this._handles.mouseover(function(){r.resizing||(this.className&&(o=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),r.axis=o&&o[1]?o[1]:"se")}),a.autoHide&&(this._handles.hide(),e(this.element).addClass("ui-resizable-autohide").mouseenter(function(){a.disabled||(e(this).removeClass("ui-resizable-autohide"),r._handles.show())}).mouseleave(function(){a.disabled||r.resizing||(e(this).addClass("ui-resizable-autohide"),r._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var t,i=function(t){e(t).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),t=this.element,this.originalElement.css({position:t.css("position"),width:t.outerWidth(),height:t.outerHeight(),top:t.css("top"),left:t.css("left")}).insertAfter(t),t.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(t){var i,n,o=!1;for(i in this.handles)n=e(this.handles[i])[0],(n===t.target||e.contains(n,t.target))&&(o=!0);return!this.options.disabled&&o},_mouseStart:function(t){var i,n,o,s=this.options,r=this.element;return this.resizing=!0,this._renderProxy(),i=this._num(this.helper.css("left")),n=this._num(this.helper.css("top")),s.containment&&(i+=e(s.containment).scrollLeft()||0,n+=e(s.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:i,top:n},this.size=this._helper?{width:this.helper.width(),height:this.helper.height()}:{width:r.width(),height:r.height()},this.originalSize=this._helper?{width:r.outerWidth(),height:r.outerHeight()}:{width:r.width(),height:r.height()},this.sizeDiff={width:r.outerWidth()-r.width(),height:r.outerHeight()-r.height()},this.originalPosition={left:i,top:n},this.originalMousePosition={left:t.pageX,top:t.pageY},this.aspectRatio="number"==typeof s.aspectRatio?s.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=e(".ui-resizable-"+this.axis).css("cursor"),e("body").css("cursor","auto"===o?this.axis+"-resize":o),r.addClass("ui-resizable-resizing"),this._propagate("start",t),!0},_mouseDrag:function(t){var i,n,o=this.originalMousePosition,s=this.axis,r=t.pageX-o.left||0,a=t.pageY-o.top||0,l=this._change[s];return this._updatePrevProperties(),l?(i=l.apply(this,[t,r,a]),this._updateVirtualBoundaries(t.shiftKey),(this._aspectRatio||t.shiftKey)&&(i=this._updateRatio(i,t)),i=this._respectSize(i,t),this._updateCache(i),this._propagate("resize",t),n=this._applyChanges(),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),e.isEmptyObject(n)||(this._updatePrevProperties(),this._trigger("resize",t,this.ui()),this._applyChanges()),!1):!1},_mouseStop:function(t){this.resizing=!1;var i,n,o,s,r,a,l,c=this.options,u=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),o=n&&this._hasScroll(i[0],"left")?0:u.sizeDiff.height,s=n?0:u.sizeDiff.width,r={width:u.helper.width()-s,height:u.helper.height()-o},a=parseInt(u.element.css("left"),10)+(u.position.left-u.originalPosition.left)||null,l=parseInt(u.element.css("top"),10)+(u.position.top-u.originalPosition.top)||null,c.animate||this.element.css(e.extend(r,{top:l,left:a})),u.helper.height(u.size.height),u.helper.width(u.size.width),this._helper&&!c.animate&&this._proportionallyResize()),e("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",t),this._helper&&this.helper.remove(),!1},_updatePrevProperties:function(){this.prevPosition={top:this.position.top,left:this.position.left},this.prevSize={width:this.size.width,height:this.size.height}},_applyChanges:function(){var e={};return this.position.top!==this.prevPosition.top&&(e.top=this.position.top+"px"),this.position.left!==this.prevPosition.left&&(e.left=this.position.left+"px"),this.size.width!==this.prevSize.width&&(e.width=this.size.width+"px"),this.size.height!==this.prevSize.height&&(e.height=this.size.height+"px"),this.helper.css(e),e},_updateVirtualBoundaries:function(e){var t,i,n,o,s,r=this.options;s={minWidth:this._isNumber(r.minWidth)?r.minWidth:0,maxWidth:this._isNumber(r.maxWidth)?r.maxWidth:1/0,minHeight:this._isNumber(r.minHeight)?r.minHeight:0,maxHeight:this._isNumber(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||e)&&(t=s.minHeight*this.aspectRatio,n=s.minWidth/this.aspectRatio,i=s.maxHeight*this.aspectRatio,o=s.maxWidth/this.aspectRatio,t>s.minWidth&&(s.minWidth=t),n>s.minHeight&&(s.minHeight=n),s.maxWidth>i&&(s.maxWidth=i),s.maxHeight>o&&(s.maxHeight=o)),this._vBoundaries=s},_updateCache:function(e){this.offset=this.helper.offset(),this._isNumber(e.left)&&(this.position.left=e.left),this._isNumber(e.top)&&(this.position.top=e.top),this._isNumber(e.height)&&(this.size.height=e.height),this._isNumber(e.width)&&(this.size.width=e.width)},_updateRatio:function(e){var t=this.position,i=this.size,n=this.axis;return this._isNumber(e.height)?e.width=e.height*this.aspectRatio:this._isNumber(e.width)&&(e.height=e.width/this.aspectRatio),"sw"===n&&(e.left=t.left+(i.width-e.width),e.top=null),"nw"===n&&(e.top=t.top+(i.height-e.height),e.left=t.left+(i.width-e.width)),e},_respectSize:function(e){var t=this._vBoundaries,i=this.axis,n=this._isNumber(e.width)&&t.maxWidth&&t.maxWidth<e.width,o=this._isNumber(e.height)&&t.maxHeight&&t.maxHeight<e.height,s=this._isNumber(e.width)&&t.minWidth&&t.minWidth>e.width,r=this._isNumber(e.height)&&t.minHeight&&t.minHeight>e.height,a=this.originalPosition.left+this.originalSize.width,l=this.position.top+this.size.height,c=/sw|nw|w/.test(i),u=/nw|ne|n/.test(i);return s&&(e.width=t.minWidth),r&&(e.height=t.minHeight),n&&(e.width=t.maxWidth),o&&(e.height=t.maxHeight),s&&c&&(e.left=a-t.minWidth),n&&c&&(e.left=a-t.maxWidth),r&&u&&(e.top=l-t.minHeight),o&&u&&(e.top=l-t.maxHeight),e.width||e.height||e.left||!e.top?e.width||e.height||e.top||!e.left||(e.left=null):e.top=null,e},_getPaddingPlusBorderDimensions:function(e){for(var t=0,i=[],n=[e.css("borderTopWidth"),e.css("borderRightWidth"),e.css("borderBottomWidth"),e.css("borderLeftWidth")],o=[e.css("paddingTop"),e.css("paddingRight"),e.css("paddingBottom"),e.css("paddingLeft")];4>t;t++)i[t]=parseInt(n[t],10)||0,i[t]+=parseInt(o[t],10)||0;return{height:i[0]+i[2],width:i[1]+i[3]}},_proportionallyResize:function(){if(this._proportionallyResizeElements.length)for(var e,t=0,i=this.helper||this.element;this._proportionallyResizeElements.length>t;t++)e=this._proportionallyResizeElements[t],this.outerDimensions||(this.outerDimensions=this._getPaddingPlusBorderDimensions(e)),e.css({height:i.height()-this.outerDimensions.height||0,width:i.width()-this.outerDimensions.width||0})},_renderProxy:function(){var t=this.element,i=this.options;this.elementOffset=t.offset(),this._helper?(this.helper=this.helper||e("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(e,t){return{width:this.originalSize.width+t}},w:function(e,t){var i=this.originalSize,n=this.originalPosition;return{left:n.left+t,width:i.width-t}},n:function(e,t,i){var n=this.originalSize,o=this.originalPosition;return{top:o.top+i,height:n.height-i}},s:function(e,t,i){return{height:this.originalSize.height+i}},se:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},sw:function(t,i,n){return e.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[t,i,n]))},ne:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[t,i,n]))},nw:function(t,i,n){return e.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[t,i,n]))}},_propagate:function(t,i){e.ui.plugin.call(this,t,[i,this.ui()]),"resize"!==t&&this._trigger(t,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),e.ui.plugin.add("resizable","animate",{stop:function(t){var i=e(this).resizable("instance"),n=i.options,o=i._proportionallyResizeElements,s=o.length&&/textarea/i.test(o[0].nodeName),r=s&&i._hasScroll(o[0],"left")?0:i.sizeDiff.height,a=s?0:i.sizeDiff.width,l={width:i.size.width-a,height:i.size.height-r},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,u=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(e.extend(l,u&&c?{top:u,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};o&&o.length&&e(o[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",t)}})}}),e.ui.plugin.add("resizable","containment",{start:function(){var t,i,n,o,s,r,a,l=e(this).resizable("instance"),c=l.options,u=l.element,d=c.containment,h=d instanceof e?d.get(0):/parent/.test(d)?u.parent().get(0):d;h&&(l.containerElement=e(h),/document/.test(d)||d===document?(l.containerOffset={left:0,top:0},l.containerPosition={left:0,top:0},l.parentData={element:e(document),left:0,top:0,width:e(document).width(),height:e(document).height()||document.body.parentNode.scrollHeight}):(t=e(h),i=[],e(["Top","Right","Left","Bottom"]).each(function(e,n){i[e]=l._num(t.css("padding"+n))}),l.containerOffset=t.offset(),l.containerPosition=t.position(),l.containerSize={height:t.innerHeight()-i[3],width:t.innerWidth()-i[1]},n=l.containerOffset,o=l.containerSize.height,s=l.containerSize.width,r=l._hasScroll(h,"left")?h.scrollWidth:s,a=l._hasScroll(h)?h.scrollHeight:o,l.parentData={element:h,left:n.left,top:n.top,width:r,height:a}))},resize:function(t){var i,n,o,s,r=e(this).resizable("instance"),a=r.options,l=r.containerOffset,c=r.position,u=r._aspectRatio||t.shiftKey,d={top:0,left:0},h=r.containerElement,p=!0;h[0]!==document&&/static/.test(h.css("position"))&&(d=l),c.left<(r._helper?l.left:0)&&(r.size.width=r.size.width+(r._helper?r.position.left-l.left:r.position.left-d.left),u&&(r.size.height=r.size.width/r.aspectRatio,p=!1),r.position.left=a.helper?l.left:0),c.top<(r._helper?l.top:0)&&(r.size.height=r.size.height+(r._helper?r.position.top-l.top:r.position.top),u&&(r.size.width=r.size.height*r.aspectRatio,p=!1),r.position.top=r._helper?l.top:0),o=r.containerElement.get(0)===r.element.parent().get(0),s=/relative|absolute/.test(r.containerElement.css("position")),o&&s?(r.offset.left=r.parentData.left+r.position.left,r.offset.top=r.parentData.top+r.position.top):(r.offset.left=r.element.offset().left,r.offset.top=r.element.offset().top),i=Math.abs(r.sizeDiff.width+(r._helper?r.offset.left-d.left:r.offset.left-l.left)),n=Math.abs(r.sizeDiff.height+(r._helper?r.offset.top-d.top:r.offset.top-l.top)),i+r.size.width>=r.parentData.width&&(r.size.width=r.parentData.width-i,u&&(r.size.height=r.size.width/r.aspectRatio,p=!1)),n+r.size.height>=r.parentData.height&&(r.size.height=r.parentData.height-n,u&&(r.size.width=r.size.height*r.aspectRatio,p=!1)),p||(r.position.left=r.prevPosition.left,r.position.top=r.prevPosition.top,r.size.width=r.prevSize.width,r.size.height=r.prevSize.height)},stop:function(){var t=e(this).resizable("instance"),i=t.options,n=t.containerOffset,o=t.containerPosition,s=t.containerElement,r=e(t.helper),a=r.offset(),l=r.outerWidth()-t.sizeDiff.width,c=r.outerHeight()-t.sizeDiff.height;t._helper&&!i.animate&&/relative/.test(s.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:c}),t._helper&&!i.animate&&/static/.test(s.css("position"))&&e(this).css({left:a.left-o.left-n.left,width:l,height:c})}}),e.ui.plugin.add("resizable","alsoResize",{start:function(){var t=e(this).resizable("instance"),i=t.options;e(i.alsoResize).each(function(){var t=e(this);t.data("ui-resizable-alsoresize",{width:parseInt(t.width(),10),height:parseInt(t.height(),10),left:parseInt(t.css("left"),10),top:parseInt(t.css("top"),10)})})},resize:function(t,i){var n=e(this).resizable("instance"),o=n.options,s=n.originalSize,r=n.originalPosition,a={height:n.size.height-s.height||0,width:n.size.width-s.width||0,top:n.position.top-r.top||0,left:n.position.left-r.left||0};e(o.alsoResize).each(function(){var t=e(this),n=e(this).data("ui-resizable-alsoresize"),o={},s=t.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];e.each(s,function(e,t){var i=(n[t]||0)+(a[t]||0);i&&i>=0&&(o[t]=i||null)}),t.css(o)})},stop:function(){e(this).removeData("resizable-alsoresize")}}),e.ui.plugin.add("resizable","ghost",{start:function(){var t=e(this).resizable("instance"),i=t.options,n=t.size;t.ghost=t.originalElement.clone(),t.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),t.ghost.appendTo(t.helper)},resize:function(){var t=e(this).resizable("instance");t.ghost&&t.ghost.css({position:"relative",height:t.size.height,width:t.size.width})},stop:function(){var t=e(this).resizable("instance");t.ghost&&t.helper&&t.helper.get(0).removeChild(t.ghost.get(0))}}),e.ui.plugin.add("resizable","grid",{resize:function(){var t,i=e(this).resizable("instance"),n=i.options,o=i.size,s=i.originalSize,r=i.originalPosition,a=i.axis,l="number"==typeof n.grid?[n.grid,n.grid]:n.grid,c=l[0]||1,u=l[1]||1,d=Math.round((o.width-s.width)/c)*c,h=Math.round((o.height-s.height)/u)*u,p=s.width+d,f=s.height+h,m=n.maxWidth&&p>n.maxWidth,g=n.maxHeight&&f>n.maxHeight,v=n.minWidth&&n.minWidth>p,b=n.minHeight&&n.minHeight>f;n.grid=l,v&&(p+=c),b&&(f+=u),m&&(p-=c),g&&(f-=u),/^(se|s|e)$/.test(a)?(i.size.width=p,i.size.height=f):/^(ne)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.top=r.top-h):/^(sw)$/.test(a)?(i.size.width=p,i.size.height=f,i.position.left=r.left-d):((0>=f-u||0>=p-c)&&(t=i._getPaddingPlusBorderDimensions(this)),f-u>0?(i.size.height=f,i.position.top=r.top-h):(f=u-t.height,i.size.height=f,i.position.top=r.top+s.height-f),p-c>0?(i.size.width=p,i.position.left=r.left-d):(p=c-t.width,i.size.width=p,i.position.left=r.left+s.width-p))}}),e.ui.resizable,e.widget("ui.selectable",e.ui.mouse,{version:"1.11.4",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var t,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){t=e(i.options.filter,i.element[0]),t.addClass("ui-selectee"),t.each(function(){var t=e(this),i=t.offset();e.data(this,"selectable-item",{element:this,$element:t,left:i.left,top:i.top,right:i.left+t.outerWidth(),bottom:i.top+t.outerHeight(),startselected:!1,selected:t.hasClass("ui-selected"),selecting:t.hasClass("ui-selecting"),unselecting:t.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=t.addClass("ui-selectee"),this._mouseInit(),this.helper=e("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(t){var i=this,n=this.options;this.opos=[t.pageX,t.pageY],this.options.disabled||(this.selectees=e(n.filter,this.element[0]),this._trigger("start",t),e(n.appendTo).append(this.helper),this.helper.css({left:t.pageX,top:t.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=e.data(this,"selectable-item");n.startselected=!0,t.metaKey||t.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",t,{unselecting:n.element}))}),e(t.target).parents().addBack().each(function(){var n,o=e.data(this,"selectable-item");return o?(n=!t.metaKey&&!t.ctrlKey||!o.$element.hasClass("ui-selected"),o.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),o.unselecting=!n,o.selecting=n,o.selected=n,n?i._trigger("selecting",t,{selecting:o.element}):i._trigger("unselecting",t,{unselecting:o.element}),!1):void 0}))},_mouseDrag:function(t){if(this.dragged=!0,!this.options.disabled){var i,n=this,o=this.options,s=this.opos[0],r=this.opos[1],a=t.pageX,l=t.pageY;return s>a&&(i=a,a=s,s=i),r>l&&(i=l,l=r,r=i),this.helper.css({left:s,top:r,width:a-s,height:l-r}),this.selectees.each(function(){var i=e.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===o.tolerance?c=!(i.left>a||s>i.right||i.top>l||r>i.bottom):"fit"===o.tolerance&&(c=i.left>s&&a>i.right&&i.top>r&&l>i.bottom),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",t,{selecting:i.element}))):(i.selecting&&((t.metaKey||t.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",t,{unselecting:i.element}))),i.selected&&(t.metaKey||t.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",t,{unselecting:i.element})))))}),!1}},_mouseStop:function(t){var i=this;return this.dragged=!1,e(".ui-unselecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",t,{unselected:n.element})}),e(".ui-selecting",this.element[0]).each(function(){var n=e.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",t,{selected:n.element})}),this._trigger("stop",t),this.helper.remove(),!1}}),e.widget("ui.sortable",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_isOverAxis:function(e,t,i){return e>=t&&t+i>e},_isFloating:function(e){return/left|right/.test(e.css("float"))||/inline|table-cell/.test(e.css("display"))},_create:function(){this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.offset=this.element.offset(),this._mouseInit(),this._setHandleClassName(),this.ready=!0},_setOption:function(e,t){this._super(e,t),"handle"===e&&this._setHandleClassName()},_setHandleClassName:function(){this.element.find(".ui-sortable-handle").removeClass("ui-sortable-handle"),e.each(this.items,function(){(this.instance.options.handle?this.item.find(this.instance.options.handle):this.item).addClass("ui-sortable-handle")})},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled").find(".ui-sortable-handle").removeClass("ui-sortable-handle"),this._mouseDestroy();for(var e=this.items.length-1;e>=0;e--)this.items[e].item.removeData(this.widgetName+"-item");return this},_mouseCapture:function(t,i){var n=null,o=!1,s=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(t),e(t.target).parents().each(function(){return e.data(this,s.widgetName+"-item")===s?(n=e(this),!1):void 0}),e.data(t.target,s.widgetName+"-item")===s&&(n=e(t.target)),n&&(!this.options.handle||i||(e(this.options.handle,n).find("*").addBack().each(function(){this===t.target&&(o=!0)}),o))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(t,i,n){var o,s,r=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(t),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},e.extend(this.offset,{click:{left:t.pageX-this.offset.left,top:t.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(t),this.originalPageX=t.pageX,this.originalPageY=t.pageY,r.cursorAt&&this._adjustOffsetFromHelper(r.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),r.containment&&this._setContainment(),r.cursor&&"auto"!==r.cursor&&(s=this.document.find("body"),
this.storedCursor=s.css("cursor"),s.css("cursor",r.cursor),this.storedStylesheet=e("<style>*{ cursor: "+r.cursor+" !important; }</style>").appendTo(s)),r.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",r.opacity)),r.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",r.zIndex)),this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",t,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(o=this.containers.length-1;o>=0;o--)this.containers[o]._trigger("activate",t,this._uiHash(this));return e.ui.ddmanager&&(e.ui.ddmanager.current=this),e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(t),!0},_mouseDrag:function(t){var i,n,o,s,r=this.options,a=!1;for(this.position=this._generatePosition(t),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==this.document[0]&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-t.pageY<r.scrollSensitivity?this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop+r.scrollSpeed:t.pageY-this.overflowOffset.top<r.scrollSensitivity&&(this.scrollParent[0].scrollTop=a=this.scrollParent[0].scrollTop-r.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-t.pageX<r.scrollSensitivity?this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft+r.scrollSpeed:t.pageX-this.overflowOffset.left<r.scrollSensitivity&&(this.scrollParent[0].scrollLeft=a=this.scrollParent[0].scrollLeft-r.scrollSpeed)):(t.pageY-this.document.scrollTop()<r.scrollSensitivity?a=this.document.scrollTop(this.document.scrollTop()-r.scrollSpeed):this.window.height()-(t.pageY-this.document.scrollTop())<r.scrollSensitivity&&(a=this.document.scrollTop(this.document.scrollTop()+r.scrollSpeed)),t.pageX-this.document.scrollLeft()<r.scrollSensitivity?a=this.document.scrollLeft(this.document.scrollLeft()-r.scrollSpeed):this.window.width()-(t.pageX-this.document.scrollLeft())<r.scrollSensitivity&&(a=this.document.scrollLeft(this.document.scrollLeft()+r.scrollSpeed))),a!==!1&&e.ui.ddmanager&&!r.dropBehaviour&&e.ui.ddmanager.prepareOffsets(this,t)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],o=n.item[0],s=this._intersectsWithPointer(n),s&&n.instance===this.currentContainer&&o!==this.currentItem[0]&&this.placeholder[1===s?"next":"prev"]()[0]!==o&&!e.contains(this.placeholder[0],o)&&("semi-dynamic"===this.options.type?!e.contains(this.element[0],o):!0)){if(this.direction=1===s?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(t,n),this._trigger("change",t,this._uiHash());break}return this._contactContainers(t),e.ui.ddmanager&&e.ui.ddmanager.drag(this,t),this._trigger("sort",t,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(t,i){if(t){if(e.ui.ddmanager&&!this.options.dropBehaviour&&e.ui.ddmanager.drop(this,t),this.options.revert){var n=this,o=this.placeholder.offset(),s=this.options.axis,r={};s&&"x"!==s||(r.left=o.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollLeft)),s&&"y"!==s||(r.top=o.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===this.document[0].body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,e(this.helper).animate(r,parseInt(this.options.revert,10)||500,function(){n._clear(t)})}else this._clear(t,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var t=this.containers.length-1;t>=0;t--)this.containers[t]._trigger("deactivate",null,this._uiHash(this)),this.containers[t].containerCache.over&&(this.containers[t]._trigger("out",null,this._uiHash(this)),this.containers[t].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),e.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?e(this.domPosition.prev).after(this.currentItem):e(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},e(i).each(function(){var i=(e(t.item||this).attr(t.attribute||"id")||"").match(t.expression||/(.+)[\-=_](.+)/);i&&n.push((t.key||i[1]+"[]")+"="+(t.key&&t.expression?i[1]:i[2]))}),!n.length&&t.key&&n.push(t.key+"="),n.join("&")},toArray:function(t){var i=this._getItemsAsjQuery(t&&t.connected),n=[];return t=t||{},i.each(function(){n.push(e(t.item||this).attr(t.attribute||"id")||"")}),n},_intersectsWith:function(e){var t=this.positionAbs.left,i=t+this.helperProportions.width,n=this.positionAbs.top,o=n+this.helperProportions.height,s=e.left,r=s+e.width,a=e.top,l=a+e.height,c=this.offset.click.top,u=this.offset.click.left,d="x"===this.options.axis||n+c>a&&l>n+c,h="y"===this.options.axis||t+u>s&&r>t+u,p=d&&h;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>e[this.floating?"width":"height"]?p:t+this.helperProportions.width/2>s&&r>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>a&&l>o-this.helperProportions.height/2},_intersectsWithPointer:function(e){var t="x"===this.options.axis||this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top,e.height),i="y"===this.options.axis||this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left,e.width),n=t&&i,o=this._getDragVerticalDirection(),s=this._getDragHorizontalDirection();return n?this.floating?s&&"right"===s||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(e){var t=this._isOverAxis(this.positionAbs.top+this.offset.click.top,e.top+e.height/2,e.height),i=this._isOverAxis(this.positionAbs.left+this.offset.click.left,e.left+e.width/2,e.width),n=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&i||"left"===o&&!i:n&&("down"===n&&t||"up"===n&&!t)},_getDragVerticalDirection:function(){var e=this.positionAbs.top-this.lastPositionAbs.top;return 0!==e&&(e>0?"down":"up")},_getDragHorizontalDirection:function(){var e=this.positionAbs.left-this.lastPositionAbs.left;return 0!==e&&(e>0?"right":"left")},refresh:function(e){return this._refreshItems(e),this._setHandleClassName(),this.refreshPositions(),this},_connectWith:function(){var e=this.options;return e.connectWith.constructor===String?[e.connectWith]:e.connectWith},_getItemsAsjQuery:function(t){function i(){a.push(this)}var n,o,s,r,a=[],l=[],c=this._connectWith();if(c&&t)for(n=c.length-1;n>=0;n--)for(s=e(c[n],this.document[0]),o=s.length-1;o>=0;o--)r=e.data(s[o],this.widgetFullName),r&&r!==this&&!r.options.disabled&&l.push([e.isFunction(r.options.items)?r.options.items.call(r.element):e(r.options.items,r.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),r]);for(l.push([e.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):e(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),n=l.length-1;n>=0;n--)l[n][0].each(i);return e(a)},_removeCurrentsFromItems:function(){var t=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=e.grep(this.items,function(e){for(var i=0;t.length>i;i++)if(t[i]===e.item[0])return!1;return!0})},_refreshItems:function(t){this.items=[],this.containers=[this];var i,n,o,s,r,a,l,c,u=this.items,d=[[e.isFunction(this.options.items)?this.options.items.call(this.element[0],t,{item:this.currentItem}):e(this.options.items,this.element),this]],h=this._connectWith();if(h&&this.ready)for(i=h.length-1;i>=0;i--)for(o=e(h[i],this.document[0]),n=o.length-1;n>=0;n--)s=e.data(o[n],this.widgetFullName),s&&s!==this&&!s.options.disabled&&(d.push([e.isFunction(s.options.items)?s.options.items.call(s.element[0],t,{item:this.currentItem}):e(s.options.items,s.element),s]),this.containers.push(s));for(i=d.length-1;i>=0;i--)for(r=d[i][1],a=d[i][0],n=0,c=a.length;c>n;n++)l=e(a[n]),l.data(this.widgetName+"-item",r),u.push({item:l,instance:r,width:0,height:0,left:0,top:0})},refreshPositions:function(t){this.floating=this.items.length?"x"===this.options.axis||this._isFloating(this.items[0].item):!1,this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,o,s;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(o=this.options.toleranceElement?e(this.options.toleranceElement,n.item):n.item,t||(n.width=o.outerWidth(),n.height=o.outerHeight()),s=o.offset(),n.left=s.left,n.top=s.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)s=this.containers[i].element.offset(),this.containers[i].containerCache.left=s.left,this.containers[i].containerCache.top=s.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(t){t=t||this;var i,n=t.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=t.currentItem[0].nodeName.toLowerCase(),o=e("<"+n+">",t.document[0]).addClass(i||t.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tbody"===n?t._createTrPlaceholder(t.currentItem.find("tr").eq(0),e("<tr>",t.document[0]).appendTo(o)):"tr"===n?t._createTrPlaceholder(t.currentItem,o):"img"===n&&o.attr("src",t.currentItem.attr("src")),i||o.css("visibility","hidden"),o},update:function(e,o){(!i||n.forcePlaceholderSize)&&(o.height()||o.height(t.currentItem.innerHeight()-parseInt(t.currentItem.css("paddingTop")||0,10)-parseInt(t.currentItem.css("paddingBottom")||0,10)),o.width()||o.width(t.currentItem.innerWidth()-parseInt(t.currentItem.css("paddingLeft")||0,10)-parseInt(t.currentItem.css("paddingRight")||0,10)))}}),t.placeholder=e(n.placeholder.element.call(t.element,t.currentItem)),t.currentItem.after(t.placeholder),n.placeholder.update(t,t.placeholder)},_createTrPlaceholder:function(t,i){var n=this;t.children().each(function(){e("<td>&#160;</td>",n.document[0]).attr("colspan",e(this).attr("colspan")||1).appendTo(i)})},_contactContainers:function(t){var i,n,o,s,r,a,l,c,u,d,h=null,p=null;for(i=this.containers.length-1;i>=0;i--)if(!e.contains(this.currentItem[0],this.containers[i].element[0]))if(this._intersectsWith(this.containers[i].containerCache)){if(h&&e.contains(this.containers[i].element[0],h.element[0]))continue;h=this.containers[i],p=i}else this.containers[i].containerCache.over&&(this.containers[i]._trigger("out",t,this._uiHash(this)),this.containers[i].containerCache.over=0);if(h)if(1===this.containers.length)this.containers[p].containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1);else{for(o=1e4,s=null,u=h.floating||this._isFloating(this.currentItem),r=u?"left":"top",a=u?"width":"height",d=u?"clientX":"clientY",n=this.items.length-1;n>=0;n--)e.contains(this.containers[p].element[0],this.items[n].item[0])&&this.items[n].item[0]!==this.currentItem[0]&&(l=this.items[n].item.offset()[r],c=!1,t[d]-l>this.items[n][a]/2&&(c=!0),o>Math.abs(t[d]-l)&&(o=Math.abs(t[d]-l),s=this.items[n],this.direction=c?"up":"down"));if(!s&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[p])return void(this.currentContainer.containerCache.over||(this.containers[p]._trigger("over",t,this._uiHash()),this.currentContainer.containerCache.over=1));s?this._rearrange(t,s,null,!0):this._rearrange(t,null,this.containers[p].element,!0),this._trigger("change",t,this._uiHash()),this.containers[p]._trigger("change",t,this._uiHash(this)),this.currentContainer=this.containers[p],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[p]._trigger("over",t,this._uiHash(this)),this.containers[p].containerCache.over=1}},_createHelper:function(t){var i=this.options,n=e.isFunction(i.helper)?e(i.helper.apply(this.element[0],[t,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||e("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(t){"string"==typeof t&&(t=t.split(" ")),e.isArray(t)&&(t={left:+t[0],top:+t[1]||0}),"left"in t&&(this.offset.click.left=t.left+this.margins.left),"right"in t&&(this.offset.click.left=this.helperProportions.width-t.right+this.margins.left),"top"in t&&(this.offset.click.top=t.top+this.margins.top),"bottom"in t&&(this.offset.click.top=this.helperProportions.height-t.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var t=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])&&(t.left+=this.scrollParent.scrollLeft(),t.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===this.document[0].body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&e.ui.ie)&&(t={top:0,left:0}),{top:t.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:t.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var e=this.currentItem.position();return{top:e.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:e.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var t,i,n,o=this.options;"parent"===o.containment&&(o.containment=this.helper[0].parentNode),("document"===o.containment||"window"===o.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,"document"===o.containment?this.document.width():this.window.width()-this.helperProportions.width-this.margins.left,("document"===o.containment?this.document.width():this.window.height()||this.document[0].body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(o.containment)||(t=e(o.containment)[0],i=e(o.containment).offset(),n="hidden"!==e(t).css("overflow"),this.containment=[i.left+(parseInt(e(t).css("borderLeftWidth"),10)||0)+(parseInt(e(t).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(e(t).css("borderTopWidth"),10)||0)+(parseInt(e(t).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(t.scrollWidth,t.offsetWidth):t.offsetWidth)-(parseInt(e(t).css("borderLeftWidth"),10)||0)-(parseInt(e(t).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(t.scrollHeight,t.offsetHeight):t.offsetHeight)-(parseInt(e(t).css("borderTopWidth"),10)||0)-(parseInt(e(t).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(t,i){i||(i=this.position);var n="absolute"===t?1:-1,o="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,s=/(html|body)/i.test(o[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():s?0:o.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():s?0:o.scrollLeft())*n}},_generatePosition:function(t){var i,n,o=this.options,s=t.pageX,r=t.pageY,a="absolute"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&e.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(a[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==this.document[0]&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(t.pageX-this.offset.click.left<this.containment[0]&&(s=this.containment[0]+this.offset.click.left),t.pageY-this.offset.click.top<this.containment[1]&&(r=this.containment[1]+this.offset.click.top),t.pageX-this.offset.click.left>this.containment[2]&&(s=this.containment[2]+this.offset.click.left),t.pageY-this.offset.click.top>this.containment[3]&&(r=this.containment[3]+this.offset.click.top)),o.grid&&(i=this.originalPageY+Math.round((r-this.originalPageY)/o.grid[1])*o.grid[1],r=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-o.grid[1]:i+o.grid[1]:i,n=this.originalPageX+Math.round((s-this.originalPageX)/o.grid[0])*o.grid[0],s=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-o.grid[0]:n+o.grid[0]:n)),{top:r-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:a.scrollTop()),left:s-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:a.scrollLeft())}},_rearrange:function(e,t,i,n){i?i[0].appendChild(this.placeholder[0]):t.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?t.item[0]:t.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var o=this.counter;this._delay(function(){o===this.counter&&this.refreshPositions(!n)})},_clear:function(e,t){function i(e,t,i){return function(n){i._trigger(e,n,t._uiHash(t))}}this.reverting=!1;var n,o=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(n in this._storedCSS)("auto"===this._storedCSS[n]||"static"===this._storedCSS[n])&&(this._storedCSS[n]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!t&&o.push(function(e){this._trigger("receive",e,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||t||o.push(function(e){this._trigger("update",e,this._uiHash())}),this!==this.currentContainer&&(t||(o.push(function(e){this._trigger("remove",e,this._uiHash())}),o.push(function(e){return function(t){e._trigger("receive",t,this._uiHash(this))}}.call(this,this.currentContainer)),o.push(function(e){return function(t){e._trigger("update",t,this._uiHash(this))}}.call(this,this.currentContainer)))),n=this.containers.length-1;n>=0;n--)t||o.push(i("deactivate",this,this.containers[n])),this.containers[n].containerCache.over&&(o.push(i("out",this,this.containers[n])),this.containers[n].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,t||this._trigger("beforeStop",e,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.cancelHelperRemoval||(this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null),!t){for(n=0;o.length>n;n++)o[n].call(this,e);this._trigger("stop",e,this._uiHash())}return this.fromOutside=!1,!this.cancelHelperRemoval},_trigger:function(){e.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(t){var i=t||this;return{helper:i.helper,placeholder:i.placeholder||e([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:t?t.element:null}}}),e.widget("ui.accordion",{version:"1.11.4",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},hideProps:{borderTopWidth:"hide",borderBottomWidth:"hide",paddingTop:"hide",paddingBottom:"hide",height:"hide"},showProps:{borderTopWidth:"show",borderBottomWidth:"show",paddingTop:"show",paddingBottom:"show",height:"show"},_create:function(){var t=this.options;this.prevShow=this.prevHide=e(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),t.collapsible||t.active!==!1&&null!=t.active||(t.active=0),this._processPanels(),0>t.active&&(t.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():e()}},_createIcons:function(){var t=this.options.icons;t&&(e("<span>").addClass("ui-accordion-header-icon ui-icon "+t.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(t.header).addClass(t.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var e;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").removeUniqueId(),this._destroyIcons(),e=this.headers.next().removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").css("display","").removeAttr("role").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeUniqueId(),"content"!==this.options.heightStyle&&e.css("height","")},_setOption:function(e,t){return"active"===e?void this._activate(t):("event"===e&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(t)),this._super(e,t),"collapsible"!==e||t||this.options.active!==!1||this._activate(0),"icons"===e&&(this._destroyIcons(),t&&this._createIcons()),void("disabled"===e&&(this.element.toggleClass("ui-state-disabled",!!t).attr("aria-disabled",t),this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!t))))},_keydown:function(t){if(!t.altKey&&!t.ctrlKey){var i=e.ui.keyCode,n=this.headers.length,o=this.headers.index(t.target),s=!1;switch(t.keyCode){case i.RIGHT:case i.DOWN:s=this.headers[(o+1)%n];break;case i.LEFT:case i.UP:s=this.headers[(o-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(t);break;case i.HOME:s=this.headers[0];break;case i.END:s=this.headers[n-1]}s&&(e(t.target).attr("tabIndex",-1),e(s).attr("tabIndex",0),s.focus(),t.preventDefault())}},_panelKeyDown:function(t){t.keyCode===e.ui.keyCode.UP&&t.ctrlKey&&e(t.currentTarget).prev().focus()},refresh:function(){var t=this.options;this._processPanels(),t.active===!1&&t.collapsible===!0||!this.headers.length?(t.active=!1,this.active=e()):t.active===!1?this._activate(0):this.active.length&&!e.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(t.active=!1,this.active=e()):this._activate(Math.max(0,t.active-1)):t.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){var e=this.headers,t=this.panels;this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-state-default ui-corner-all"),this.panels=this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide(),t&&(this._off(e.not(this.headers)),this._off(t.not(this.panels)))},_refresh:function(){var t,i=this.options,n=i.heightStyle,o=this.element.parent();this.active=this._findActive(i.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(){var t=e(this),i=t.uniqueId().attr("id"),n=t.next(),o=n.uniqueId().attr("id");t.attr("aria-controls",o),n.attr("aria-labelledby",i)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false","aria-expanded":"false",tabIndex:-1}).next().attr({"aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0}).next().attr({"aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(i.event),"fill"===n?(t=o.height(),this.element.siblings(":visible").each(function(){var i=e(this),n=i.css("position");"absolute"!==n&&"fixed"!==n&&(t-=i.outerHeight(!0))}),this.headers.each(function(){t-=e(this).outerHeight(!0)}),this.headers.next().each(function(){e(this).height(Math.max(0,t-e(this).innerHeight()+e(this).height()))}).css("overflow","auto")):"auto"===n&&(t=0,this.headers.next().each(function(){t=Math.max(t,e(this).css("height","").height())}).height(t))},_activate:function(t){var i=this._findActive(t)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:e.noop}))},_findActive:function(t){return"number"==typeof t?this.headers.eq(t):e()},_setupEvents:function(t){var i={keydown:"_keydown"};t&&e.each(t.split(" "),function(e,t){i[t]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(t){var i=this.options,n=this.active,o=e(t.currentTarget),s=o[0]===n[0],r=s&&i.collapsible,a=r?e():o.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:r?e():o,newPanel:a};t.preventDefault(),s&&!i.collapsible||this._trigger("beforeActivate",t,c)===!1||(i.active=r?!1:this.headers.index(o),this.active=s?e():o,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),s||(o.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&o.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),o.next().addClass("ui-accordion-content-active")))},_toggle:function(t){var i=t.newPanel,n=this.prevShow.length?this.prevShow:t.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,t):(n.hide(),i.show(),this._toggleComplete(t)),n.attr({"aria-hidden":"true"}),n.prev().attr({"aria-selected":"false","aria-expanded":"false"}),i.length&&n.length?n.prev().attr({tabIndex:-1,"aria-expanded":"false"}):i.length&&this.headers.filter(function(){return 0===parseInt(e(this).attr("tabIndex"),10)}).attr("tabIndex",-1),i.attr("aria-hidden","false").prev().attr({"aria-selected":"true","aria-expanded":"true",tabIndex:0})},_animate:function(e,t,i){var n,o,s,r=this,a=0,l=e.css("box-sizing"),c=e.length&&(!t.length||e.index()<t.index()),u=this.options.animate||{},d=c&&u.down||u,h=function(){r._toggleComplete(i)};return"number"==typeof d&&(s=d),"string"==typeof d&&(o=d),o=o||d.easing||u.easing,s=s||d.duration||u.duration,t.length?e.length?(n=e.show().outerHeight(),t.animate(this.hideProps,{duration:s,easing:o,step:function(e,t){t.now=Math.round(e)}}),void e.hide().animate(this.showProps,{duration:s,easing:o,complete:h,step:function(e,i){i.now=Math.round(e),"height"!==i.prop?"content-box"===l&&(a+=i.now):"content"!==r.options.heightStyle&&(i.now=Math.round(n-t.outerHeight()-a),a=0)}})):t.animate(this.hideProps,s,o,h):e.animate(this.showProps,s,o,h)},_toggleComplete:function(e){var t=e.oldPanel;t.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),t.length&&(t.parent()[0].className=t.parent()[0].className),this._trigger("activate",null,e)}});var r,a="ui-button ui-widget ui-state-default ui-corner-all",l="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",c=function(){var t=e(this);setTimeout(function(){t.find(":ui-button").button("refresh")},1)},u=function(t){var i=t.name,n=t.form,o=e([]);return i&&(i=i.replace(/'/g,"\\'"),o=n?e(n).find("[name='"+i+"'][type=radio]"):e("[name='"+i+"'][type=radio]",t.ownerDocument).filter(function(){return!this.form})),o};e.widget("ui.button",{version:"1.11.4",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,c),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var t=this,i=this.options,n="checkbox"===this.type||"radio"===this.type,o=n?"":"ui-state-active";null===i.label&&(i.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(a).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){i.disabled||this===r&&e(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){i.disabled||e(this).removeClass(o)}).bind("click"+this.eventNamespace,function(e){i.disabled&&(e.preventDefault(),e.stopImmediatePropagation())}),this._on({focus:function(){this.buttonElement.addClass("ui-state-focus")},blur:function(){this.buttonElement.removeClass("ui-state-focus")}}),n&&this.element.bind("change"+this.eventNamespace,function(){t.refresh()}),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return i.disabled?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(i.disabled)return!1;e(this).addClass("ui-state-active"),t.buttonElement.attr("aria-pressed","true");var n=t.element[0];u(n).not(n).map(function(){return e(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){
return i.disabled?!1:(e(this).addClass("ui-state-active"),r=this,void t.document.one("mouseup",function(){r=null}))}).bind("mouseup"+this.eventNamespace,function(){return i.disabled?!1:void e(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(t){return i.disabled?!1:void((t.keyCode===e.ui.keyCode.SPACE||t.keyCode===e.ui.keyCode.ENTER)&&e(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){e(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(t){t.keyCode===e.ui.keyCode.SPACE&&e(this).click()})),this._setOption("disabled",i.disabled),this._resetButton()},_determineButtonType:function(){var e,t,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(e=this.element.parents().last(),t="label[for='"+this.element.attr("id")+"']",this.buttonElement=e.find(t),this.buttonElement.length||(e=e.length?e.siblings():this.element.siblings(),this.buttonElement=e.filter(t),this.buttonElement.length||(this.buttonElement=e.find(t))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(a+" ui-state-active "+l).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(e,t){return this._super(e,t),"disabled"===e?(this.widget().toggleClass("ui-state-disabled",!!t),this.element.prop("disabled",!!t),void(t&&("checkbox"===this.type||"radio"===this.type?this.buttonElement.removeClass("ui-state-focus"):this.buttonElement.removeClass("ui-state-focus ui-state-active")))):void this._resetButton()},refresh:function(){var t=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");t!==this.options.disabled&&this._setOption("disabled",t),"radio"===this.type?u(this.element[0]).each(function(){e(this).is(":checked")?e(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):e(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var t=this.buttonElement.removeClass(l),i=e("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(t.empty()).text(),n=this.options.icons,o=n.primary&&n.secondary,s=[];n.primary||n.secondary?(this.options.text&&s.push("ui-button-text-icon"+(o?"s":n.primary?"-primary":"-secondary")),n.primary&&t.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&t.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(s.push(o?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||t.attr("title",e.trim(i)))):s.push("ui-button-text-only"),t.addClass(s.join(" "))}}),e.widget("ui.buttonset",{version:"1.11.4",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(e,t){"disabled"===e&&this.buttons.button("option",e,t),this._super(e,t)},refresh:function(){var t="rtl"===this.element.css("direction"),i=this.element.find(this.options.items),n=i.filter(":ui-button");i.not(":ui-button").button(),n.button("refresh"),this.buttons=i.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(t?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(t?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return e(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}}),e.ui.button,e.widget("ui.slider",e.ui.mouse,{version:"1.11.4",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},numPages:5,_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this._calculateNewMax(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var t,i,n=this.options,o=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),s="<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>",r=[];for(i=n.values&&n.values.length||1,o.length>i&&(o.slice(i).remove(),o=o.slice(0,i)),t=o.length;i>t;t++)r.push(s);this.handles=o.add(e(r.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(t){e(this).data("ui-slider-handle-index",t)})},_createRange:function(){var t=this.options,i="";t.range?(t.range===!0&&(t.values?t.values.length&&2!==t.values.length?t.values=[t.values[0],t.values[0]]:e.isArray(t.values)&&(t.values=t.values.slice(0)):t.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=e("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===t.range||"max"===t.range?" ui-slider-range-"+t.range:""))):(this.range&&this.range.remove(),this.range=null)},_setupEvents:function(){this._off(this.handles),this._on(this.handles,this._handleEvents),this._hoverable(this.handles),this._focusable(this.handles)},_destroy:function(){this.handles.remove(),this.range&&this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(t){var i,n,o,s,r,a,l,c,u=this,d=this.options;return d.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:t.pageX,y:t.pageY},n=this._normValueFromMouse(i),o=this._valueMax()-this._valueMin()+1,this.handles.each(function(t){var i=Math.abs(n-u.values(t));(o>i||o===i&&(t===u._lastChangedValue||u.values(t)===d.min))&&(o=i,s=e(this),r=t)}),a=this._start(t,r),a===!1?!1:(this._mouseSliding=!0,this._handleIndex=r,s.addClass("ui-state-active").focus(),l=s.offset(),c=!e(t.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:t.pageX-l.left-s.width()/2,top:t.pageY-l.top-s.height()/2-(parseInt(s.css("borderTopWidth"),10)||0)-(parseInt(s.css("borderBottomWidth"),10)||0)+(parseInt(s.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(t,r,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(e){var t={x:e.pageX,y:e.pageY},i=this._normValueFromMouse(t);return this._slide(e,this._handleIndex,i),!1},_mouseStop:function(e){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(e,this._handleIndex),this._change(e,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(e){var t,i,n,o,s;return"horizontal"===this.orientation?(t=this.elementSize.width,i=e.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(t=this.elementSize.height,i=e.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/t,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),o=this._valueMax()-this._valueMin(),s=this._valueMin()+n*o,this._trimAlignValue(s)},_start:function(e,t){var i={handle:this.handles[t],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("start",e,i)},_slide:function(e,t,i){var n,o,s;this.options.values&&this.options.values.length?(n=this.values(t?0:1),2===this.options.values.length&&this.options.range===!0&&(0===t&&i>n||1===t&&n>i)&&(i=n),i!==this.values(t)&&(o=this.values(),o[t]=i,s=this._trigger("slide",e,{handle:this.handles[t],value:i,values:o}),n=this.values(t?0:1),s!==!1&&this.values(t,i))):i!==this.value()&&(s=this._trigger("slide",e,{handle:this.handles[t],value:i}),s!==!1&&this.value(i))},_stop:function(e,t){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._trigger("stop",e,i)},_change:function(e,t){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[t],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(t),i.values=this.values()),this._lastChangedValue=t,this._trigger("change",e,i)}},value:function(e){return arguments.length?(this.options.value=this._trimAlignValue(e),this._refreshValue(),void this._change(null,0)):this._value()},values:function(t,i){var n,o,s;if(arguments.length>1)return this.options.values[t]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,t);if(!arguments.length)return this._values();if(!e.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(t):this.value();for(n=this.options.values,o=arguments[0],s=0;n.length>s;s+=1)n[s]=this._trimAlignValue(o[s]),this._change(null,s);this._refreshValue()},_setOption:function(t,i){var n,o=0;switch("range"===t&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),e.isArray(this.options.values)&&(o=this.options.values.length),"disabled"===t&&this.element.toggleClass("ui-state-disabled",!!i),this._super(t,i),t){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue(),this.handles.css("horizontal"===i?"bottom":"left","");break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;o>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"step":case"min":case"max":this._animateOff=!0,this._calculateNewMax(),this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var e=this.options.value;return e=this._trimAlignValue(e)},_values:function(e){var t,i,n;if(arguments.length)return t=this.options.values[e],t=this._trimAlignValue(t);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(e){if(this._valueMin()>=e)return this._valueMin();if(e>=this._valueMax())return this._valueMax();var t=this.options.step>0?this.options.step:1,i=(e-this._valueMin())%t,n=e-i;return 2*Math.abs(i)>=t&&(n+=i>0?t:-t),parseFloat(n.toFixed(5))},_calculateNewMax:function(){var e=this.options.max,t=this._valueMin(),i=this.options.step,n=Math.floor(+(e-t).toFixed(this._precision())/i)*i;e=n+t,this.max=parseFloat(e.toFixed(this._precision()))},_precision:function(){var e=this._precisionOf(this.options.step);return null!==this.options.min&&(e=Math.max(e,this._precisionOf(this.options.min))),e},_precisionOf:function(e){var t=""+e,i=t.indexOf(".");return-1===i?0:t.length-i-1},_valueMin:function(){return this.options.min},_valueMax:function(){return this.max},_refreshValue:function(){var t,i,n,o,s,r=this.options.range,a=this.options,l=this,c=this._animateOff?!1:a.animate,u={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),u["horizontal"===l.orientation?"left":"bottom"]=i+"%",e(this).stop(1,1)[c?"animate":"css"](u,a.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({width:i-t+"%"},{queue:!1,duration:a.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},a.animate),1===n&&l.range[c?"animate":"css"]({height:i-t+"%"},{queue:!1,duration:a.animate}))),t=i}):(n=this.value(),o=this._valueMin(),s=this._valueMax(),i=s!==o?100*((n-o)/(s-o)):0,u["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](u,a.animate),"min"===r&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},a.animate),"max"===r&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:a.animate}),"min"===r&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},a.animate),"max"===r&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:a.animate}))},_handleEvents:{keydown:function(t){var i,n,o,s,r=e(t.target).data("ui-slider-handle-index");switch(t.keyCode){case e.ui.keyCode.HOME:case e.ui.keyCode.END:case e.ui.keyCode.PAGE_UP:case e.ui.keyCode.PAGE_DOWN:case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(t.preventDefault(),!this._keySliding&&(this._keySliding=!0,e(t.target).addClass("ui-state-active"),i=this._start(t,r),i===!1))return}switch(s=this.options.step,n=o=this.options.values&&this.options.values.length?this.values(r):this.value(),t.keyCode){case e.ui.keyCode.HOME:o=this._valueMin();break;case e.ui.keyCode.END:o=this._valueMax();break;case e.ui.keyCode.PAGE_UP:o=this._trimAlignValue(n+(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(n-(this._valueMax()-this._valueMin())/this.numPages);break;case e.ui.keyCode.UP:case e.ui.keyCode.RIGHT:if(n===this._valueMax())return;o=this._trimAlignValue(n+s);break;case e.ui.keyCode.DOWN:case e.ui.keyCode.LEFT:if(n===this._valueMin())return;o=this._trimAlignValue(n-s)}this._slide(t,r,o)},keyup:function(t){var i=e(t.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(t,i),this._change(t,i),e(t.target).removeClass("ui-state-active"))}}}),e.widget("ui.tooltip",{version:"1.11.4",options:{content:function(){var t=e(this).attr("title")||"";return e("<a>").text(t).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_addDescribedBy:function(t,i){var n=(t.attr("aria-describedby")||"").split(/\s+/);n.push(i),t.data("ui-tooltip-id",i).attr("aria-describedby",e.trim(n.join(" ")))},_removeDescribedBy:function(t){var i=t.data("ui-tooltip-id"),n=(t.attr("aria-describedby")||"").split(/\s+/),o=e.inArray(i,n);-1!==o&&n.splice(o,1),t.removeData("ui-tooltip-id"),n=e.trim(n.join(" ")),n?t.attr("aria-describedby",n):t.removeAttr("aria-describedby")},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable(),this.liveRegion=e("<div>").attr({role:"log","aria-live":"assertive","aria-relevant":"additions"}).addClass("ui-helper-hidden-accessible").appendTo(this.document[0].body)},_setOption:function(t,i){var n=this;return"disabled"===t?(this[i?"_disable":"_enable"](),void(this.options[t]=i)):(this._super(t,i),void("content"===t&&e.each(this.tooltips,function(e,t){n._updateContent(t.element)})))},_disable:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur");o.target=o.currentTarget=n.element[0],t.close(o,!0)}),this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.is("[title]")&&t.data("ui-tooltip-title",t.attr("title")).removeAttr("title")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var t=e(this);t.data("ui-tooltip-title")&&t.attr("title",t.data("ui-tooltip-title"))})},open:function(t){var i=this,n=e(t?t.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),t&&"mouseover"===t.type&&n.parents().each(function(){var t,n=e(this);n.data("ui-tooltip-open")&&(t=e.Event("blur"),t.target=t.currentTarget=this,i.close(t,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._registerCloseHandlers(t,n),this._updateContent(n,t))},_updateContent:function(e,t){var i,n=this.options.content,o=this,s=t?t.type:null;return"string"==typeof n?this._open(t,e,n):(i=n.call(e[0],function(i){o._delay(function(){e.data("ui-tooltip-open")&&(t&&(t.type=s),this._open(t,e,i))})}),void(i&&this._open(t,e,i)))},_open:function(t,i,n){function o(e){c.of=e,r.is(":hidden")||r.position(c)}var s,r,a,l,c=e.extend({},this.options.position);if(n){if(s=this._find(i))return void s.tooltip.find(".ui-tooltip-content").html(n);i.is("[title]")&&(t&&"mouseover"===t.type?i.attr("title",""):i.removeAttr("title")),s=this._tooltip(i),r=s.tooltip,this._addDescribedBy(i,r.attr("id")),r.find(".ui-tooltip-content").html(n),this.liveRegion.children().hide(),n.clone?(l=n.clone(),l.removeAttr("id").find("[id]").removeAttr("id")):l=n,e("<div>").html(l).appendTo(this.liveRegion),this.options.track&&t&&/^mouse/.test(t.type)?(this._on(this.document,{mousemove:o}),o(t)):r.position(e.extend({of:i},this.options.position)),r.hide(),this._show(r,this.options.show),this.options.show&&this.options.show.delay&&(a=this.delayedShow=setInterval(function(){r.is(":visible")&&(o(c.of),clearInterval(a))},e.fx.interval)),this._trigger("open",t,{tooltip:r})}},_registerCloseHandlers:function(t,i){var n={keyup:function(t){if(t.keyCode===e.ui.keyCode.ESCAPE){var n=e.Event(t);n.currentTarget=i[0],this.close(n,!0)}}};i[0]!==this.element[0]&&(n.remove=function(){this._removeTooltip(this._find(i).tooltip)}),t&&"mouseover"!==t.type||(n.mouseleave="close"),t&&"focusin"!==t.type||(n.focusout="close"),this._on(!0,i,n)},close:function(t){var i,n=this,o=e(t?t.currentTarget:this.element),s=this._find(o);return s?(i=s.tooltip,void(s.closing||(clearInterval(this.delayedShow),o.data("ui-tooltip-title")&&!o.attr("title")&&o.attr("title",o.data("ui-tooltip-title")),this._removeDescribedBy(o),s.hiding=!0,i.stop(!0),this._hide(i,this.options.hide,function(){n._removeTooltip(e(this))}),o.removeData("ui-tooltip-open"),this._off(o,"mouseleave focusout keyup"),o[0]!==this.element[0]&&this._off(o,"remove"),this._off(this.document,"mousemove"),t&&"mouseleave"===t.type&&e.each(this.parents,function(t,i){e(i.element).attr("title",i.title),delete n.parents[t]}),s.closing=!0,this._trigger("close",t,{tooltip:i}),s.hiding||(s.closing=!1)))):void o.removeData("ui-tooltip-open")},_tooltip:function(t){var i=e("<div>").attr("role","tooltip").addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||"")),n=i.uniqueId().attr("id");return e("<div>").addClass("ui-tooltip-content").appendTo(i),i.appendTo(this.document[0].body),this.tooltips[n]={element:t,tooltip:i}},_find:function(e){var t=e.data("ui-tooltip-id");return t?this.tooltips[t]:null},_removeTooltip:function(e){e.remove(),delete this.tooltips[e.attr("id")]},_destroy:function(){var t=this;e.each(this.tooltips,function(i,n){var o=e.Event("blur"),s=n.element;o.target=o.currentTarget=s[0],t.close(o,!0),e("#"+i).remove(),s.data("ui-tooltip-title")&&(s.attr("title")||s.attr("title",s.data("ui-tooltip-title")),s.removeData("ui-tooltip-title"))}),this.liveRegion.remove()}})}),!jQuery)throw new Error("Bootstrap requires jQuery");+function(e){"use strict";function t(){var e=document.createElement("bootstrap"),t={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in t)if(void 0!==e.style[i])return{end:t[i]}}e.fn.emulateTransitionEnd=function(t){var i=!1,n=this;e(this).one(e.support.transition.end,function(){i=!0});var o=function(){i||e(n).trigger(e.support.transition.end)};return setTimeout(o,t),this},e(function(){e.support.transition=t()})}(window.jQuery),+function(e){"use strict";var t='[data-dismiss="alert"]',i=function(i){e(i).on("click",t,this.close)};i.prototype.close=function(t){function i(){s.trigger("closed.bs.alert").remove()}var n=e(this),o=n.attr("data-target");o||(o=n.attr("href"),o=o&&o.replace(/.*(?=#[^\s]*$)/,""));var s=e(o);t&&t.preventDefault(),s.length||(s=n.hasClass("alert")?n:n.parent()),s.trigger(t=e.Event("close.bs.alert")),t.isDefaultPrevented()||(s.removeClass("in"),e.support.transition&&s.hasClass("fade")?s.one(e.support.transition.end,i).emulateTransitionEnd(150):i())};var n=e.fn.alert;e.fn.alert=function(t){return this.each(function(){var n=e(this),o=n.data("bs.alert");o||n.data("bs.alert",o=new i(this)),"string"==typeof t&&o[t].call(n)})},e.fn.alert.Constructor=i,e.fn.alert.noConflict=function(){return e.fn.alert=n,this},e(document).on("click.bs.alert.data-api",t,i.prototype.close)}(window.jQuery),+function(e){"use strict";var t=function(i,n){this.$element=e(i),this.options=e.extend({},t.DEFAULTS,n)};t.DEFAULTS={loadingText:"loading..."},t.prototype.setState=function(e){var t="disabled",i=this.$element,n=i.is("input")?"val":"html",o=i.data();e+="Text",o.resetText||i.data("resetText",i[n]()),i[n](o[e]||this.options[e]),setTimeout(function(){"loadingText"==e?i.addClass(t).attr(t,t):i.removeClass(t).removeAttr(t)},0)},t.prototype.toggle=function(){var e=this.$element.closest('[data-toggle="buttons"]');if(e.length){var t=this.$element.find("input").prop("checked",!this.$element.hasClass("active")).trigger("change");"radio"===t.prop("type")&&e.find(".active").removeClass("active")}this.$element.toggleClass("active")};var i=e.fn.button;e.fn.button=function(i){return this.each(function(){var n=e(this),o=n.data("bs.button"),s="object"==typeof i&&i;o||n.data("bs.button",o=new t(this,s)),"toggle"==i?o.toggle():i&&o.setState(i)})},e.fn.button.Constructor=t,e.fn.button.noConflict=function(){return e.fn.button=i,this},e(document).on("click.bs.button.data-api","[data-toggle^=button]",function(t){var i=e(t.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),t.preventDefault()})}(window.jQuery),+function(e){"use strict";var t=function(t,i){this.$element=e(t),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",e.proxy(this.pause,this)).on("mouseleave",e.proxy(this.cycle,this))};t.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},t.prototype.cycle=function(t){return t||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(e.proxy(this.next,this),this.options.interval)),this},t.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},t.prototype.to=function(t){var i=this,n=this.getActiveIndex();return t>this.$items.length-1||0>t?void 0:this.sliding?this.$element.one("slid",function(){i.to(t)}):n==t?this.pause().cycle():this.slide(t>n?"next":"prev",e(this.$items[t]))},t.prototype.pause=function(t){return t||(this.paused=!0),this.$element.find(".next, .prev").length&&e.support.transition.end&&(this.$element.trigger(e.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},t.prototype.next=function(){return this.sliding?void 0:this.slide("next")},t.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},t.prototype.slide=function(t,i){var n=this.$element.find(".item.active"),o=i||n[t](),s=this.interval,r="next"==t?"left":"right",a="next"==t?"first":"last",l=this;if(!o.length){if(!this.options.wrap)return;o=this.$element.find(".item")[a]()}this.sliding=!0,s&&this.pause();var c=e.Event("slide.bs.carousel",{relatedTarget:o[0],direction:r});if(!o.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid",function(){var t=e(l.$indicators.children()[l.getActiveIndex()]);t&&t.addClass("active")})),e.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;o.addClass(t),o[0].offsetWidth,n.addClass(r),o.addClass(r),n.one(e.support.transition.end,function(){o.removeClass([t,r].join(" ")).addClass("active"),n.removeClass(["active",r].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;n.removeClass("active"),o.addClass("active"),this.sliding=!1,this.$element.trigger("slid")}return s&&this.cycle(),this}};var i=e.fn.carousel;e.fn.carousel=function(i){return this.each(function(){var n=e(this),o=n.data("bs.carousel"),s=e.extend({},t.DEFAULTS,n.data(),"object"==typeof i&&i),r="string"==typeof i?i:s.slide;o||n.data("bs.carousel",o=new t(this,s)),"number"==typeof i?o.to(i):r?o[r]():s.interval&&o.pause().cycle()})},e.fn.carousel.Constructor=t,e.fn.carousel.noConflict=function(){return e.fn.carousel=i,this},e(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(t){var i,n=e(this),o=e(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),s=e.extend({},o.data(),n.data()),r=n.attr("data-slide-to");r&&(s.interval=!1),o.carousel(s),(r=n.attr("data-slide-to"))&&o.data("bs.carousel").to(r),t.preventDefault()}),e(window).on("load",function(){e('[data-ride="carousel"]').each(function(){var t=e(this);t.carousel(t.data())})})}(window.jQuery),+function(e){"use strict";var t=function(i,n){this.$element=e(i),this.options=e.extend({},t.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=e(this.options.parent)),this.options.toggle&&this.toggle()};t.DEFAULTS={toggle:!0},t.prototype.dimension=function(){var e=this.$element.hasClass("width");return e?"width":"height"},t.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var t=e.Event("show.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var o=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[o](0),this.transitioning=1;var s=function(){this.$element.removeClass("collapsing").addClass("in")[o]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!e.support.transition)return s.call(this);var r=e.camelCase(["scroll",o].join("-"));this.$element.one(e.support.transition.end,e.proxy(s,this)).emulateTransitionEnd(350)[o](this.$element[0][r])}}},t.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var t=e.Event("hide.bs.collapse");if(this.$element.trigger(t),!t.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return e.support.transition?void this.$element[i](0).one(e.support.transition.end,e.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},t.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=e.fn.collapse;e.fn.collapse=function(i){return this.each(function(){var n=e(this),o=n.data("bs.collapse"),s=e.extend({},t.DEFAULTS,n.data(),"object"==typeof i&&i);o||n.data("bs.collapse",o=new t(this,s)),"string"==typeof i&&o[i]()})},e.fn.collapse.Constructor=t,e.fn.collapse.noConflict=function(){return e.fn.collapse=i,this},e(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(t){var i,n=e(this),o=n.attr("data-target")||t.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),s=e(o),r=s.data("bs.collapse"),a=r?"toggle":n.data(),l=n.attr("data-parent"),c=l&&e(l);r&&r.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[s.hasClass("in")?"addClass":"removeClass"]("collapsed")),s.collapse(a)})}(window.jQuery),+function(e){"use strict";function t(){e(n).remove(),e(o).each(function(t){var n=i(e(this));n.hasClass("open")&&(n.trigger(t=e.Event("hide.bs.dropdown")),t.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))})}function i(t){var i=t.attr("data-target");i||(i=t.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&e(i);return n&&n.length?n:t.parent()}var n=".dropdown-backdrop",o="[data-toggle=dropdown]",s=function(t){e(t).on("click.bs.dropdown",this.toggle)};s.prototype.toggle=function(n){var o=e(this);if(!o.is(".disabled, :disabled")){var s=i(o),r=s.hasClass("open");if(t(),!r){if("ontouchstart"in document.documentElement&&!s.closest(".navbar-nav").length&&e('<div class="dropdown-backdrop"/>').insertAfter(e(this)).on("click",t),s.trigger(n=e.Event("show.bs.dropdown")),n.isDefaultPrevented())return;s.toggleClass("open").trigger("shown.bs.dropdown"),o.focus()}return!1}},s.prototype.keydown=function(t){if(/(38|40|27)/.test(t.keyCode)){var n=e(this);if(t.preventDefault(),t.stopPropagation(),!n.is(".disabled, :disabled")){var s=i(n),r=s.hasClass("open");if(!r||r&&27==t.keyCode)return 27==t.which&&s.find(o).focus(),n.click();var a=e("[role=menu] li:not(.divider):visible a",s);if(a.length){var l=a.index(a.filter(":focus"));38==t.keyCode&&l>0&&l--,40==t.keyCode&&l<a.length-1&&l++,~l||(l=0),a.eq(l).focus()}}}};var r=e.fn.dropdown;e.fn.dropdown=function(t){return this.each(function(){var i=e(this),n=i.data("dropdown");n||i.data("dropdown",n=new s(this)),"string"==typeof t&&n[t].call(i)})},e.fn.dropdown.Constructor=s,e.fn.dropdown.noConflict=function(){return e.fn.dropdown=r,this},e(document).on("click.bs.dropdown.data-api",t).on("click.bs.dropdown.data-api",".dropdown form",function(e){e.stopPropagation()}).on("click.bs.dropdown.data-api",o,s.prototype.toggle).on("keydown.bs.dropdown.data-api",o+", [role=menu]",s.prototype.keydown)}(window.jQuery),+function(e){"use strict";var t=function(t,i){this.options=i,this.$element=e(t),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};t.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},t.prototype.toggle=function(e){return this[this.isShown?"hide":"show"](e)},t.prototype.show=function(t){var i=this,n=e.Event("show.bs.modal",{relatedTarget:t});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',e.proxy(this.hide,this)),this.backdrop(function(){var n=e.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),n&&i.$element[0].offsetWidth,
i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var o=e.Event("shown.bs.modal",{relatedTarget:t});n?i.$element.find(".modal-dialog").one(e.support.transition.end,function(){i.$element.focus().trigger(o)}).emulateTransitionEnd(300):i.$element.focus().trigger(o)}))},t.prototype.hide=function(t){t&&t.preventDefault(),t=e.Event("hide.bs.modal"),this.$element.trigger(t),this.isShown&&!t.isDefaultPrevented()&&(this.isShown=!1,this.escape(),e(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),e.support.transition&&this.$element.hasClass("fade")?this.$element.one(e.support.transition.end,e.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},t.prototype.enforceFocus=function(){e(document).off("focusin.bs.modal").on("focusin.bs.modal",e.proxy(function(e){this.$element[0]===e.target||this.$element.has(e.target).length||this.$element.focus()},this))},t.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",e.proxy(function(e){27==e.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},t.prototype.hideModal=function(){var e=this;this.$element.hide(),this.backdrop(function(){e.removeBackdrop(),e.$element.trigger("hidden.bs.modal")})},t.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},t.prototype.backdrop=function(t){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=e.support.transition&&i;if(this.$backdrop=e('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",e.proxy(function(e){e.target===e.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!t)return;n?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),e.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(e.support.transition.end,t).emulateTransitionEnd(150):t()):t&&t()};var i=e.fn.modal;e.fn.modal=function(i,n){return this.each(function(){var o=e(this),s=o.data("bs.modal"),r=e.extend({},t.DEFAULTS,o.data(),"object"==typeof i&&i);s||o.data("bs.modal",s=new t(this,r)),"string"==typeof i?s[i](n):r.show&&s.show(n)})},e.fn.modal.Constructor=t,e.fn.modal.noConflict=function(){return e.fn.modal=i,this},e(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(t){var i=e(this),n=i.attr("href"),o=e(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),s=o.data("modal")?"toggle":e.extend({remote:!/#/.test(n)&&n},o.data(),i.data());t.preventDefault(),o.modal(s,this).one("hide",function(){i.is(":visible")&&i.focus()})}),e(document).on("show.bs.modal",".modal",function(){e(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){e(document.body).removeClass("modal-open")})}(window.jQuery),+function(e){"use strict";var t=function(e,t){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",e,t)};t.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},t.prototype.init=function(t,i,n){this.enabled=!0,this.type=t,this.$element=e(i),this.options=this.getOptions(n);for(var o=this.options.trigger.split(" "),s=o.length;s--;){var r=o[s];if("click"==r)this.$element.on("click."+this.type,this.options.selector,e.proxy(this.toggle,this));else if("manual"!=r){var a="hover"==r?"mouseenter":"focus",l="hover"==r?"mouseleave":"blur";this.$element.on(a+"."+this.type,this.options.selector,e.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,e.proxy(this.leave,this))}}this.options.selector?this._options=e.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.getOptions=function(t){return t=e.extend({},this.getDefaults(),this.$element.data(),t),t.delay&&"number"==typeof t.delay&&(t.delay={show:t.delay,hide:t.delay}),t},t.prototype.getDelegateOptions=function(){var t={},i=this.getDefaults();return this._options&&e.each(this._options,function(e,n){i[e]!=n&&(t[e]=n)}),t},t.prototype.enter=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},t.prototype.leave=function(t){var i=t instanceof this.constructor?t:e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},t.prototype.show=function(){var t=e.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(t),t.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,o=/\s?auto?\s?/i,s=o.test(n);s&&(n=n.replace(o,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var r=this.getPosition(),a=i[0].offsetWidth,l=i[0].offsetHeight;if(s){var c=this.$element.parent(),u=n,d=document.documentElement.scrollTop||document.body.scrollTop,h="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),f="body"==this.options.container?0:c.offset().left;n="bottom"==n&&r.top+r.height+l-d>p?"top":"top"==n&&r.top-d-l<0?"bottom":"right"==n&&r.right+a>h?"left":"left"==n&&r.left-a<f?"right":n,i.removeClass(u).addClass(n)}var m=this.getCalculatedOffset(n,r,a,l);this.applyPlacement(m,n),this.$element.trigger("shown.bs."+this.type)}},t.prototype.applyPlacement=function(e,t){var i,n=this.tip(),o=n[0].offsetWidth,s=n[0].offsetHeight,r=parseInt(n.css("margin-top"),10),a=parseInt(n.css("margin-left"),10);isNaN(r)&&(r=0),isNaN(a)&&(a=0),e.top=e.top+r,e.left=e.left+a,n.offset(e).addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;if("top"==t&&c!=s&&(i=!0,e.top=e.top+s-c),/bottom|top/.test(t)){var u=0;e.left<0&&(u=-2*e.left,e.left=0,n.offset(e),l=n[0].offsetWidth,c=n[0].offsetHeight),this.replaceArrow(u-o+l,l,"left")}else this.replaceArrow(c-s,c,"top");i&&n.offset(e)},t.prototype.replaceArrow=function(e,t,i){this.arrow().css(i,e?50*(1-e/t)+"%":"")},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle();e.find(".tooltip-inner")[this.options.html?"html":"text"](t),e.removeClass("fade in top bottom left right")},t.prototype.hide=function(){function t(){"in"!=i.hoverState&&n.detach()}var i=this,n=this.tip(),o=e.Event("hide.bs."+this.type);return this.$element.trigger(o),o.isDefaultPrevented()?void 0:(n.removeClass("in"),e.support.transition&&this.$tip.hasClass("fade")?n.one(e.support.transition.end,t).emulateTransitionEnd(150):t(),this.$element.trigger("hidden.bs."+this.type),this)},t.prototype.fixTitle=function(){var e=this.$element;(e.attr("title")||"string"!=typeof e.attr("data-original-title"))&&e.attr("data-original-title",e.attr("title")||"").attr("title","")},t.prototype.hasContent=function(){return this.getTitle()},t.prototype.getPosition=function(){var t=this.$element[0];return e.extend({},"function"==typeof t.getBoundingClientRect?t.getBoundingClientRect():{width:t.offsetWidth,height:t.offsetHeight},this.$element.offset())},t.prototype.getCalculatedOffset=function(e,t,i,n){return"bottom"==e?{top:t.top+t.height,left:t.left+t.width/2-i/2}:"top"==e?{top:t.top-n,left:t.left+t.width/2-i/2}:"left"==e?{top:t.top+t.height/2-n/2,left:t.left-i}:{top:t.top+t.height/2-n/2,left:t.left+t.width}},t.prototype.getTitle=function(){var e,t=this.$element,i=this.options;return e=t.attr("data-original-title")||("function"==typeof i.title?i.title.call(t[0]):i.title)},t.prototype.tip=function(){return this.$tip=this.$tip||e(this.options.template)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},t.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},t.prototype.enable=function(){this.enabled=!0},t.prototype.disable=function(){this.enabled=!1},t.prototype.toggleEnabled=function(){this.enabled=!this.enabled},t.prototype.toggle=function(t){var i=t?e(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},t.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=e.fn.tooltip;e.fn.tooltip=function(i){return this.each(function(){var n=e(this),o=n.data("bs.tooltip"),s="object"==typeof i&&i;o||n.data("bs.tooltip",o=new t(this,s)),"string"==typeof i&&o[i]()})},e.fn.tooltip.Constructor=t,e.fn.tooltip.noConflict=function(){return e.fn.tooltip=i,this}}(window.jQuery),+function(e){"use strict";var t=function(e,t){this.init("popover",e,t)};if(!e.fn.tooltip)throw new Error("Popover requires tooltip.js");t.DEFAULTS=e.extend({},e.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),t.prototype=e.extend({},e.fn.tooltip.Constructor.prototype),t.prototype.constructor=t,t.prototype.getDefaults=function(){return t.DEFAULTS},t.prototype.setContent=function(){var e=this.tip(),t=this.getTitle(),i=this.getContent();e.find(".popover-title")[this.options.html?"html":"text"](t),e.find(".popover-content")[this.options.html?"html":"text"](i),e.removeClass("fade top bottom left right in"),e.find(".popover-title").html()||e.find(".popover-title").hide()},t.prototype.hasContent=function(){return this.getTitle()||this.getContent()},t.prototype.getContent=function(){var e=this.$element,t=this.options;return e.attr("data-content")||("function"==typeof t.content?t.content.call(e[0]):t.content)},t.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},t.prototype.tip=function(){return this.$tip||(this.$tip=e(this.options.template)),this.$tip};var i=e.fn.popover;e.fn.popover=function(i){return this.each(function(){var n=e(this),o=n.data("bs.popover"),s="object"==typeof i&&i;o||n.data("bs.popover",o=new t(this,s)),"string"==typeof i&&o[i]()})},e.fn.popover.Constructor=t,e.fn.popover.noConflict=function(){return e.fn.popover=i,this}}(window.jQuery),+function(e){"use strict";function t(i,n){var o,s=e.proxy(this.process,this);this.$element=e(e(i).is("body")?window:i),this.$body=e("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",s),this.options=e.extend({},t.DEFAULTS,n),this.selector=(this.options.target||(o=e(i).attr("href"))&&o.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=e([]),this.targets=e([]),this.activeTarget=null,this.refresh(),this.process()}t.DEFAULTS={offset:10},t.prototype.refresh=function(){var t=this.$element[0]==window?"offset":"position";this.offsets=e([]),this.targets=e([]);var i=this;this.$body.find(this.selector).map(function(){var n=e(this),o=n.data("target")||n.attr("href"),s=/^#\w/.test(o)&&e(o);return s&&s.length&&[[s[t]().top+(!e.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),o]]||null}).sort(function(e,t){return e[0]-t[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},t.prototype.process=function(){var e,t=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),o=this.offsets,s=this.targets,r=this.activeTarget;if(t>=n)return r!=(e=s.last()[0])&&this.activate(e);for(e=o.length;e--;)r!=s[e]&&t>=o[e]&&(!o[e+1]||t<=o[e+1])&&this.activate(s[e])},t.prototype.activate=function(t){this.activeTarget=t,e(this.selector).parents(".active").removeClass("active");var i=this.selector+'[data-target="'+t+'"],'+this.selector+'[href="'+t+'"]',n=e(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate")};var i=e.fn.scrollspy;e.fn.scrollspy=function(i){return this.each(function(){var n=e(this),o=n.data("bs.scrollspy"),s="object"==typeof i&&i;o||n.data("bs.scrollspy",o=new t(this,s)),"string"==typeof i&&o[i]()})},e.fn.scrollspy.Constructor=t,e.fn.scrollspy.noConflict=function(){return e.fn.scrollspy=i,this},e(window).on("load",function(){e('[data-spy="scroll"]').each(function(){var t=e(this);t.scrollspy(t.data())})})}(window.jQuery),+function(e){"use strict";var t=function(t){this.element=e(t)};t.prototype.show=function(){var t=this.element,i=t.closest("ul:not(.dropdown-menu)"),n=t.attr("data-target");if(n||(n=t.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!t.parent("li").hasClass("active")){var o=i.find(".active:last a")[0],s=e.Event("show.bs.tab",{relatedTarget:o});if(t.trigger(s),!s.isDefaultPrevented()){var r=e(n);this.activate(t.parent("li"),i),this.activate(r,r.parent(),function(){t.trigger({type:"shown.bs.tab",relatedTarget:o})})}}},t.prototype.activate=function(t,i,n){function o(){s.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),t.addClass("active"),r?(t[0].offsetWidth,t.addClass("in")):t.removeClass("fade"),t.parent(".dropdown-menu")&&t.closest("li.dropdown").addClass("active"),n&&n()}var s=i.find("> .active"),r=n&&e.support.transition&&s.hasClass("fade");r?s.one(e.support.transition.end,o).emulateTransitionEnd(150):o(),s.removeClass("in")};var i=e.fn.tab;e.fn.tab=function(i){return this.each(function(){var n=e(this),o=n.data("bs.tab");o||n.data("bs.tab",o=new t(this)),"string"==typeof i&&o[i]()})},e.fn.tab.Constructor=t,e.fn.tab.noConflict=function(){return e.fn.tab=i,this},e(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(t){t.preventDefault(),e(this).tab("show")})}(window.jQuery),+function(e){"use strict";var t=function(i,n){this.options=e.extend({},t.DEFAULTS,n),this.$window=e(window).on("scroll.bs.affix.data-api",e.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",e.proxy(this.checkPositionWithEventLoop,this)),this.$element=e(i),this.affixed=this.unpin=null,this.checkPosition()};t.RESET="affix affix-top affix-bottom",t.DEFAULTS={offset:0},t.prototype.checkPositionWithEventLoop=function(){setTimeout(e.proxy(this.checkPosition,this),1)},t.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=e(document).height(),n=this.$window.scrollTop(),o=this.$element.offset(),s=this.options.offset,r=s.top,a=s.bottom;"object"!=typeof s&&(a=r=s),"function"==typeof r&&(r=s.top()),"function"==typeof a&&(a=s.bottom());var l=null!=this.unpin&&n+this.unpin<=o.top?!1:null!=a&&o.top+this.$element.height()>=i-a?"bottom":null!=r&&r>=n?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?o.top-n:null,this.$element.removeClass(t.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-a-this.$element.height()}))}};var i=e.fn.affix;e.fn.affix=function(i){return this.each(function(){var n=e(this),o=n.data("bs.affix"),s="object"==typeof i&&i;o||n.data("bs.affix",o=new t(this,s)),"string"==typeof i&&o[i]()})},e.fn.affix.Constructor=t,e.fn.affix.noConflict=function(){return e.fn.affix=i,this},e(window).on("load",function(){e('[data-spy="affix"]').each(function(){var t=e(this),i=t.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),t.affix(i)})})}(window.jQuery),function(e,t,i){var n=e();e.fn.dropdownHover=function(i){return n=n.add(this.parent()),this.each(function(){var o,s=e(this),r=s.parent(),a={delay:500,instantlyCloseOthers:!0},l={delay:e(this).data("delay"),instantlyCloseOthers:e(this).data("close-others")},c=e.extend(!0,{},a,i,l);r.hover(function(e){return r.hasClass("open")||s.is(e.target)?(c.instantlyCloseOthers===!0&&n.removeClass("open"),t.clearTimeout(o),void r.addClass("open")):!0},function(){o=t.setTimeout(function(){r.removeClass("open")},c.delay)}),s.hover(function(){c.instantlyCloseOthers===!0&&n.removeClass("open"),t.clearTimeout(o),r.addClass("open")}),r.find(".dropdown-submenu").each(function(){var i,n=e(this);n.hover(function(){t.clearTimeout(i),n.children(".dropdown-menu").show(),n.siblings().children(".dropdown-menu").hide()},function(){var e=n.children(".dropdown-menu");i=t.setTimeout(function(){e.hide()},c.delay)})})})},e(document).ready(function(){e('[data-hover="dropdown"]').dropdownHover()})}(jQuery,this),function(e){jQuery.fn.extend({slimScroll:function(i){var n=e.extend({width:"auto",height:"250px",size:"7px",color:"#000",position:"right",distance:"1px",start:"top",opacity:.4,alwaysVisible:!1,disableFadeOut:!1,railVisible:!1,railColor:"#333",railOpacity:.2,railDraggable:!0,railClass:"slimScrollRail",barClass:"slimScrollBar",wrapperClass:"slimScrollDiv",allowPageScroll:!1,wheelStep:20,touchScrollStep:200,borderRadius:"7px",railBorderRadius:"7px"},i);return this.each(function(){function o(t){if(u){t=t||window.event;var i=0;t.wheelDelta&&(i=-t.wheelDelta/120),t.detail&&(i=t.detail/3),e(t.target||t.srcTarget||t.srcElement).closest("."+n.wrapperClass).is(w.parent())&&s(i,!0),t.preventDefault&&!y&&t.preventDefault(),y||(t.returnValue=!1)}}function s(e,t,i){y=!1;var o=e,s=w.outerHeight()-x.outerHeight();t&&(o=parseInt(x.css("top"))+e*parseInt(n.wheelStep)/100*x.outerHeight(),o=Math.min(Math.max(o,0),s),o=e>0?Math.ceil(o):Math.floor(o),x.css({top:o+"px"})),g=parseInt(x.css("top"))/(w.outerHeight()-x.outerHeight()),o=g*(w[0].scrollHeight-w.outerHeight()),i&&(o=e,e=o/w[0].scrollHeight*w.outerHeight(),e=Math.min(Math.max(e,0),s),x.css({top:e+"px"})),w.scrollTop(o),w.trigger("slimscrolling",~~o),l(),c()}function r(){window.addEventListener?(this.addEventListener("DOMMouseScroll",o,!1),this.addEventListener("mousewheel",o,!1),this.addEventListener("MozMousePixelScroll",o,!1)):document.attachEvent("onmousewheel",o)}function a(){m=Math.max(w.outerHeight()/w[0].scrollHeight*w.outerHeight(),b),x.css({height:m+"px"});var e=m==w.outerHeight()?"none":"block";x.css({display:e})}function l(){a(),clearTimeout(p),g==~~g?(y=n.allowPageScroll,v!=g&&w.trigger("slimscroll",0==~~g?"top":"bottom")):y=!1,v=g,m>=w.outerHeight()?y=!0:(x.stop(!0,!0).fadeIn("fast"),n.railVisible&&C.stop(!0,!0).fadeIn("fast"))}function c(){n.alwaysVisible||(p=setTimeout(function(){n.disableFadeOut&&u||d||h||(x.fadeOut("slow"),C.fadeOut("slow"))},1e3))}var u,d,h,p,f,m,g,v,b=30,y=!1,w=e(this);if(w.parent().hasClass(n.wrapperClass)){var _=w.scrollTop(),x=w.parent().find("."+n.barClass),C=w.parent().find("."+n.railClass);if(a(),e.isPlainObject(i)){if("height"in i&&"auto"==i.height){w.parent().css("height","auto"),w.css("height","auto");var E=w.parent().parent().height();w.parent().css("height",E),w.css("height",E)}if("scrollTo"in i)_=parseInt(n.scrollTo);else if("scrollBy"in i)_+=parseInt(n.scrollBy);else if("destroy"in i)return x.remove(),C.remove(),void w.unwrap();s(_,!1,!0)}}else{n.height="auto"==n.height?w.parent().height():n.height,_=e("<div></div>").addClass(n.wrapperClass).css({position:"relative",overflow:"hidden",width:n.width,height:n.height}),w.css({overflow:"hidden",width:n.width,height:n.height});var C=e("<div></div>").addClass(n.railClass).css({width:n.size,height:"100%",position:"absolute",top:0,display:n.alwaysVisible&&n.railVisible?"block":"none","border-radius":n.railBorderRadius,background:n.railColor,opacity:n.railOpacity,zIndex:90}),x=e("<div></div>").addClass(n.barClass).css({background:n.color,width:n.size,position:"absolute",top:0,opacity:n.opacity,display:n.alwaysVisible?"block":"none","border-radius":n.borderRadius,BorderRadius:n.borderRadius,MozBorderRadius:n.borderRadius,WebkitBorderRadius:n.borderRadius,zIndex:99}),E="right"==n.position?{right:n.distance}:{left:n.distance};C.css(E),x.css(E),w.wrap(_),w.parent().append(x),w.parent().append(C),n.railDraggable&&x.bind("mousedown",function(i){var n=e(document);return h=!0,t=parseFloat(x.css("top")),pageY=i.pageY,n.bind("mousemove.slimscroll",function(e){currTop=t+e.pageY-pageY,x.css("top",currTop),s(0,x.position().top,!1)}),n.bind("mouseup.slimscroll",function(e){h=!1,c(),n.unbind(".slimscroll")}),!1}).bind("selectstart.slimscroll",function(e){return e.stopPropagation(),e.preventDefault(),!1}),C.hover(function(){l()},function(){c()}),x.hover(function(){d=!0},function(){d=!1}),w.hover(function(){u=!0,l(),c()},function(){u=!1,c()}),w.bind("touchstart",function(e,t){e.originalEvent.touches.length&&(f=e.originalEvent.touches[0].pageY)}),w.bind("touchmove",function(e){y||e.originalEvent.preventDefault(),e.originalEvent.touches.length&&(s((f-e.originalEvent.touches[0].pageY)/n.touchScrollStep,!0),f=e.originalEvent.touches[0].pageY)}),a(),"bottom"===n.start?(x.css({top:w.outerHeight()-x.outerHeight()}),s(0,!0)):"top"!==n.start&&(s(e(n.start).position().top,null,!0),n.alwaysVisible||x.hide()),r()}}),this}}),jQuery.fn.extend({slimscroll:jQuery.fn.slimScroll})}(jQuery),function(){function e(e){function t(t,n){var s,m,g=t==window,v=n&&void 0!==n.message?n.message:void 0;if(n=e.extend({},e.blockUI.defaults,n||{}),!n.ignoreIfBlocked||!e(t).data("blockUI.isBlocked")){if(n.overlayCSS=e.extend({},e.blockUI.defaults.overlayCSS,n.overlayCSS||{}),s=e.extend({},e.blockUI.defaults.css,n.css||{}),n.onOverlayClick&&(n.overlayCSS.cursor="pointer"),m=e.extend({},e.blockUI.defaults.themedCSS,n.themedCSS||{}),v=void 0===v?n.message:v,g&&p&&i(window,{fadeOut:0}),v&&"string"!=typeof v&&(v.parentNode||v.jquery)){var b=v.jquery?v[0]:v,y={};e(t).data("blockUI.history",y),y.el=b,y.parent=b.parentNode,y.display=b.style.display,y.position=b.style.position,y.parent&&y.parent.removeChild(b)}e(t).data("blockUI.onUnblock",n.onUnblock);var w,_,x,C,E=n.baseZ;w=e(u||n.forceIframe?'<iframe class="blockUI" style="z-index:'+E++ +';display:none;border:none;margin:0;padding:0;position:absolute;width:100%;height:100%;top:0;left:0" src="'+n.iframeSrc+'"></iframe>':'<div class="blockUI" style="display:none"></div>'),_=e(n.theme?'<div class="blockUI blockOverlay ui-widget-overlay" style="z-index:'+E++ +';display:none"></div>':'<div class="blockUI blockOverlay" style="z-index:'+E++ +';display:none;border:none;margin:0;padding:0;width:100%;height:100%;top:0;left:0"></div>'),n.theme&&g?(C='<div class="blockUI '+n.blockMsgClass+' blockPage ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:fixed">',n.title&&(C+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||" ")+"</div>"),C+='<div class="ui-widget-content ui-dialog-content"></div>',C+="</div>"):n.theme?(C='<div class="blockUI '+n.blockMsgClass+' blockElement ui-dialog ui-widget ui-corner-all" style="z-index:'+(E+10)+';display:none;position:absolute">',n.title&&(C+='<div class="ui-widget-header ui-dialog-titlebar ui-corner-all blockTitle">'+(n.title||" ")+"</div>"),C+='<div class="ui-widget-content ui-dialog-content"></div>',C+="</div>"):C=g?'<div class="blockUI '+n.blockMsgClass+' blockPage" style="z-index:'+(E+10)+';display:none;position:fixed"></div>':'<div class="blockUI '+n.blockMsgClass+' blockElement" style="z-index:'+(E+10)+';display:none;position:absolute"></div>',x=e(C),v&&(n.theme?(x.css(m),x.addClass("ui-widget-content")):x.css(s)),n.theme||_.css(n.overlayCSS),_.css("position",g?"fixed":"absolute"),(u||n.forceIframe)&&w.css("opacity",0);var T=[w,_,x],k=e(g?"body":t);e.each(T,function(){this.appendTo(k)}),n.theme&&n.draggable&&e.fn.draggable&&x.draggable({handle:".ui-dialog-titlebar",cancel:"li"});var S=h&&(!e.support.boxModel||e("object,embed",g?null:t).length>0);if(d||S){if(g&&n.allowBodyStretch&&e.support.boxModel&&e("html,body").css("height","100%"),(d||!e.support.boxModel)&&!g)var $=l(t,"borderTopWidth"),D=l(t,"borderLeftWidth"),I=$?"(0 - "+$+")":0,A=D?"(0 - "+D+")":0;e.each(T,function(e,t){var i=t[0].style;if(i.position="absolute",2>e)g?i.setExpression("height","Math.max(document.body.scrollHeight, document.body.offsetHeight) - (jQuery.support.boxModel?0:"+n.quirksmodeOffsetHack+') + "px"'):i.setExpression("height",'this.parentNode.offsetHeight + "px"'),g?i.setExpression("width",'jQuery.support.boxModel && document.documentElement.clientWidth || document.body.clientWidth + "px"'):i.setExpression("width",'this.parentNode.offsetWidth + "px"'),A&&i.setExpression("left",A),I&&i.setExpression("top",I);else if(n.centerY)g&&i.setExpression("top",'(document.documentElement.clientHeight || document.body.clientHeight) / 2 - (this.offsetHeight / 2) + (blah = document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "px"'),i.marginTop=0;else if(!n.centerY&&g){var o=n.css&&n.css.top?parseInt(n.css.top,10):0,s="((document.documentElement.scrollTop ? document.documentElement.scrollTop : document.body.scrollTop) + "+o+') + "px"';i.setExpression("top",s)}})}if(v&&(n.theme?x.find(".ui-widget-content").append(v):x.append(v),(v.jquery||v.nodeType)&&e(v).show()),(u||n.forceIframe)&&n.showOverlay&&w.show(),n.fadeIn){var R=n.onBlock?n.onBlock:c,O=n.showOverlay&&!v?R:c,N=v?R:c;n.showOverlay&&_._fadeIn(n.fadeIn,O),v&&x._fadeIn(n.fadeIn,N)}else n.showOverlay&&_.show(),v&&x.show(),n.onBlock&&n.onBlock();if(o(1,t,n),g?(p=x[0],f=e(":input:enabled:visible",p),n.focusInput&&setTimeout(r,20)):a(x[0],n.centerX,n.centerY),n.timeout){var P=setTimeout(function(){g?e.unblockUI(n):e(t).unblock(n)},n.timeout);e(t).data("blockUI.timeout",P)}}}function i(t,i){var s,r=t==window,a=e(t),l=a.data("blockUI.history"),c=a.data("blockUI.timeout");c&&(clearTimeout(c),a.removeData("blockUI.timeout")),i=e.extend({},e.blockUI.defaults,i||{}),o(0,t,i),null===i.onUnblock&&(i.onUnblock=a.data("blockUI.onUnblock"),a.removeData("blockUI.onUnblock"));var u;u=r?e("body").children().filter(".blockUI").add("body > .blockUI"):a.find(">.blockUI"),i.cursorReset&&(u.length>1&&(u[1].style.cursor=i.cursorReset),u.length>2&&(u[2].style.cursor=i.cursorReset)),r&&(p=f=null),i.fadeOut?(s=u.length,u.fadeOut(i.fadeOut,function(){0===--s&&n(u,l,i,t)})):n(u,l,i,t)}function n(t,i,n,o){var s=e(o);t.each(function(e,t){this.parentNode&&this.parentNode.removeChild(this)}),i&&i.el&&(i.el.style.display=i.display,i.el.style.position=i.position,i.parent&&i.parent.appendChild(i.el),s.removeData("blockUI.history")),s.data("blockUI.static")&&s.css("position","static"),"function"==typeof n.onUnblock&&n.onUnblock(o,n);var r=e(document.body),a=r.width(),l=r[0].style.width;r.width(a-1).width(a),r[0].style.width=l}function o(t,i,n){var o=i==window,r=e(i);if((t||(!o||p)&&(o||r.data("blockUI.isBlocked")))&&(r.data("blockUI.isBlocked",t),o&&n.bindEvents&&(!t||n.showOverlay))){var a="mousedown mouseup keydown keypress keyup touchstart touchend touchmove";t?e(document).bind(a,n,s):e(document).unbind(a,s)}}function s(t){if(t.keyCode&&9==t.keyCode&&p&&t.data.constrainTabKey){var i=f,n=!t.shiftKey&&t.target===i[i.length-1],o=t.shiftKey&&t.target===i[0];if(n||o)return setTimeout(function(){r(o)},10),!1}var s=t.data,a=e(t.target);return a.hasClass("blockOverlay")&&s.onOverlayClick&&s.onOverlayClick(),a.parents("div."+s.blockMsgClass).length>0?!0:0===a.parents().children().filter("div.blockUI").length}function r(e){if(f){var t=f[e===!0?f.length-1:0];t&&t.focus()}}function a(e,t,i){var n=e.parentNode,o=e.style,s=(n.offsetWidth-e.offsetWidth)/2-l(n,"borderLeftWidth"),r=(n.offsetHeight-e.offsetHeight)/2-l(n,"borderTopWidth");t&&(o.left=s>0?s+"px":"0"),i&&(o.top=r>0?r+"px":"0")}function l(t,i){return parseInt(e.css(t,i),10)||0}e.fn._fadeIn=e.fn.fadeIn;var c=e.noop||function(){},u=/MSIE/.test(navigator.userAgent),d=/MSIE 6.0/.test(navigator.userAgent)&&!/MSIE 8.0/.test(navigator.userAgent),h=(document.documentMode||0,e.isFunction(document.createElement("div").style.setExpression));e.blockUI=function(e){t(window,e)},e.unblockUI=function(e){i(window,e)},e.growlUI=function(t,i,n,o){var s=e('<div class="growlUI"></div>');t&&s.append("<h1>"+t+"</h1>"),i&&s.append("<h2>"+i+"</h2>"),void 0===n&&(n=3e3),e.blockUI({message:s,fadeIn:700,fadeOut:1e3,centerY:!1,timeout:n,showOverlay:!1,onUnblock:o,css:e.blockUI.defaults.growlCSS})},e.fn.block=function(i){if(this[0]===window)return e.blockUI(i),this;var n=e.extend({},e.blockUI.defaults,i||{});return this.each(function(){var t=e(this);n.ignoreIfBlocked&&t.data("blockUI.isBlocked")||t.unblock({fadeOut:0})}),this.each(function(){"static"==e.css(this,"position")&&(this.style.position="relative",e(this).data("blockUI.static",!0)),this.style.zoom=1,t(this,i)})},e.fn.unblock=function(t){return this[0]===window?(e.unblockUI(t),this):this.each(function(){i(this,t)})},e.blockUI.version=2.59,e.blockUI.defaults={message:"<h1>Please wait...</h1>",title:null,draggable:!0,theme:!1,css:{padding:0,margin:0,width:"30%",top:"40%",left:"35%",textAlign:"center",color:"#000",border:"3px solid #aaa",backgroundColor:"#fff",cursor:"wait"},themedCSS:{width:"30%",top:"40%",left:"35%"},overlayCSS:{backgroundColor:"#000",opacity:.6,cursor:"wait"},cursorReset:"default",growlCSS:{width:"350px",top:"10px",left:"",right:"10px",border:"none",padding:"5px",opacity:.6,cursor:"default",color:"#fff",backgroundColor:"#000","-webkit-border-radius":"10px","-moz-border-radius":"10px","border-radius":"10px"},iframeSrc:/^https/i.test(window.location.href||"")?"javascript:false":"about:blank",forceIframe:!1,baseZ:1e3,centerX:!0,centerY:!0,allowBodyStretch:!0,bindEvents:!0,constrainTabKey:!0,fadeIn:200,fadeOut:400,timeout:0,showOverlay:!0,focusInput:!0,onBlock:null,onUnblock:null,onOverlayClick:null,quirksmodeOffsetHack:4,blockMsgClass:"blockMsg",ignoreIfBlocked:!1};var p=null,f=[]}"function"==typeof define&&define.amd&&define.amd.jQuery?define(["jquery"],e):e(jQuery)}(),function(e){"function"==typeof define&&define.amd?define(["jquery"],e):e(jQuery)}(function(e){function t(e){return e}function i(e){return decodeURIComponent(e.replace(o," "))}function n(e){0===e.indexOf('"')&&(e=e.slice(1,-1).replace(/\\"/g,'"').replace(/\\\\/g,"\\"));try{return s.json?JSON.parse(e):e}catch(t){}}var o=/\+/g,s=e.cookie=function(o,r,a){if(void 0!==r){if(a=e.extend({},s.defaults,a),"number"==typeof a.expires){var l=a.expires,c=a.expires=new Date;c.setDate(c.getDate()+l)}return r=s.json?JSON.stringify(r):String(r),document.cookie=[s.raw?o:encodeURIComponent(o),"=",s.raw?r:encodeURIComponent(r),a.expires?"; expires="+a.expires.toUTCString():"",a.path?"; path="+a.path:"",a.domain?"; domain="+a.domain:"",a.secure?"; secure":""].join("")}for(var u=s.raw?t:i,d=document.cookie.split("; "),h=o?void 0:{},p=0,f=d.length;f>p;p++){var m=d[p].split("="),g=u(m.shift()),v=u(m.join("="));if(o&&o===g){h=n(v);break}o||(h[g]=n(v))}return h};s.defaults={},e.removeCookie=function(t,i){return void 0!==e.cookie(t)?(e.cookie(t,"",e.extend({},i,{expires:-1})),!0):!1}}),function(e,t){"use strict";function i(e){var t=Array.prototype.slice.call(arguments,1);return e.prop?e.prop.apply(e,t):e.attr.apply(e,t)}function n(e,t,i){var n,o;for(n in i)i.hasOwnProperty(n)&&(o=n.replace(/ |$/g,t.eventNamespace),e.bind(o,i[n]))}function o(e,t,i){n(e,i,{focus:function(){t.addClass(i.focusClass)},blur:function(){t.removeClass(i.focusClass),t.removeClass(i.activeClass)},mouseenter:function(){t.addClass(i.hoverClass)},mouseleave:function(){t.removeClass(i.hoverClass),t.removeClass(i.activeClass)},"mousedown touchbegin":function(){e.is(":disabled")||t.addClass(i.activeClass)},"mouseup touchend":function(){t.removeClass(i.activeClass);
}})}function s(e,t){e.removeClass(t.hoverClass+" "+t.focusClass+" "+t.activeClass)}function r(e,t,i){i?e.addClass(t):e.removeClass(t)}function a(e,t,i){var n="checked",o=t.is(":"+n);t.prop?t.prop(n,o):o?t.attr(n,n):t.removeAttr(n),r(e,i.checkedClass,o)}function l(e,t,i){r(e,i.disabledClass,t.is(":disabled"))}function c(e,t,i){switch(i){case"after":return e.after(t),e.next();case"before":return e.before(t),e.prev();case"wrap":return e.wrap(t),e.parent()}return null}function u(t,n,o){var s,r,a;return o||(o={}),o=e.extend({bind:{},divClass:null,divWrap:"wrap",spanClass:null,spanHtml:null,spanWrap:"wrap"},o),s=e("<div />"),r=e("<span />"),n.autoHide&&t.is(":hidden")&&"none"===t.css("display")&&s.hide(),o.divClass&&s.addClass(o.divClass),n.wrapperClass&&s.addClass(n.wrapperClass),o.spanClass&&r.addClass(o.spanClass),a=i(t,"id"),n.useID&&a&&i(s,"id",n.idPrefix+"-"+a),o.spanHtml&&r.html(o.spanHtml),s=c(t,s,o.divWrap),r=c(t,r,o.spanWrap),l(s,t,n),{div:s,span:r}}function d(t,i){var n;return i.wrapperClass?(n=e("<span />").addClass(i.wrapperClass),n=c(t,n,"wrap")):null}function h(){var t,i,n,o;return o="rgb(120,2,153)",i=e('<div style="width:0;height:0;color:'+o+'">'),e("body").append(i),n=i.get(0),t=window.getComputedStyle?window.getComputedStyle(n,"").color:(n.currentStyle||n.style||{}).color,i.remove(),t.replace(/ /g,"")!==o}function p(t){return t?e("<span />").text(t).html():""}function f(){return navigator.cpuClass&&!navigator.product}function m(){return void 0!==window.XMLHttpRequest?!0:!1}function g(e){var t;return e[0].multiple?!0:(t=i(e,"size"),!t||1>=t?!1:!0)}function v(){return!1}function b(e,t){var i="none";n(e,t,{"selectstart dragstart mousedown":v}),e.css({MozUserSelect:i,msUserSelect:i,webkitUserSelect:i,userSelect:i})}function y(e,t,i){var n=e.val();""===n?n=i.fileDefaultHtml:(n=n.split(/[\/\\]+/),n=n[n.length-1]),t.text(n)}function w(e,t,i){var n,o;for(n=[],e.each(function(){var e;for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&(n.push({el:this,name:e,old:this.style[e]}),this.style[e]=t[e])}),i();n.length;)o=n.pop(),o.el.style[o.name]=o.old}function _(e,t){var i;i=e.parents(),i.push(e[0]),i=i.not(":visible"),w(i,{visibility:"hidden",display:"block",position:"absolute"},t)}function x(e,t){return function(){e.unwrap().unwrap().unbind(t.eventNamespace)}}var C=!0,E=!1,T=[{match:function(e){return e.is("a, button, :submit, :reset, input[type='button']")},apply:function(e,t){var r,a,c,d,h;return a=t.submitDefaultHtml,e.is(":reset")&&(a=t.resetDefaultHtml),d=e.is("a, button")?function(){return e.html()||a}:function(){return p(i(e,"value"))||a},c=u(e,t,{divClass:t.buttonClass,spanHtml:d()}),r=c.div,o(e,r,t),h=!1,n(r,t,{"click touchend":function(){var t,n,o,s;h||e.is(":disabled")||(h=!0,e[0].dispatchEvent?(t=document.createEvent("MouseEvents"),t.initEvent("click",!0,!0),n=e[0].dispatchEvent(t),e.is("a")&&n&&(o=i(e,"target"),s=i(e,"href"),o&&"_self"!==o?window.open(s,o):document.location.href=s)):e.click(),h=!1)}}),b(r,t),{remove:function(){return r.after(e),r.remove(),e.unbind(t.eventNamespace),e},update:function(){s(r,t),l(r,e,t),e.detach(),c.span.html(d()).append(e)}}}},{match:function(e){return e.is(":checkbox")},apply:function(e,t){var i,r,c;return i=u(e,t,{divClass:t.checkboxClass}),r=i.div,c=i.span,o(e,r,t),n(e,t,{"click touchend":function(){a(c,e,t)}}),a(c,e,t),{remove:x(e,t),update:function(){s(r,t),c.removeClass(t.checkedClass),a(c,e,t),l(r,e,t)}}}},{match:function(e){return e.is(":file")},apply:function(t,r){function a(){y(t,p,r)}var d,h,p,m;return d=u(t,r,{divClass:r.fileClass,spanClass:r.fileButtonClass,spanHtml:r.fileButtonHtml,spanWrap:"after"}),h=d.div,m=d.span,p=e("<span />").html(r.fileDefaultHtml),p.addClass(r.filenameClass),p=c(t,p,"after"),i(t,"size")||i(t,"size",h.width()/10),o(t,h,r),a(),f()?n(t,r,{click:function(){t.trigger("change"),setTimeout(a,0)}}):n(t,r,{change:a}),b(p,r),b(m,r),{remove:function(){return p.remove(),m.remove(),t.unwrap().unbind(r.eventNamespace)},update:function(){s(h,r),y(t,p,r),l(h,t,r)}}}},{match:function(e){if(e.is("input")){var t=(" "+i(e,"type")+" ").toLowerCase(),n=" color date datetime datetime-local email month number password search tel text time url week ";return n.indexOf(t)>=0}return!1},apply:function(e,t){var n,s;return n=i(e,"type"),e.addClass(t.inputClass),s=d(e,t),o(e,e,t),t.inputAddTypeAsClass&&e.addClass(n),{remove:function(){e.removeClass(t.inputClass),t.inputAddTypeAsClass&&e.removeClass(n),s&&e.unwrap()},update:v}}},{match:function(e){return e.is(":radio")},apply:function(t,r){var c,d,h;return c=u(t,r,{divClass:r.radioClass}),d=c.div,h=c.span,o(t,d,r),n(t,r,{"click touchend":function(){e.uniform.update(e(':radio[name="'+i(t,"name")+'"]'))}}),a(h,t,r),{remove:x(t,r),update:function(){s(d,r),a(h,t,r),l(d,t,r)}}}},{match:function(e){return e.is("select")&&!g(e)?!0:!1},apply:function(t,i){var r,a,c,d;return i.selectAutoWidth&&_(t,function(){d=t.width()}),r=u(t,i,{divClass:i.selectClass,spanHtml:(t.find(":selected:first")||t.find("option:first")).html(),spanWrap:"before"}),a=r.div,c=r.span,i.selectAutoWidth?_(t,function(){w(e([c[0],a[0]]),{display:"block"},function(){var e;e=c.outerWidth()-c.width(),a.width(d+e),c.width(d)})}):a.addClass("fixedWidth"),o(t,a,i),n(t,i,{change:function(){c.html(t.find(":selected").html()),a.removeClass(i.activeClass)},"click touchend":function(){var e=t.find(":selected").html();c.html()!==e&&t.trigger("change")},keyup:function(){c.html(t.find(":selected").html())}}),b(c,i),{remove:function(){return c.remove(),t.unwrap().unbind(i.eventNamespace),t},update:function(){i.selectAutoWidth?(e.uniform.restore(t),t.uniform(i)):(s(a,i),c.html(t.find(":selected").html()),l(a,t,i))}}}},{match:function(e){return e.is("select")&&g(e)?!0:!1},apply:function(e,t){var i;return e.addClass(t.selectMultiClass),i=d(e,t),o(e,e,t),{remove:function(){e.removeClass(t.selectMultiClass),i&&e.unwrap()},update:v}}},{match:function(e){return e.is("textarea")},apply:function(e,t){var i;return e.addClass(t.textareaClass),i=d(e,t),o(e,e,t),{remove:function(){e.removeClass(t.textareaClass),i&&e.unwrap()},update:v}}}];f()&&!m()&&(C=!1),e.uniform={defaults:{activeClass:"active",autoHide:!0,buttonClass:"button",checkboxClass:"checker",checkedClass:"checked",disabledClass:"disabled",eventNamespace:".uniform",fileButtonClass:"action",fileButtonHtml:"Choose File",fileClass:"uploader",fileDefaultHtml:"No file selected",filenameClass:"filename",focusClass:"focus",hoverClass:"hover",idPrefix:"uniform",inputAddTypeAsClass:!0,inputClass:"uniform-input",radioClass:"radio",resetDefaultHtml:"Reset",resetSelector:!1,selectAutoWidth:!0,selectClass:"selector",selectMultiClass:"uniform-multiselect",submitDefaultHtml:"Submit",textareaClass:"uniform",useID:!0,wrapperClass:null},elements:[]},e.fn.uniform=function(t){var i=this;return t=e.extend({},e.uniform.defaults,t),E||(E=!0,h()&&(C=!1)),C?(t.resetSelector&&e(t.resetSelector).mouseup(function(){window.setTimeout(function(){e.uniform.update(i)},10)}),this.each(function(){var i,n,o,s=e(this);if(s.data("uniformed"))return void e.uniform.update(s);for(i=0;T.length>i;i+=1)if(n=T[i],n.match(s,t))return o=n.apply(s,t),s.data("uniformed",o),void e.uniform.elements.push(s.get(0))})):this},e.uniform.restore=e.fn.uniform.restore=function(i){i===t&&(i=e.uniform.elements),e(i).each(function(){var t,i,n=e(this);i=n.data("uniformed"),i&&(i.remove(),t=e.inArray(this,e.uniform.elements),t>=0&&e.uniform.elements.splice(t,1),n.removeData("uniformed"))})},e.uniform.update=e.fn.uniform.update=function(i){i===t&&(i=e.uniform.elements),e(i).each(function(){var t,i=e(this);t=i.data("uniformed"),t&&t.update(i,t.options)})}}(jQuery),window.bootbox=window.bootbox||function e(t,i){"use strict";function n(e){var t=v[m.locale];return t?t[e]:v.en[e]}function o(e,i,n){e.preventDefault();var o=t.isFunction(n)&&n(e)===!1;o||i.modal("hide")}function s(e){var t,i=0;for(t in e)i++;return i}function r(e,i){var n=0;t.each(e,function(e,t){i(e,t,n++)})}function a(e){var i,n;if("object"!=typeof e)throw new Error("Please supply an object of options");if(!e.message)throw new Error("Please specify a message");return e=t.extend({},m,e),e.buttons||(e.buttons={}),e.backdrop=e.backdrop?"static":!1,i=e.buttons,n=s(i),r(i,function(e,o,s){if(t.isFunction(o)&&(o=i[e]={callback:o}),"object"!==t.type(o))throw new Error("button with key "+e+" must be an object");o.label||(o.label=e),o.className||(o.className=2>=n&&s===n-1?"btn-primary":"btn-default")}),e}function l(e,t){var i=e.length,n={};if(1>i||i>2)throw new Error("Invalid argument length");return 2===i||"string"==typeof e[0]?(n[t[0]]=e[0],n[t[1]]=e[1]):n=e[0],n}function c(e,i,n){return t.extend(!0,{},e,l(i,n))}function u(e,t,i,n){var o={className:"bootbox-"+e,buttons:d.apply(null,t)};return h(c(o,n,i),t)}function d(){for(var e={},t=0,i=arguments.length;i>t;t++){var o=arguments[t],s=o.toLowerCase(),r=o.toUpperCase();e[s]={label:n(r)}}return e}function h(e,t){var n={};return r(t,function(e,t){n[t]=!0}),r(e.buttons,function(e){if(n[e]===i)throw new Error("button key "+e+" is not allowed (options are "+t.join("\n")+")")}),e}var p={dialog:"<div class='bootbox modal' tabindex='-1' role='dialog'><div class='modal-dialog'><div class='modal-content'><div class='modal-body'><div class='bootbox-body'></div></div></div></div></div>",header:"<div class='modal-header'><h4 class='modal-title'></h4></div>",footer:"<div class='modal-footer'></div>",closeButton:"<button type='button' class='bootbox-close-button close'>&times;</button>",form:"<form class='bootbox-form'></form>",inputs:{text:"<input class='bootbox-input bootbox-input-text form-control' autocomplete=off type=text />",email:"<input class='bootbox-input bootbox-input-email form-control' autocomplete='off' type='email' />",select:"<select class='bootbox-input bootbox-input-select form-control'></select>",checkbox:"<div class='checkbox'><label><input class='bootbox-input bootbox-input-checkbox' type='checkbox' /></label></div>"}},f=t("body"),m={locale:"en",backdrop:!0,animate:!0,className:null,closeButton:!0,show:!0},g={};g.alert=function(){var e;if(e=u("alert",["ok"],["message","callback"],arguments),e.callback&&!t.isFunction(e.callback))throw new Error("alert requires callback property to be a function when provided");return e.buttons.ok.callback=e.onEscape=function(){return t.isFunction(e.callback)?e.callback():!0},g.dialog(e)},g.confirm=function(){var e;if(e=u("confirm",["cancel","confirm"],["message","callback"],arguments),e.buttons.cancel.callback=e.onEscape=function(){return e.callback(!1)},e.buttons.confirm.callback=function(){return e.callback(!0)},!t.isFunction(e.callback))throw new Error("confirm requires a callback");return g.dialog(e)},g.prompt=function(){var e,n,o,s,a,l,u;if(s=t(p.form),n={className:"bootbox-prompt",buttons:d("cancel","confirm"),value:"",inputType:"text"},e=h(c(n,arguments,["title","callback"]),["cancel","confirm"]),l=e.show===i?!0:e.show,e.message=s,e.buttons.cancel.callback=e.onEscape=function(){return e.callback(null)},e.buttons.confirm.callback=function(){var i;switch(e.inputType){case"text":case"email":case"select":i=a.val();break;case"checkbox":var n=a.find("input:checked");i=[],r(n,function(e,n){i.push(t(n).val())})}return e.callback(i)},e.show=!1,!e.title)throw new Error("prompt requires a title");if(!t.isFunction(e.callback))throw new Error("prompt requires a callback");if(!p.inputs[e.inputType])throw new Error("invalid prompt type");switch(a=t(p.inputs[e.inputType]),e.inputType){case"text":case"email":a.val(e.value);break;case"select":var f={};if(u=e.inputOptions||[],!u.length)throw new Error("prompt with select requires options");r(u,function(e,n){var o=a;if(n.value===i||n.text===i)throw new Error("given options in wrong format");n.group&&(f[n.group]||(f[n.group]=t("<optgroup/>").attr("label",n.group)),o=f[n.group]),o.append("<option value='"+n.value+"'>"+n.text+"</option>")}),r(f,function(e,t){a.append(t)}),a.val(e.value);break;case"checkbox":var m=t.isArray(e.value)?e.value:[e.value];if(u=e.inputOptions||[],!u.length)throw new Error("prompt with checkbox requires options");if(!u[0].value||!u[0].text)throw new Error("given options in wrong format");a=t("<div/>"),r(u,function(i,n){var o=t(p.inputs[e.inputType]);o.find("input").attr("value",n.value),o.find("label").append(n.text),r(m,function(e,t){t===n.value&&o.find("input").prop("checked",!0)}),a.append(o)})}return e.placeholder&&a.attr("placeholder",e.placeholder),s.append(a),s.on("submit",function(e){e.preventDefault(),o.find(".btn-primary").click()}),o=g.dialog(e),o.off("shown.bs.modal"),o.on("shown.bs.modal",function(){a.focus()}),l===!0&&o.modal("show"),o},g.dialog=function(e){e=a(e);var i=t(p.dialog),n=i.find(".modal-body"),s=e.buttons,l="",c={onEscape:e.onEscape};if(r(s,function(e,t){l+="<button data-bb-handler='"+e+"' type='button' class='btn "+t.className+"'>"+t.label+"</button>",c[e]=t.callback}),n.find(".bootbox-body").html(e.message),e.animate===!0&&i.addClass("fade"),e.className&&i.addClass(e.className),e.title&&n.before(p.header),e.closeButton){var u=t(p.closeButton);e.title?i.find(".modal-header").prepend(u):u.css("margin-top","-10px").prependTo(n)}return e.title&&i.find(".modal-title").html(e.title),l.length&&(n.after(p.footer),i.find(".modal-footer").html(l)),i.on("hidden.bs.modal",function(e){e.target===this&&i.remove()}),i.on("shown.bs.modal",function(){i.find(".btn-primary:first").focus()}),i.on("escape.close.bb",function(e){c.onEscape&&o(e,i,c.onEscape)}),i.on("click",".modal-footer button",function(e){var n=t(this).data("bb-handler");o(e,i,c[n])}),i.on("click",".bootbox-close-button",function(e){o(e,i,c.onEscape)}),i.on("keyup",function(e){27===e.which&&i.trigger("escape.close.bb")}),f.append(i),i.modal({backdrop:e.backdrop,keyboard:!1,show:!1}),e.show&&i.modal("show"),i},g.setDefaults=function(){var e={};2===arguments.length?e[arguments[0]]=arguments[1]:e=arguments[0],t.extend(m,e)},g.hideAll=function(){t(".bootbox").modal("hide")};var v={br:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Sim"},da:{OK:"OK",CANCEL:"Annuller",CONFIRM:"Accepter"},de:{OK:"OK",CANCEL:"Abbrechen",CONFIRM:"Akzeptieren"},en:{OK:"OK",CANCEL:"Cancel",CONFIRM:"OK"},es:{OK:"OK",CANCEL:"Cancelar",CONFIRM:"Aceptar"},fi:{OK:"OK",CANCEL:"Peruuta",CONFIRM:"OK"},fr:{OK:"OK",CANCEL:"Annuler",CONFIRM:"D'accord"},it:{OK:"OK",CANCEL:"Annulla",CONFIRM:"Conferma"},nl:{OK:"OK",CANCEL:"Annuleren",CONFIRM:"Accepteren"},no:{OK:"OK",CANCEL:"Avbryt",CONFIRM:"OK"},pl:{OK:"OK",CANCEL:"Anuluj",CONFIRM:"Potwierdź"},ru:{OK:"OK",CANCEL:"Отмена",CONFIRM:"Применить"},zh_CN:{OK:"OK",CANCEL:"取消",CONFIRM:"确认"},zh_TW:{OK:"OK",CANCEL:"取消",CONFIRM:"確認"}};return g.init=function(i){window.bootbox=e(i||t)},g}(window.jQuery),function(e,t,i){"use strict";e.fn.backstretch=function(n,s){return(n===i||0===n.length)&&e.error("No images were supplied for Backstretch"),0===e(t).scrollTop()&&t.scrollTo(0,0),this.each(function(){var t=e(this),i=t.data("backstretch");i&&(s=e.extend(i.options,s),i.destroy(!0)),i=new o(this,n,s),t.data("backstretch",i)})},e.backstretch=function(t,i){return e("body").backstretch(t,i).data("backstretch")},e.expr[":"].backstretch=function(t){return e(t).data("backstretch")!==i},e.fn.backstretch.defaults={centeredX:!0,centeredY:!0,duration:5e3,fade:0};var n={wrap:{left:0,top:0,overflow:"hidden",margin:0,padding:0,height:"100%",width:"100%",zIndex:-999999},img:{position:"absolute",display:"none",margin:0,padding:0,border:"none",width:"auto",height:"auto",maxWidth:"none",zIndex:-999999}},o=function(i,o,r){if(this.options=e.extend({},e.fn.backstretch.defaults,r||{}),this.images=e.isArray(o)?o:[o],e.each(this.images,function(){e("<img />")[0].src=this}),this.isBody=i===document.body,this.$container=e(i),this.$wrap=e('<div class="backstretch"></div>').css(n.wrap).appendTo(this.$container),this.$root=this.isBody?e(s?t:document):this.$container,!this.isBody){var a=this.$container.css("position"),l=this.$container.css("zIndex");this.$container.css({position:"static"===a?"relative":a,zIndex:"auto"===l?0:l,background:"none"}),this.$wrap.css({zIndex:-999998})}this.$wrap.css({position:this.isBody&&s?"fixed":"absolute"}),this.index=0,this.show(this.index),e(t).on("resize.backstretch",e.proxy(this.resize,this)).on("orientationchange.backstretch",e.proxy(function(){this.isBody&&0===t.pageYOffset&&(t.scrollTo(0,1),this.resize())},this))};o.prototype={resize:function(){try{var e,i={left:0,top:0},n=this.isBody?this.$root.width():this.$root.innerWidth(),o=n,s=this.isBody?t.innerHeight?t.innerHeight:this.$root.height():this.$root.innerHeight(),r=o/this.$img.data("ratio");r>=s?(e=(r-s)/2,this.options.centeredY&&(i.top="-"+e+"px")):(r=s,o=r*this.$img.data("ratio"),e=(o-n)/2,this.options.centeredX&&(i.left="-"+e+"px")),this.$wrap.css({width:n,height:s}).find("img:not(.deleteable)").css({width:o,height:r}).css(i)}catch(a){}return this},show:function(t){if(!(Math.abs(t)>this.images.length-1)){this.index=t;var i=this,o=i.$wrap.find("img").addClass("deleteable"),s=e.Event("backstretch.show",{relatedTarget:i.$container[0]});return clearInterval(i.interval),i.$img=e("<img />").css(n.img).bind("load",function(t){var n=this.width||e(t.target).width(),r=this.height||e(t.target).height();e(this).data("ratio",n/r),e(this).fadeIn(i.options.speed||i.options.fade,function(){o.remove(),i.paused||i.cycle(),i.$container.trigger(s,i)}),i.resize()}).appendTo(i.$wrap),i.$img.attr("src",i.images[t]),i}},next:function(){return this.show(this.index<this.images.length-1?this.index+1:0)},prev:function(){return this.show(0===this.index?this.images.length-1:this.index-1)},pause:function(){return this.paused=!0,this},resume:function(){return this.paused=!1,this.next(),this},cycle:function(){return this.images.length>1&&(clearInterval(this.interval),this.interval=setInterval(e.proxy(function(){this.paused||this.next()},this),this.options.duration)),this},destroy:function(i){e(t).off("resize.backstretch orientationchange.backstretch"),clearInterval(this.interval),i||this.$wrap.remove(),this.$container.removeData("backstretch")}};var s=function(){var e=navigator.userAgent,i=navigator.platform,n=e.match(/AppleWebKit\/([0-9]+)/),o=!!n&&n[1],s=e.match(/Fennec\/([0-9]+)/),r=!!s&&s[1],a=e.match(/Opera Mobi\/([0-9]+)/),l=!!a&&a[1],c=e.match(/MSIE ([0-9]+)/),u=!!c&&c[1];return!((i.indexOf("iPhone")>-1||i.indexOf("iPad")>-1||i.indexOf("iPod")>-1)&&o&&534>o||t.operamini&&"[object OperaMini]"==={}.toString.call(t.operamini)||a&&7458>l||e.indexOf("Android")>-1&&o&&533>o||r&&6>r||"palmGetResource"in t&&o&&534>o||e.indexOf("MeeGo")>-1&&e.indexOf("NokiaBrowser/8.5.0")>-1||u&&6>=u)}()}(jQuery,window),function(e){e(["jquery"],function(e){return function(){function t(e,t,i){return c({type:v.error,iconClass:d().iconClasses.error,message:e,optionsOverride:i,title:t})}function i(e,t,i){return c({type:v.info,iconClass:d().iconClasses.info,message:e,optionsOverride:i,title:t})}function n(e){f=e}function o(e,t,i){return c({type:v.success,iconClass:d().iconClasses.success,message:e,optionsOverride:i,title:t})}function s(e,t,i){return c({type:v.warning,iconClass:d().iconClasses.warning,message:e,optionsOverride:i,title:t})}function r(t){var i=d();return p||u(i),t&&0===e(":focus",t).length?void t[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){h(t)}}):void(p.children().length&&p[i.hideMethod]({duration:i.hideDuration,easing:i.hideEasing,complete:function(){p.remove()}}))}function a(){return{tapToDismiss:!0,toastClass:"toast",containerId:"toast-container",debug:!1,showMethod:"fadeIn",showDuration:300,showEasing:"swing",onShown:void 0,hideMethod:"fadeOut",hideDuration:1e3,hideEasing:"swing",onHidden:void 0,extendedTimeOut:1e3,iconClasses:{error:"toast-error",info:"toast-info",success:"toast-success",warning:"toast-warning"},iconClass:"toast-info",positionClass:"toast-top-right",timeOut:5e3,titleClass:"toast-title",messageClass:"toast-message",target:"body",closeHtml:"<button>&times;</button>",newestOnTop:!0}}function l(e){f&&f(e)}function c(t){function i(t){return!e(":focus",c).length||t?c[s.hideMethod]({duration:s.hideDuration,easing:s.hideEasing,complete:function(){h(c),s.onHidden&&s.onHidden(),b.state="hidden",b.endTime=new Date,l(b)}}):void 0}function n(){(s.timeOut>0||s.extendedTimeOut>0)&&(a=setTimeout(i,s.extendedTimeOut))}function o(){clearTimeout(a),c.stop(!0,!0)[s.showMethod]({duration:s.showDuration,easing:s.showEasing})}var s=d(),r=t.iconClass||s.iconClass;"undefined"!=typeof t.optionsOverride&&(s=e.extend(s,t.optionsOverride),r=t.optionsOverride.iconClass||r),g++,p=u(s);var a=null,c=e("<div/>"),f=e("<div/>"),m=e("<div/>"),v=e(s.closeHtml),b={toastId:g,state:"visible",startTime:new Date,options:s,map:t};return t.iconClass&&c.addClass(s.toastClass).addClass(r),t.title&&(f.append(t.title).addClass(s.titleClass),c.append(f)),t.message&&(m.append(t.message).addClass(s.messageClass),c.append(m)),s.closeButton&&(v.addClass("toast-close-button"),c.prepend(v)),c.hide(),s.newestOnTop?p.prepend(c):p.append(c),c[s.showMethod]({duration:s.showDuration,easing:s.showEasing,complete:s.onShown}),s.timeOut>0&&(a=setTimeout(i,s.timeOut)),c.hover(o,n),!s.onclick&&s.tapToDismiss&&c.click(i),s.closeButton&&v&&v.click(function(e){e.stopPropagation(),i(!0)}),s.onclick&&c.click(function(){s.onclick(),i()}),l(b),s.debug&&console&&console.log(b),c}function u(t){return t||(t=d()),p=e("#"+t.containerId),p.length?p:(p=e("<div/>").attr("id",t.containerId).addClass(t.positionClass),p.appendTo(e(t.target)),p)}function d(){return e.extend({},a(),b.options)}function h(e){p||(p=u()),e.is(":visible")||(e.remove(),e=null,0===p.children().length&&p.remove())}var p,f,m="2.0.1",g=0,v={error:"error",info:"info",success:"success",warning:"warning"},b={clear:r,error:t,getContainer:u,info:i,options:{},subscribe:n,success:o,version:m,warning:s};return b}()})}("function"==typeof define&&define.amd?define:function(e,t){"undefined"!=typeof module&&module.exports?module.exports=t(require(e[0])):window.toastr=t(window.jQuery)}),!function(e,t){"use strict";function i(e){return e&&e.toLowerCase?e.toLowerCase():e}function n(e,t){for(var i=0,n=e.length;n>i;i++)if(e[i]==t)return!o;return o}var o=!1,s=null,r=parseFloat,a=Math.min,l=/(-?\d+\.?\d*)$/g,c=/(\d+\.?\d*)$/g,u=[],d=[],h=function(e){return"string"==typeof e},p=function(e,t){for(var i,n=e.length,o=n;o--;)i=n-o-1,t(e[i],i)},f=Array.prototype.indexOf||function(e){var t=this.length,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=t);t>i;i++)if(i in this&&this[i]===e)return i;return-1};e.tinysort={id:"TinySort",version:"1.5.6",copyright:"Copyright (c) 2008-2013 Ron Valstar",uri:"http://tinysort.sjeiti.com/",licensed:{MIT:"http://www.opensource.org/licenses/mit-license.php",GPL:"http://www.gnu.org/licenses/gpl.html"},plugin:function(){var e=function(e,t){u.push(e),d.push(t)};return e.indexOf=f,e}(),defaults:{order:"asc",attr:s,data:s,useVal:o,place:"start",returns:o,cases:o,forceStrings:o,ignoreDashes:o,sortFunction:s}},e.fn.extend({tinysort:function(){var m,g,v,b,y=this,w=[],_=[],x=[],C=[],E=0,T=[],k=[],S=function(e){p(u,function(t){t.call(t,e)})},$=function(e,t){return"string"==typeof t&&(e.cases||(t=i(t)),t=t.replace(/^\s*(.*?)\s*$/i,"$1")),t},D=function(e,t){var i=0;for(0!==E&&(E=0);0===i&&b>E;){var n=C[E],s=n.oSettings,a=s.ignoreDashes?c:l;if(S(s),s.sortFunction)i=s.sortFunction(e,t);else if("rand"==s.order)i=Math.random()<.5?1:-1;else{var u=o,f=$(s,e.s[E]),m=$(s,t.s[E]);if(!s.forceStrings){var g=h(f)?f&&f.match(a):o,v=h(m)?m&&m.match(a):o;if(g&&v){var y=f.substr(0,f.length-g[0].length),w=m.substr(0,m.length-v[0].length);y==w&&(u=!o,f=r(g[0]),m=r(v[0]))}}i=n.iAsc*(m>f?-1:f>m?1:0)}p(d,function(e){i=e.call(e,u,f,m,i)}),0===i&&E++}return i};for(m=0,v=arguments.length;v>m;m++){var I=arguments[m];h(I)?T.push(I)-1>k.length&&(k.length=T.length-1):k.push(I)>T.length&&(T.length=k.length)}for(T.length>k.length&&(k.length=T.length),b=T.length,0===b&&(b=T.length=1,k.push({})),m=0,v=b;v>m;m++){var A=T[m],R=e.extend({},e.tinysort.defaults,k[m]),O=!(!A||""===A),N=O&&":"===A[0];C.push({sFind:A,oSettings:R,bFind:O,bAttr:!(R.attr===s||""===R.attr),bData:R.data!==s,bFilter:N,$Filter:N?y.filter(A):y,fnSort:R.sortFunction,iAsc:"asc"==R.order?1:-1})}return y.each(function(i,n){var o,s=e(n),r=s.parent().get(0),a=[];for(g=0;b>g;g++){var l=C[g],c=l.bFind?l.bFilter?l.$Filter.filter(n):s.find(l.sFind):s;a.push(l.bData?c.data(l.oSettings.data):l.bAttr?c.attr(l.oSettings.attr):l.oSettings.useVal?c.val():c.text()),o===t&&(o=c)}var u=f.call(x,r);0>u&&(u=x.push(r)-1,_[u]={s:[],n:[]}),o.length>0?_[u].s.push({s:a,e:s,n:i}):_[u].n.push({e:s,n:i})}),p(_,function(e){e.s.sort(D)}),p(_,function(e){var t=e.s,i=e.n,s=t.length,r=i.length,l=s+r,c=[],u=l,d=[0,0];switch(R.place){case"first":p(t,function(e){u=a(u,e.n)});break;case"org":p(t,function(e){c.push(e.n)});break;case"end":u=r;break;default:u=0}for(m=0;l>m;m++){var h=n(c,m)?!o:m>=u&&u+s>m,f=h?0:1,g=(h?t:i)[d[f]].e;g.parent().append(g),(h||!R.returns)&&w.push(g.get(0)),d[f]++}}),y.length=0,Array.prototype.push.apply(y,w),y}}),e.fn.TinySort=e.fn.Tinysort=e.fn.tsort=e.fn.tinysort}(jQuery),function(){var e=!1;window.JQClass=function(){},JQClass.classes={},JQClass.extend=function t(i){function n(){!e&&this._init&&this._init.apply(this,arguments)}var o=this.prototype;e=!0;var s=new this;e=!1;for(var r in i)s[r]="function"==typeof i[r]&&"function"==typeof o[r]?function(e,t){return function(){var i=this._super;this._super=function(t){return o[e].apply(this,t||[])};var n=t.apply(this,arguments);return this._super=i,n}}(r,i[r]):i[r];return n.prototype=s,n.prototype.constructor=n,n.extend=t,n}}(),function($){function camelCase(e){return e.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()})}JQClass.classes.JQPlugin=JQClass.extend({name:"plugin",defaultOptions:{},regionalOptions:{},_getters:[],_getMarker:function(){return"is-"+this.name},_init:function(){$.extend(this.defaultOptions,this.regionalOptions&&this.regionalOptions[""]||{});var e=camelCase(this.name);$[e]=this,$.fn[e]=function(t){var i=Array.prototype.slice.call(arguments,1);return $[e]._isNotChained(t,i)?$[e][t].apply($[e],[this[0]].concat(i)):this.each(function(){if("string"==typeof t){if("_"===t[0]||!$[e][t])throw"Unknown method: "+t;$[e][t].apply($[e],[this].concat(i))}else $[e]._attach(this,t)})}},setDefaults:function(e){$.extend(this.defaultOptions,e||{})},_isNotChained:function(e,t){return"option"===e&&(0===t.length||1===t.length&&"string"==typeof t[0])?!0:$.inArray(e,this._getters)>-1},_attach:function(e,t){if(e=$(e),!e.hasClass(this._getMarker())){e.addClass(this._getMarker()),t=$.extend({},this.defaultOptions,this._getMetadata(e),t||{});var i=$.extend({name:this.name,elem:e,options:t},this._instSettings(e,t));e.data(this.name,i),this._postAttach(e,i),this.option(e,t)}},_instSettings:function(e,t){return{}},_postAttach:function(e,t){},_getMetadata:function(d){try{var f=d.data(this.name.toLowerCase())||"";f=f.replace(/'/g,'"'),f=f.replace(/([a-zA-Z0-9]+):/g,function(e,t,i){var n=f.substring(0,i).match(/"/g);return n&&n.length%2!==0?t+":":'"'+t+'":'}),f=$.parseJSON("{"+f+"}");for(var g in f){var h=f[g];"string"==typeof h&&h.match(/^new Date\((.*)\)$/)&&(f[g]=eval(h))}return f}catch(e){return{}}},_getInst:function(e){return $(e).data(this.name)||{}},option:function(e,t,i){e=$(e);var n=e.data(this.name);if(!t||"string"==typeof t&&null==i){var o=(n||{}).options;return o&&t?o[t]:o}if(e.hasClass(this._getMarker())){var o=t||{};"string"==typeof t&&(o={},o[t]=i),this._optionsChanged(e,n,o),$.extend(n.options,o)}},_optionsChanged:function(e,t,i){},destroy:function(e){e=$(e),e.hasClass(this._getMarker())&&(this._preDestroy(e,this._getInst(e)),e.removeData(this.name).removeClass(this._getMarker()))},_preDestroy:function(e,t){}}),$.JQPlugin={createPlugin:function(e,t){"object"==typeof e&&(t=e,e="JQPlugin"),e=camelCase(e);var i=camelCase(t.name);JQClass.classes[i]=JQClass.classes[e].extend(t),new JQClass.classes[i]}}}(jQuery),function(e){var t="countdown",i=0,n=1,o=2,s=3,r=4,a=5,l=6;e.JQPlugin.createPlugin({name:t,defaultOptions:{until:null,since:null,timezone:null,serverSync:null,format:"dHMS",layout:"",compact:!1,padZeroes:!1,significant:0,description:"",expiryUrl:"",expiryText:"",alwaysExpire:!1,onExpiry:null,onTick:null,tickInterval:1},regionalOptions:{"":{labels:["Years","Months","Weeks","Days","Hours","Minutes","Seconds"],labels1:["Year","Month","Week","Day","Hour","Minute","Second"],compactLabels:["y","m","w","d"],whichLabels:null,digits:["0","1","2","3","4","5","6","7","8","9"],timeSeparator:":",isRTL:!1}},_getters:["getTimes"],_rtlClass:t+"-rtl",_sectionClass:t+"-section",_amountClass:t+"-amount",_periodClass:t+"-period",_rowClass:t+"-row",_holdingClass:t+"-holding",_showClass:t+"-show",_descrClass:t+"-descr",_timerElems:[],_init:function(){function t(e){var a=1e12>e?o?performance.now()+performance.timing.navigationStart:n():e||n();a-r>=1e3&&(i._updateElems(),r=a),s(t)}var i=this;this._super(),this._serverSyncs=[];var n="function"==typeof Date.now?Date.now:function(){return(new Date).getTime()},o=window.performance&&"function"==typeof window.performance.now,s=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||null,r=0;!s||e.noRequestAnimationFrame?(e.noRequestAnimationFrame=null,setInterval(function(){i._updateElems()},980)):(r=window.animationStartTime||window.webkitAnimationStartTime||window.mozAnimationStartTime||window.oAnimationStartTime||window.msAnimationStartTime||n(),s(t))},UTCDate:function(e,t,i,n,o,s,r,a){"object"==typeof t&&t.constructor==Date&&(a=t.getMilliseconds(),r=t.getSeconds(),s=t.getMinutes(),o=t.getHours(),n=t.getDate(),i=t.getMonth(),t=t.getFullYear());var l=new Date;return l.setUTCFullYear(t),l.setUTCDate(1),l.setUTCMonth(i||0),l.setUTCDate(n||1),l.setUTCHours(o||0),l.setUTCMinutes((s||0)-(Math.abs(e)<30?60*e:e)),l.setUTCSeconds(r||0),l.setUTCMilliseconds(a||0),l},periodsToSeconds:function(e){return 31557600*e[0]+2629800*e[1]+604800*e[2]+86400*e[3]+3600*e[4]+60*e[5]+e[6]},resync:function(){var t=this;e("."+this._getMarker()).each(function(){var i=e.data(this,t.name);if(i.options.serverSync){for(var n=null,o=0;o<t._serverSyncs.length;o++)if(t._serverSyncs[o][0]==i.options.serverSync){n=t._serverSyncs[o];break}if(null==n[2]){var s=e.isFunction(i.options.serverSync)?i.options.serverSync.apply(this,[]):null;n[2]=(s?(new Date).getTime()-s.getTime():0)-n[1]}i._since&&i._since.setMilliseconds(i._since.getMilliseconds()+n[2]),i._until.setMilliseconds(i._until.getMilliseconds()+n[2])}});for(var i=0;i<t._serverSyncs.length;i++)null!=t._serverSyncs[i][2]&&(t._serverSyncs[i][1]+=t._serverSyncs[i][2],delete t._serverSyncs[i][2])},_instSettings:function(e,t){return{_periods:[0,0,0,0,0,0,0]}},_addElem:function(e){this._hasElem(e)||this._timerElems.push(e)},_hasElem:function(t){return e.inArray(t,this._timerElems)>-1},_removeElem:function(t){this._timerElems=e.map(this._timerElems,function(e){return e==t?null:e})},_updateElems:function(){for(var e=this._timerElems.length-1;e>=0;e--)this._updateCountdown(this._timerElems[e])},_optionsChanged:function(t,i,n){n.layout&&(n.layout=n.layout.replace(/&lt;/g,"<").replace(/&gt;/g,">")),this._resetExtraLabels(i.options,n);var o=i.options.timezone!=n.timezone;e.extend(i.options,n),this._adjustSettings(t,i,null!=n.until||null!=n.since||o);var s=new Date;(i._since&&i._since<s||i._until&&i._until>s)&&this._addElem(t[0]),this._updateCountdown(t,i)},_updateCountdown:function(t,i){if(t=t.jquery?t:e(t),i=i||this._getInst(t)){if(t.html(this._generateHTML(i)).toggleClass(this._rtlClass,i.options.isRTL),e.isFunction(i.options.onTick)){var n="lap"!=i._hold?i._periods:this._calculatePeriods(i,i._show,i.options.significant,new Date);(1==i.options.tickInterval||this.periodsToSeconds(n)%i.options.tickInterval==0)&&i.options.onTick.apply(t[0],[n])}var o="pause"!=i._hold&&(i._since?i._now.getTime()<i._since.getTime():i._now.getTime()>=i._until.getTime());if(o&&!i._expiring){if(i._expiring=!0,this._hasElem(t[0])||i.options.alwaysExpire){
if(this._removeElem(t[0]),e.isFunction(i.options.onExpiry)&&i.options.onExpiry.apply(t[0],[]),i.options.expiryText){var s=i.options.layout;i.options.layout=i.options.expiryText,this._updateCountdown(t[0],i),i.options.layout=s}i.options.expiryUrl&&(window.location=i.options.expiryUrl)}i._expiring=!1}else"pause"==i._hold&&this._removeElem(t[0])}},_resetExtraLabels:function(e,t){for(var i in t)i.match(/[Ll]abels[02-9]|compactLabels1/)&&(e[i]=t[i]);for(var i in e)i.match(/[Ll]abels[02-9]|compactLabels1/)&&"undefined"==typeof t[i]&&(e[i]=null)},_adjustSettings:function(t,i,n){for(var o=null,s=0;s<this._serverSyncs.length;s++)if(this._serverSyncs[s][0]==i.options.serverSync){o=this._serverSyncs[s][1];break}if(null!=o)var r=i.options.serverSync?o:0,a=new Date;else{var l=e.isFunction(i.options.serverSync)?i.options.serverSync.apply(t[0],[]):null,a=new Date,r=l?a.getTime()-l.getTime():0;this._serverSyncs.push([i.options.serverSync,r])}var c=i.options.timezone;c=null==c?-a.getTimezoneOffset():c,(n||!n&&null==i._until&&null==i._since)&&(i._since=i.options.since,null!=i._since&&(i._since=this.UTCDate(c,this._determineTime(i._since,null)),i._since&&r&&i._since.setMilliseconds(i._since.getMilliseconds()+r)),i._until=this.UTCDate(c,this._determineTime(i.options.until,a)),r&&i._until.setMilliseconds(i._until.getMilliseconds()+r)),i._show=this._determineShow(i)},_preDestroy:function(e,t){this._removeElem(e[0]),e.empty()},pause:function(e){this._hold(e,"pause")},lap:function(e){this._hold(e,"lap")},resume:function(e){this._hold(e,null)},toggle:function(t){var i=e.data(t,this.name)||{};this[i._hold?"resume":"pause"](t)},toggleLap:function(t){var i=e.data(t,this.name)||{};this[i._hold?"resume":"lap"](t)},_hold:function(t,i){var n=e.data(t,this.name);if(n){if("pause"==n._hold&&!i){n._periods=n._savePeriods;var o=n._since?"-":"+";n[n._since?"_since":"_until"]=this._determineTime(o+n._periods[0]+"y"+o+n._periods[1]+"o"+o+n._periods[2]+"w"+o+n._periods[3]+"d"+o+n._periods[4]+"h"+o+n._periods[5]+"m"+o+n._periods[6]+"s"),this._addElem(t)}n._hold=i,n._savePeriods="pause"==i?n._periods:null,e.data(t,this.name,n),this._updateCountdown(t,n)}},getTimes:function(t){var i=e.data(t,this.name);return i?"pause"==i._hold?i._savePeriods:i._hold?this._calculatePeriods(i,i._show,i.options.significant,new Date):i._periods:null},_determineTime:function(e,t){var i=this,n=function(e){var t=new Date;return t.setTime(t.getTime()+1e3*e),t},o=function(e){e=e.toLowerCase();for(var t=new Date,n=t.getFullYear(),o=t.getMonth(),s=t.getDate(),r=t.getHours(),a=t.getMinutes(),l=t.getSeconds(),c=/([+-]?[0-9]+)\s*(s|m|h|d|w|o|y)?/g,u=c.exec(e);u;){switch(u[2]||"s"){case"s":l+=parseInt(u[1],10);break;case"m":a+=parseInt(u[1],10);break;case"h":r+=parseInt(u[1],10);break;case"d":s+=parseInt(u[1],10);break;case"w":s+=7*parseInt(u[1],10);break;case"o":o+=parseInt(u[1],10),s=Math.min(s,i._getDaysInMonth(n,o));break;case"y":n+=parseInt(u[1],10),s=Math.min(s,i._getDaysInMonth(n,o))}u=c.exec(e)}return new Date(n,o,s,r,a,l,0)},s=null==e?t:"string"==typeof e?o(e):"number"==typeof e?n(e):e;return s&&s.setMilliseconds(0),s},_getDaysInMonth:function(e,t){return 32-new Date(e,t,32).getDate()},_normalLabels:function(e){return e},_generateHTML:function(t){var c=this;t._periods=t._hold?t._periods:this._calculatePeriods(t,t._show,t.options.significant,new Date);for(var u=!1,d=0,h=t.options.significant,p=e.extend({},t._show),f=i;l>=f;f++)u|="?"==t._show[f]&&t._periods[f]>0,p[f]="?"!=t._show[f]||u?t._show[f]:null,d+=p[f]?1:0,h-=t._periods[f]>0?1:0;for(var m=[!1,!1,!1,!1,!1,!1,!1],f=l;f>=i;f--)t._show[f]&&(t._periods[f]?m[f]=!0:(m[f]=h>0,h--));var g=t.options.compact?t.options.compactLabels:t.options.labels,v=t.options.whichLabels||this._normalLabels,b=function(e){var i=t.options["compactLabels"+v(t._periods[e])];return p[e]?c._translateDigits(t,t._periods[e])+(i?i[e]:g[e])+" ":""},y=t.options.padZeroes?2:1,w=function(e){var i=t.options["labels"+v(t._periods[e])];return!t.options.significant&&p[e]||t.options.significant&&m[e]?'<span class="'+c._sectionClass+'"><span class="'+c._amountClass+'">'+c._minDigits(t,t._periods[e],y)+'</span><span class="'+c._periodClass+'">'+(i?i[e]:g[e])+"</span></span>":""};return t.options.layout?this._buildLayout(t,p,t.options.layout,t.options.compact,t.options.significant,m):(t.options.compact?'<span class="'+this._rowClass+" "+this._amountClass+(t._hold?" "+this._holdingClass:"")+'">'+b(i)+b(n)+b(o)+b(s)+(p[r]?this._minDigits(t,t._periods[r],2):"")+(p[a]?(p[r]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[a],2):"")+(p[l]?(p[r]||p[a]?t.options.timeSeparator:"")+this._minDigits(t,t._periods[l],2):""):'<span class="'+this._rowClass+" "+this._showClass+(t.options.significant||d)+(t._hold?" "+this._holdingClass:"")+'">'+w(i)+w(n)+w(o)+w(s)+w(r)+w(a)+w(l))+"</span>"+(t.options.description?'<span class="'+this._rowClass+" "+this._descrClass+'">'+t.options.description+"</span>":"")},_buildLayout:function(t,c,u,d,h,p){for(var f=t.options[d?"compactLabels":"labels"],m=t.options.whichLabels||this._normalLabels,g=function(e){return(t.options[(d?"compactLabels":"labels")+m(t._periods[e])]||f)[e]},v=function(e,i){return t.options.digits[Math.floor(e/i)%10]},b={desc:t.options.description,sep:t.options.timeSeparator,yl:g(i),yn:this._minDigits(t,t._periods[i],1),ynn:this._minDigits(t,t._periods[i],2),ynnn:this._minDigits(t,t._periods[i],3),y1:v(t._periods[i],1),y10:v(t._periods[i],10),y100:v(t._periods[i],100),y1000:v(t._periods[i],1e3),ol:g(n),on:this._minDigits(t,t._periods[n],1),onn:this._minDigits(t,t._periods[n],2),onnn:this._minDigits(t,t._periods[n],3),o1:v(t._periods[n],1),o10:v(t._periods[n],10),o100:v(t._periods[n],100),o1000:v(t._periods[n],1e3),wl:g(o),wn:this._minDigits(t,t._periods[o],1),wnn:this._minDigits(t,t._periods[o],2),wnnn:this._minDigits(t,t._periods[o],3),w1:v(t._periods[o],1),w10:v(t._periods[o],10),w100:v(t._periods[o],100),w1000:v(t._periods[o],1e3),dl:g(s),dn:this._minDigits(t,t._periods[s],1),dnn:this._minDigits(t,t._periods[s],2),dnnn:this._minDigits(t,t._periods[s],3),d1:v(t._periods[s],1),d10:v(t._periods[s],10),d100:v(t._periods[s],100),d1000:v(t._periods[s],1e3),hl:g(r),hn:this._minDigits(t,t._periods[r],1),hnn:this._minDigits(t,t._periods[r],2),hnnn:this._minDigits(t,t._periods[r],3),h1:v(t._periods[r],1),h10:v(t._periods[r],10),h100:v(t._periods[r],100),h1000:v(t._periods[r],1e3),ml:g(a),mn:this._minDigits(t,t._periods[a],1),mnn:this._minDigits(t,t._periods[a],2),mnnn:this._minDigits(t,t._periods[a],3),m1:v(t._periods[a],1),m10:v(t._periods[a],10),m100:v(t._periods[a],100),m1000:v(t._periods[a],1e3),sl:g(l),sn:this._minDigits(t,t._periods[l],1),snn:this._minDigits(t,t._periods[l],2),snnn:this._minDigits(t,t._periods[l],3),s1:v(t._periods[l],1),s10:v(t._periods[l],10),s100:v(t._periods[l],100),s1000:v(t._periods[l],1e3)},y=u,w=i;l>=w;w++){var _="yowdhms".charAt(w),x=new RegExp("\\{"+_+"<\\}([\\s\\S]*)\\{"+_+">\\}","g");y=y.replace(x,!h&&c[w]||h&&p[w]?"$1":"")}return e.each(b,function(e,t){var i=new RegExp("\\{"+e+"\\}","g");y=y.replace(i,t)}),y},_minDigits:function(e,t,i){return t=""+t,t.length>=i?this._translateDigits(e,t):(t="0000000000"+t,this._translateDigits(e,t.substr(t.length-i)))},_translateDigits:function(e,t){return(""+t).replace(/[0-9]/g,function(t){return e.options.digits[t]})},_determineShow:function(e){var t=e.options.format,c=[];return c[i]=t.match("y")?"?":t.match("Y")?"!":null,c[n]=t.match("o")?"?":t.match("O")?"!":null,c[o]=t.match("w")?"?":t.match("W")?"!":null,c[s]=t.match("d")?"?":t.match("D")?"!":null,c[r]=t.match("h")?"?":t.match("H")?"!":null,c[a]=t.match("m")?"?":t.match("M")?"!":null,c[l]=t.match("s")?"?":t.match("S")?"!":null,c},_calculatePeriods:function(e,t,c,u){e._now=u,e._now.setMilliseconds(0);var d=new Date(e._now.getTime());e._since?u.getTime()<e._since.getTime()?e._now=u=d:u=e._since:(d.setTime(e._until.getTime()),u.getTime()>e._until.getTime()&&(e._now=u=d));var h=[0,0,0,0,0,0,0];if(t[i]||t[n]){var p=this._getDaysInMonth(u.getFullYear(),u.getMonth()),f=this._getDaysInMonth(d.getFullYear(),d.getMonth()),m=d.getDate()==u.getDate()||d.getDate()>=Math.min(p,f)&&u.getDate()>=Math.min(p,f),g=function(e){return 60*(60*e.getHours()+e.getMinutes())+e.getSeconds()},v=Math.max(0,12*(d.getFullYear()-u.getFullYear())+d.getMonth()-u.getMonth()+(d.getDate()<u.getDate()&&!m||m&&g(d)<g(u)?-1:0));h[i]=t[i]?Math.floor(v/12):0,h[n]=t[n]?v-12*h[i]:0,u=new Date(u.getTime());var b=u.getDate()==p,y=this._getDaysInMonth(u.getFullYear()+h[i],u.getMonth()+h[n]);u.getDate()>y&&u.setDate(y),u.setFullYear(u.getFullYear()+h[i]),u.setMonth(u.getMonth()+h[n]),b&&u.setDate(y)}var w=Math.floor((d.getTime()-u.getTime())/1e3),_=function(e,i){h[e]=t[e]?Math.floor(w/i):0,w-=h[e]*i};if(_(o,604800),_(s,86400),_(r,3600),_(a,60),_(l,1),w>0&&!e._since)for(var x=[1,12,4.3482,7,24,60,60],C=l,E=1,T=l;T>=i;T--)t[T]&&(h[C]>=E&&(h[C]=0,w=1),w>0&&(h[T]++,w=0,C=T,E=1)),E*=x[T];if(c)for(var T=i;l>=T;T++)c&&h[T]?c--:c||(h[T]=0);return h}})}(jQuery),!function(e,t){"use strict";function i(e,t){for(var i,n=[],s=0;s<e.length;++s){if(i=r[e[s]]||o(e[s]),!i)throw"module definition dependecy not found: "+e[s];n.push(i)}t.apply(null,n)}function n(e,n,o){if("string"!=typeof e)throw"invalid module definition, module id must be defined and be a string";if(n===t)throw"invalid module definition, dependencies must be specified";if(o===t)throw"invalid module definition, definition function must be specified";i(n,function(){r[e]=o.apply(null,arguments)})}function o(t){for(var i=e,n=t.split(/[.\/]/),o=0;o<n.length;++o){if(!i[n[o]])return;i=i[n[o]]}return i}function s(i){for(var n=0;n<i.length;n++){for(var o=e,s=i[n],a=s.split(/[.\/]/),l=0;l<a.length-1;++l)o[a[l]]===t&&(o[a[l]]={}),o=o[a[l]];o[a[a.length-1]]=r[s]}}var r={},a="moxie/core/utils/Basic",l="moxie/core/I18n",c="moxie/core/utils/Mime",u="moxie/core/utils/Env",d="moxie/core/utils/Dom",h="moxie/core/Exceptions",p="moxie/core/EventTarget",f="moxie/core/utils/Encode",m="moxie/runtime/Runtime",g="moxie/runtime/RuntimeClient",v="moxie/file/Blob",b="moxie/file/File",y="moxie/file/FileInput",w="moxie/file/FileDrop",_="moxie/runtime/RuntimeTarget",x="moxie/file/FileReader",C="moxie/core/utils/Url",E="moxie/file/FileReaderSync",T="moxie/xhr/FormData",k="moxie/xhr/XMLHttpRequest",S="moxie/runtime/Transporter",$="moxie/image/Image",D="moxie/runtime/html5/Runtime",I="moxie/runtime/html5/file/Blob",A="moxie/core/utils/Events",R="moxie/runtime/html5/file/FileInput",O="moxie/runtime/html5/file/FileDrop",N="moxie/runtime/html5/file/FileReader",P="moxie/runtime/html5/xhr/XMLHttpRequest",z="moxie/runtime/html5/utils/BinaryReader",M="moxie/runtime/html5/image/JPEGHeaders",F="moxie/runtime/html5/image/ExifParser",L="moxie/runtime/html5/image/JPEG",H="moxie/runtime/html5/image/PNG",j="moxie/runtime/html5/image/ImageInfo",U="moxie/runtime/html5/image/MegaPixel",B="moxie/runtime/html5/image/Image",W="moxie/runtime/flash/Runtime",q="moxie/runtime/flash/file/Blob",X="moxie/runtime/flash/file/FileInput",G="moxie/runtime/flash/file/FileReader",V="moxie/runtime/flash/file/FileReaderSync",Y="moxie/runtime/flash/xhr/XMLHttpRequest",Q="moxie/runtime/flash/runtime/Transporter",K="moxie/runtime/flash/image/Image",J="moxie/runtime/silverlight/Runtime",Z="moxie/runtime/silverlight/file/Blob",ee="moxie/runtime/silverlight/file/FileInput",te="moxie/runtime/silverlight/file/FileDrop",ie="moxie/runtime/silverlight/file/FileReader",ne="moxie/runtime/silverlight/file/FileReaderSync",oe="moxie/runtime/silverlight/xhr/XMLHttpRequest",se="moxie/runtime/silverlight/runtime/Transporter",re="moxie/runtime/silverlight/image/Image",ae="moxie/runtime/html4/Runtime",le="moxie/runtime/html4/file/FileInput",ce="moxie/runtime/html4/file/FileReader",ue="moxie/runtime/html4/xhr/XMLHttpRequest",de="moxie/runtime/html4/image/Image";n(a,[],function(){var e=function(e){var t;return e===t?"undefined":null===e?"null":e.nodeType?"node":{}.toString.call(e).match(/\s([a-z|A-Z]+)/)[1].toLowerCase()},t=function(n){var o;return i(arguments,function(s,a){a>0&&i(s,function(i,s){i!==o&&(e(n[s])===e(i)&&~r(e(i),["array","object"])?t(n[s],i):n[s]=i)})}),n},i=function(e,t){var i,n,o,s;if(e){try{i=e.length}catch(r){i=s}if(i===s){for(n in e)if(e.hasOwnProperty(n)&&t(e[n],n)===!1)return}else for(o=0;i>o;o++)if(t(e[o],o)===!1)return}},n=function(t){var i;if(!t||"object"!==e(t))return!0;for(i in t)return!1;return!0},o=function(t,i){function n(o){"function"===e(t[o])&&t[o](function(e){++o<s&&!e?n(o):i(e)})}var o=0,s=t.length;"function"!==e(i)&&(i=function(){}),t&&t.length||i(),n(o)},s=function(e,t){var n=0,o=e.length,s=new Array(o);i(e,function(e,i){e(function(e){if(e)return t(e);var r=[].slice.call(arguments);r.shift(),s[i]=r,n++,n===o&&(s.unshift(null),t.apply(this,s))})})},r=function(e,t){if(t){if(Array.prototype.indexOf)return Array.prototype.indexOf.call(t,e);for(var i=0,n=t.length;n>i;i++)if(t[i]===e)return i}return-1},a=function(t,i){var n=[];"array"!==e(t)&&(t=[t]),"array"!==e(i)&&(i=[i]);for(var o in t)-1===r(t[o],i)&&n.push(t[o]);return n.length?n:!1},l=function(e,t){var n=[];return i(e,function(e){-1!==r(e,t)&&n.push(e)}),n.length?n:null},c=function(e){var t,i=[];for(t=0;t<e.length;t++)i[t]=e[t];return i},u=function(){var e=0;return function(t){var i,n=(new Date).getTime().toString(32);for(i=0;5>i;i++)n+=Math.floor(65535*Math.random()).toString(32);return(t||"o_")+n+(e++).toString(32)}}(),d=function(e){return e?String.prototype.trim?String.prototype.trim.call(e):e.toString().replace(/^\s*/,"").replace(/\s*$/,""):e},h=function(e){if("string"!=typeof e)return e;var t,i={t:1099511627776,g:1073741824,m:1048576,k:1024};return e=/^([0-9]+)([mgk]?)$/.exec(e.toLowerCase().replace(/[^0-9mkg]/g,"")),t=e[2],e=+e[1],i.hasOwnProperty(t)&&(e*=i[t]),e};return{guid:u,typeOf:e,extend:t,each:i,isEmptyObj:n,inSeries:o,inParallel:s,inArray:r,arrayDiff:a,arrayIntersect:l,toArray:c,trim:d,parseSizeStr:h}}),n(l,[a],function(e){var t={};return{addI18n:function(i){return e.extend(t,i)},translate:function(e){return t[e]||e},_:function(e){return this.translate(e)},sprintf:function(t){var i=[].slice.call(arguments,1);return t.replace(/%[a-z]/g,function(){var t=i.shift();return"undefined"!==e.typeOf(t)?t:""})}}}),n(c,[a,l],function(e,t){var i="application/msword,doc dot,application/pdf,pdf,application/pgp-signature,pgp,application/postscript,ps ai eps,application/rtf,rtf,application/vnd.ms-excel,xls xlb,application/vnd.ms-powerpoint,ppt pps pot,application/zip,zip,application/x-shockwave-flash,swf swfl,application/vnd.openxmlformats-officedocument.wordprocessingml.document,docx,application/vnd.openxmlformats-officedocument.wordprocessingml.template,dotx,application/vnd.openxmlformats-officedocument.spreadsheetml.sheet,xlsx,application/vnd.openxmlformats-officedocument.presentationml.presentation,pptx,application/vnd.openxmlformats-officedocument.presentationml.template,potx,application/vnd.openxmlformats-officedocument.presentationml.slideshow,ppsx,application/x-javascript,js,application/json,json,audio/mpeg,mp3 mpga mpega mp2,audio/x-wav,wav,audio/x-m4a,m4a,audio/ogg,oga ogg,audio/aiff,aiff aif,audio/flac,flac,audio/aac,aac,audio/ac3,ac3,audio/x-ms-wma,wma,image/bmp,bmp,image/gif,gif,image/jpeg,jpg jpeg jpe,image/photoshop,psd,image/png,png,image/svg+xml,svg svgz,image/tiff,tiff tif,text/plain,asc txt text diff log,text/html,htm html xhtml,text/css,css,text/csv,csv,text/rtf,rtf,video/mpeg,mpeg mpg mpe m2v,video/quicktime,qt mov,video/mp4,mp4,video/x-m4v,m4v,video/x-flv,flv,video/x-ms-wmv,wmv,video/avi,avi,video/webm,webm,video/3gpp,3gpp 3gp,video/3gpp2,3g2,video/vnd.rn-realvideo,rv,video/ogg,ogv,video/x-matroska,mkv,application/vnd.oasis.opendocument.formula-template,otf,application/octet-stream,exe",n={mimes:{},extensions:{},addMimeType:function(e){var t,i,n,o=e.split(/,/);for(t=0;t<o.length;t+=2){for(n=o[t+1].split(/ /),i=0;i<n.length;i++)this.mimes[n[i]]=o[t];this.extensions[o[t]]=n}},extList2mimes:function(t,i){var n,o,s,r,a=this,l=[];for(o=0;o<t.length;o++)for(n=t[o].extensions.split(/\s*,\s*/),s=0;s<n.length;s++){if("*"===n[s])return[];if(r=a.mimes[n[s]])-1===e.inArray(r,l)&&l.push(r);else{if(!i||!/^\w+$/.test(n[s]))return[];l.push("."+n[s])}}return l},mimes2exts:function(t){var i=this,n=[];return e.each(t,function(t){if("*"===t)return n=[],!1;var o=t.match(/^(\w+)\/(\*|\w+)$/);o&&("*"===o[2]?e.each(i.extensions,function(e,t){new RegExp("^"+o[1]+"/").test(t)&&[].push.apply(n,i.extensions[t])}):i.extensions[t]&&[].push.apply(n,i.extensions[t]))}),n},mimes2extList:function(i){var n=[],o=[];return"string"===e.typeOf(i)&&(i=e.trim(i).split(/\s*,\s*/)),o=this.mimes2exts(i),n.push({title:t.translate("Files"),extensions:o.length?o.join(","):"*"}),n.mimes=i,n},getFileExtension:function(e){var t=e&&e.match(/\.([^.]+)$/);return t?t[1].toLowerCase():""},getFileMime:function(e){return this.mimes[this.getFileExtension(e)]||""}};return n.addMimeType(i),n}),n(u,[a],function(e){function t(e,t,i){var n=0,o=0,s=0,r={dev:-6,alpha:-5,a:-5,beta:-4,b:-4,RC:-3,rc:-3,"#":-2,p:1,pl:1},a=function(e){return e=(""+e).replace(/[_\-+]/g,"."),e=e.replace(/([^.\d]+)/g,".$1.").replace(/\.{2,}/g,"."),e.length?e.split("."):[-8]},l=function(e){return e?isNaN(e)?r[e]||-7:parseInt(e,10):0};for(e=a(e),t=a(t),o=Math.max(e.length,t.length),n=0;o>n;n++)if(e[n]!=t[n]){if(e[n]=l(e[n]),t[n]=l(t[n]),e[n]<t[n]){s=-1;break}if(e[n]>t[n]){s=1;break}}if(!i)return s;switch(i){case">":case"gt":return s>0;case">=":case"ge":return s>=0;case"<=":case"le":return 0>=s;case"==":case"=":case"eq":return 0===s;case"<>":case"!=":case"ne":return 0!==s;case"":case"<":case"lt":return 0>s;default:return null}}var i=function(e){var t="",i="?",n="function",o="undefined",s="object",r="major",a="name",l="version",c={has:function(e,t){return-1!==t.toLowerCase().indexOf(e.toLowerCase())},lowerize:function(e){return e.toLowerCase()}},u={rgx:function(){for(var t,i,r,a,l,c,u,d=0,h=arguments;d<h.length;d+=2){var p=h[d],f=h[d+1];if(typeof t===o){t={};for(a in f)l=f[a],typeof l===s?t[l[0]]=e:t[l]=e}for(i=r=0;i<p.length;i++)if(c=p[i].exec(this.getUA())){for(a=0;a<f.length;a++)u=c[++r],l=f[a],typeof l===s&&l.length>0?2==l.length?t[l[0]]=typeof l[1]==n?l[1].call(this,u):l[1]:3==l.length?t[l[0]]=typeof l[1]!==n||l[1].exec&&l[1].test?u?u.replace(l[1],l[2]):e:u?l[1].call(this,u,l[2]):e:4==l.length&&(t[l[0]]=u?l[3].call(this,u.replace(l[1],l[2])):e):t[l]=u?u:e;break}if(c)break}return t},str:function(t,n){for(var o in n)if(typeof n[o]===s&&n[o].length>0){for(var r=0;r<n[o].length;r++)if(c.has(n[o][r],t))return o===i?e:o}else if(c.has(n[o],t))return o===i?e:o;return t}},d={browser:{oldsafari:{major:{1:["/8","/1","/3"],2:"/4","?":"/"},version:{"1.0":"/8",1.2:"/1",1.3:"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"}}},device:{sprint:{model:{"Evo Shift 4G":"7373KT"},vendor:{HTC:"APA",Sprint:"Sprint"}}},os:{windows:{version:{ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2",8.1:"NT 6.3",RT:"ARM"}}}},h={browser:[[/(opera\smini)\/((\d+)?[\w\.-]+)/i,/(opera\s[mobiletab]+).+version\/((\d+)?[\w\.-]+)/i,/(opera).+version\/((\d+)?[\w\.]+)/i,/(opera)[\/\s]+((\d+)?[\w\.]+)/i],[a,l,r],[/\s(opr)\/((\d+)?[\w\.]+)/i],[[a,"Opera"],l,r],[/(kindle)\/((\d+)?[\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/\s]?((\d+)?[\w\.]+)*/i,/(avant\s|iemobile|slim|baidu)(?:browser)?[\/\s]?((\d+)?[\w\.]*)/i,/(?:ms|\()(ie)\s((\d+)?[\w\.]+)/i,/(rekonq)((?:\/)[\w\.]+)*/i,/(chromium|flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron)\/((\d+)?[\w\.-]+)/i],[a,l,r],[/(trident).+rv[:\s]((\d+)?[\w\.]+).+like\sgecko/i],[[a,"IE"],l,r],[/(yabrowser)\/((\d+)?[\w\.]+)/i],[[a,"Yandex"],l,r],[/(comodo_dragon)\/((\d+)?[\w\.]+)/i],[[a,/_/g," "],l,r],[/(chrome|omniweb|arora|[tizenoka]{5}\s?browser)\/v?((\d+)?[\w\.]+)/i],[a,l,r],[/(dolfin)\/((\d+)?[\w\.]+)/i],[[a,"Dolphin"],l,r],[/((?:android.+)crmo|crios)\/((\d+)?[\w\.]+)/i],[[a,"Chrome"],l,r],[/((?:android.+))version\/((\d+)?[\w\.]+)\smobile\ssafari/i],[[a,"Android Browser"],l,r],[/version\/((\d+)?[\w\.]+).+?mobile\/\w+\s(safari)/i],[l,r,[a,"Mobile Safari"]],[/version\/((\d+)?[\w\.]+).+?(mobile\s?safari|safari)/i],[l,r,a],[/webkit.+?(mobile\s?safari|safari)((\/[\w\.]+))/i],[a,[r,u.str,d.browser.oldsafari.major],[l,u.str,d.browser.oldsafari.version]],[/(konqueror)\/((\d+)?[\w\.]+)/i,/(webkit|khtml)\/((\d+)?[\w\.]+)/i],[a,l,r],[/(navigator|netscape)\/((\d+)?[\w\.-]+)/i],[[a,"Netscape"],l,r],[/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo\sbrowser|minimo|conkeror)[\/\s]?((\d+)?[\w\.\+]+)/i,/(firefox|seamonkey|k-meleon|icecat|iceape|firebird|phoenix)\/((\d+)?[\w\.-]+)/i,/(mozilla)\/((\d+)?[\w\.]+).+rv\:.+gecko\/\d+/i,/(uc\s?browser|polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|qqbrowser)[\/\s]?((\d+)?[\w\.]+)/i,/(links)\s\(((\d+)?[\w\.]+)/i,/(gobrowser)\/?((\d+)?[\w\.]+)*/i,/(ice\s?browser)\/v?((\d+)?[\w\._]+)/i,/(mosaic)[\/\s]((\d+)?[\w\.]+)/i],[a,l,r]],engine:[[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m)\/([\w\.]+)/i,/(khtml|tasman|links)[\/\s]\(?([\w\.]+)/i,/(icab)[\/\s]([23]\.[\d\.]+)/i],[a,l],[/rv\:([\w\.]+).*(gecko)/i],[l,a]],os:[[/(windows)\snt\s6\.2;\s(arm)/i,/(windows\sphone(?:\sos)*|windows\smobile|windows)[\s\/]?([ntce\d\.\s]+\w)/i],[a,[l,u.str,d.os.windows.version]],[/(win(?=3|9|n)|win\s9x\s)([nt\d\.]+)/i],[[a,"Windows"],[l,u.str,d.os.windows.version]],[/\((bb)(10);/i],[[a,"BlackBerry"],l],[/(blackberry)\w*\/?([\w\.]+)*/i,/(tizen)\/([\w\.]+)/i,/(android|webos|palm\os|qnx|bada|rim\stablet\sos|meego)[\/\s-]?([\w\.]+)*/i],[a,l],[/(symbian\s?os|symbos|s60(?=;))[\/\s-]?([\w\.]+)*/i],[[a,"Symbian"],l],[/mozilla.+\(mobile;.+gecko.+firefox/i],[[a,"Firefox OS"],l],[/(nintendo|playstation)\s([wids3portablevu]+)/i,/(mint)[\/\s\(]?(\w+)*/i,/(joli|[kxln]?ubuntu|debian|[open]*suse|gentoo|arch|slackware|fedora|mandriva|centos|pclinuxos|redhat|zenwalk)[\/\s-]?([\w\.-]+)*/i,/(hurd|linux)\s?([\w\.]+)*/i,/(gnu)\s?([\w\.]+)*/i],[a,l],[/(cros)\s[\w]+\s([\w\.]+\w)/i],[[a,"Chromium OS"],l],[/(sunos)\s?([\w\.]+\d)*/i],[[a,"Solaris"],l],[/\s([frentopc-]{0,4}bsd|dragonfly)\s?([\w\.]+)*/i],[a,l],[/(ip[honead]+)(?:.*os\s*([\w]+)*\slike\smac|;\sopera)/i],[[a,"iOS"],[l,/_/g,"."]],[/(mac\sos\sx)\s?([\w\s\.]+\w)*/i],[a,[l,/_/g,"."]],[/(haiku)\s(\w+)/i,/(aix)\s((\d)(?=\.|\)|\s)[\w\.]*)*/i,/(macintosh|mac(?=_powerpc)|plan\s9|minix|beos|os\/2|amigaos|morphos|risc\sos)/i,/(unix)\s?([\w\.]+)*/i],[a,l]]},p=function(e){var i=e||(window&&window.navigator&&window.navigator.userAgent?window.navigator.userAgent:t);this.getBrowser=function(){return u.rgx.apply(this,h.browser)},this.getEngine=function(){return u.rgx.apply(this,h.engine)},this.getOS=function(){return u.rgx.apply(this,h.os)},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS()}},this.getUA=function(){return i},this.setUA=function(e){return i=e,this},this.setUA(i)};return(new p).getResult()}(),n=function(){var t={define_property:function(){return!1}(),create_canvas:function(){var e=document.createElement("canvas");return!(!e.getContext||!e.getContext("2d"))}(),return_response_type:function(t){try{if(-1!==e.inArray(t,["","text","document"]))return!0;if(window.XMLHttpRequest){var i=new XMLHttpRequest;if(i.open("get","/"),"responseType"in i)return i.responseType=t,i.responseType!==t?!1:!0}}catch(n){}return!1},use_data_uri:function(){var e=new Image;return e.onload=function(){t.use_data_uri=1===e.width&&1===e.height},setTimeout(function(){e.src="data:image/gif;base64,R0lGODlhAQABAIAAAP8AAAAAACH5BAAAAAAALAAAAAABAAEAAAICRAEAOw=="},1),!1}(),use_data_uri_over32kb:function(){return t.use_data_uri&&("IE"!==o.browser||o.version>=9)},use_data_uri_of:function(e){return t.use_data_uri&&33e3>e||t.use_data_uri_over32kb()},use_fileinput:function(){var e=document.createElement("input");return e.setAttribute("type","file"),!e.disabled}};return function(i){var n=[].slice.call(arguments);return n.shift(),"function"===e.typeOf(t[i])?t[i].apply(this,n):!!t[i]}}(),o={can:n,browser:i.browser.name,version:parseFloat(i.browser.major),os:i.os.name,osVersion:i.os.version,verComp:t,swf_url:"../flash/Moxie.swf",xap_url:"../silverlight/Moxie.xap",global_event_dispatcher:"moxie.core.EventTarget.instance.dispatchEvent"};return o.OS=o.os,o}),n(d,[u],function(e){var t=function(e){return"string"!=typeof e?e:document.getElementById(e)},i=function(e,t){if(!e.className)return!1;var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");return i.test(e.className)},n=function(e,t){i(e,t)||(e.className=e.className?e.className.replace(/\s+$/,"")+" "+t:t)},o=function(e,t){if(e.className){var i=new RegExp("(^|\\s+)"+t+"(\\s+|$)");e.className=e.className.replace(i,function(e,t,i){return" "===t&&" "===i?" ":""})}},s=function(e,t){return e.currentStyle?e.currentStyle[t]:window.getComputedStyle?window.getComputedStyle(e,null)[t]:void 0},r=function(t,i){function n(e){var t,i,n=0,o=0;return e&&(i=e.getBoundingClientRect(),t="CSS1Compat"===c.compatMode?c.documentElement:c.body,n=i.left+t.scrollLeft,o=i.top+t.scrollTop),{x:n,y:o}}var o,s,r,a=0,l=0,c=document;if(t=t,i=i||c.body,t&&t.getBoundingClientRect&&"IE"===e.browser&&(!c.documentMode||c.documentMode<8))return s=n(t),r=n(i),{x:s.x-r.x,y:s.y-r.y};for(o=t;o&&o!=i&&o.nodeType;)a+=o.offsetLeft||0,l+=o.offsetTop||0,o=o.offsetParent;for(o=t.parentNode;o&&o!=i&&o.nodeType;)a-=o.scrollLeft||0,l-=o.scrollTop||0,o=o.parentNode;return{x:a,y:l}},a=function(e){return{w:e.offsetWidth||e.clientWidth,h:e.offsetHeight||e.clientHeight}};return{get:t,hasClass:i,addClass:n,removeClass:o,getStyle:s,getPos:r,getSize:a}}),n(h,[a],function(e){function t(e,t){var i;for(i in e)if(e[i]===t)return i;return null}return{RuntimeError:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": RuntimeError "+this.code}var n={NOT_INIT_ERR:1,NOT_SUPPORTED_ERR:9,JS_ERR:4};return e.extend(i,n),i.prototype=Error.prototype,i}(),OperationNotAllowedException:function(){function t(e){this.code=e,this.name="OperationNotAllowedException"}return e.extend(t,{NOT_ALLOWED_ERR:1}),t.prototype=Error.prototype,t}(),ImageError:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": ImageError "+this.code}var n={WRONG_FORMAT:1,MAX_RESOLUTION_ERR:2};return e.extend(i,n),i.prototype=Error.prototype,i}(),FileException:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": FileException "+this.code}var n={NOT_FOUND_ERR:1,SECURITY_ERR:2,ABORT_ERR:3,NOT_READABLE_ERR:4,ENCODING_ERR:5,NO_MODIFICATION_ALLOWED_ERR:6,INVALID_STATE_ERR:7,SYNTAX_ERR:8};return e.extend(i,n),i.prototype=Error.prototype,i}(),DOMException:function(){function i(e){this.code=e,this.name=t(n,e),this.message=this.name+": DOMException "+this.code}var n={INDEX_SIZE_ERR:1,DOMSTRING_SIZE_ERR:2,HIERARCHY_REQUEST_ERR:3,WRONG_DOCUMENT_ERR:4,INVALID_CHARACTER_ERR:5,NO_DATA_ALLOWED_ERR:6,NO_MODIFICATION_ALLOWED_ERR:7,NOT_FOUND_ERR:8,NOT_SUPPORTED_ERR:9,INUSE_ATTRIBUTE_ERR:10,INVALID_STATE_ERR:11,SYNTAX_ERR:12,INVALID_MODIFICATION_ERR:13,NAMESPACE_ERR:14,INVALID_ACCESS_ERR:15,VALIDATION_ERR:16,TYPE_MISMATCH_ERR:17,SECURITY_ERR:18,NETWORK_ERR:19,ABORT_ERR:20,URL_MISMATCH_ERR:21,QUOTA_EXCEEDED_ERR:22,TIMEOUT_ERR:23,INVALID_NODE_TYPE_ERR:24,DATA_CLONE_ERR:25};return e.extend(i,n),i.prototype=Error.prototype,i}(),EventException:function(){function t(e){this.code=e,this.name="EventException"}return e.extend(t,{UNSPECIFIED_EVENT_TYPE_ERR:0}),t.prototype=Error.prototype,t}()}}),n(p,[h,a],function(e,t){function i(){var i={};t.extend(this,{uid:null,init:function(){this.uid||(this.uid=t.guid("uid_"))},addEventListener:function(e,n,o,s){var r,a=this;return e=t.trim(e),/\s/.test(e)?void t.each(e.split(/\s+/),function(e){a.addEventListener(e,n,o,s)}):(e=e.toLowerCase(),o=parseInt(o,10)||0,r=i[this.uid]&&i[this.uid][e]||[],r.push({fn:n,priority:o,scope:s||this}),i[this.uid]||(i[this.uid]={}),void(i[this.uid][e]=r))},hasEventListener:function(e){return e?!(!i[this.uid]||!i[this.uid][e]):!!i[this.uid]},removeEventListener:function(e,n){e=e.toLowerCase();var o,s=i[this.uid]&&i[this.uid][e];if(s){if(n){for(o=s.length-1;o>=0;o--)if(s[o].fn===n){s.splice(o,1);break}}else s=[];s.length||(delete i[this.uid][e],t.isEmptyObj(i[this.uid])&&delete i[this.uid])}},removeAllEventListeners:function(){i[this.uid]&&delete i[this.uid]},dispatchEvent:function(n){var o,s,r,a,l,c={},u=!0;if("string"!==t.typeOf(n)){if(a=n,"string"!==t.typeOf(a.type))throw new e.EventException(e.EventException.UNSPECIFIED_EVENT_TYPE_ERR);n=a.type,a.total!==l&&a.loaded!==l&&(c.total=a.total,c.loaded=a.loaded),c.async=a.async||!1}if(-1!==n.indexOf("::")?!function(e){o=e[0],n=e[1]}(n.split("::")):o=this.uid,n=n.toLowerCase(),s=i[o]&&i[o][n]){s.sort(function(e,t){return t.priority-e.priority}),r=[].slice.call(arguments),r.shift(),c.type=n,r.unshift(c);var d=[];t.each(s,function(e){r[0].target=e.scope,d.push(c.async?function(t){setTimeout(function(){t(e.fn.apply(e.scope,r)===!1)},1)}:function(t){t(e.fn.apply(e.scope,r)===!1)})}),d.length&&t.inSeries(d,function(e){u=!e})}return u},bind:function(){this.addEventListener.apply(this,arguments)},unbind:function(){this.removeEventListener.apply(this,arguments)},unbindAll:function(){this.removeAllEventListeners.apply(this,arguments)},trigger:function(){return this.dispatchEvent.apply(this,arguments)},convertEventPropsToHandlers:function(e){var i;"array"!==t.typeOf(e)&&(e=[e]);for(var n=0;n<e.length;n++)i="on"+e[n],"function"===t.typeOf(this[i])?this.addEventListener(e[n],this[i]):"undefined"===t.typeOf(this[i])&&(this[i]=null)}})}return i.instance=new i,i}),n(f,[],function(){var e=function(e){return unescape(encodeURIComponent(e))},t=function(e){return decodeURIComponent(escape(e))},i=function(e,i){if("function"==typeof window.atob)return i?t(window.atob(e)):window.atob(e);var n,o,s,r,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,f="",m=[];if(!e)return e;e+="";do r=d.indexOf(e.charAt(h++)),a=d.indexOf(e.charAt(h++)),l=d.indexOf(e.charAt(h++)),c=d.indexOf(e.charAt(h++)),u=r<<18|a<<12|l<<6|c,n=u>>16&255,o=u>>8&255,s=255&u,m[p++]=64==l?String.fromCharCode(n):64==c?String.fromCharCode(n,o):String.fromCharCode(n,o,s);while(h<e.length);return f=m.join(""),i?t(f):f},n=function(t,i){if(i&&e(t),"function"==typeof window.btoa)return window.btoa(t);var n,o,s,r,a,l,c,u,d="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",h=0,p=0,f="",m=[];if(!t)return t;do n=t.charCodeAt(h++),o=t.charCodeAt(h++),s=t.charCodeAt(h++),u=n<<16|o<<8|s,r=u>>18&63,a=u>>12&63,l=u>>6&63,c=63&u,m[p++]=d.charAt(r)+d.charAt(a)+d.charAt(l)+d.charAt(c);while(h<t.length);f=m.join("");var g=t.length%3;return(g?f.slice(0,g-3):f)+"===".slice(g||3)};return{utf8_encode:e,utf8_decode:t,atob:i,btoa:n}}),n(m,[a,d,p],function(e,t,i){function n(i,o,r,a,l){var c,u=this,d=e.guid(o+"_"),h=l||"browser";i=i||{},s[d]=this,r=e.extend({access_binary:!1,access_image_binary:!1,display_media:!1,do_cors:!1,drag_and_drop:!1,filter_by_extension:!0,resize_image:!1,report_upload_progress:!1,return_response_headers:!1,return_response_type:!1,return_status_code:!0,send_custom_headers:!1,select_file:!1,select_folder:!1,select_multiple:!0,send_binary_string:!1,send_browser_cookies:!0,send_multipart:!0,slice_blob:!1,stream_upload:!1,summon_file_dialog:!1,upload_filesize:!0,use_http_method:!0},r),i.preferred_caps&&(h=n.getMode(a,i.preferred_caps,h)),c=function(){var t={};return{exec:function(e,i,n,o){return c[i]&&(t[e]||(t[e]={context:this,instance:new c[i]}),t[e].instance[n])?t[e].instance[n].apply(this,o):void 0},removeInstance:function(e){delete t[e]},removeAllInstances:function(){var i=this;e.each(t,function(t,n){"function"===e.typeOf(t.instance.destroy)&&t.instance.destroy.call(t.context),i.removeInstance(n)})}}}(),e.extend(this,{initialized:!1,uid:d,type:o,mode:n.getMode(a,i.required_caps,h),shimid:d+"_container",clients:0,options:i,can:function(t,i){var o=arguments[2]||r;if("string"===e.typeOf(t)&&"undefined"===e.typeOf(i)&&(t=n.parseCaps(t)),"object"===e.typeOf(t)){for(var s in t)if(!this.can(s,t[s],o))return!1;
return!0}return"function"===e.typeOf(o[t])?o[t].call(this,i):i===o[t]},getShimContainer:function(){var i,n=t.get(this.shimid);return n||(i=this.options.container?t.get(this.options.container):document.body,n=document.createElement("div"),n.id=this.shimid,n.className="moxie-shim moxie-shim-"+this.type,e.extend(n.style,{position:"absolute",top:"0px",left:"0px",width:"1px",height:"1px",overflow:"hidden"}),i.appendChild(n),i=null),n},getShim:function(){return c},shimExec:function(e,t){var i=[].slice.call(arguments,2);return u.getShim().exec.call(this,this.uid,e,t,i)},exec:function(e,t){var i=[].slice.call(arguments,2);return u[e]&&u[e][t]?u[e][t].apply(this,i):u.shimExec.apply(this,arguments)},destroy:function(){if(u){var e=t.get(this.shimid);e&&e.parentNode.removeChild(e),c&&c.removeAllInstances(),this.unbindAll(),delete s[this.uid],this.uid=null,d=u=c=e=null}}}),this.mode&&i.required_caps&&!this.can(i.required_caps)&&(this.mode=!1)}var o={},s={};return n.order="html5,flash,silverlight,html4",n.getRuntime=function(e){return s[e]?s[e]:!1},n.addConstructor=function(e,t){t.prototype=i.instance,o[e]=t},n.getConstructor=function(e){return o[e]||null},n.getInfo=function(e){var t=n.getRuntime(e);return t?{uid:t.uid,type:t.type,mode:t.mode,can:function(){return t.can.apply(t,arguments)}}:null},n.parseCaps=function(t){var i={};return"string"!==e.typeOf(t)?t||{}:(e.each(t.split(","),function(e){i[e]=!0}),i)},n.can=function(e,t){var i,o,s=n.getConstructor(e);return s?(i=new s({required_caps:t}),o=i.mode,i.destroy(),!!o):!1},n.thatCan=function(e,t){var i=(t||n.order).split(/\s*,\s*/);for(var o in i)if(n.can(i[o],e))return i[o];return null},n.getMode=function(t,i,n){var o=null;if("undefined"===e.typeOf(n)&&(n="browser"),i&&!e.isEmptyObj(t)){if(e.each(i,function(i,n){if(t.hasOwnProperty(n)){var s=t[n](i);if("string"==typeof s&&(s=[s]),o){if(!(o=e.arrayIntersect(o,s)))return o=!1}else o=s}}),o)return-1!==e.inArray(n,o)?n:o[0];if(o===!1)return!1}return n},n.capTrue=function(){return!0},n.capFalse=function(){return!1},n.capTest=function(e){return function(){return!!e}},n}),n(g,[h,a,m],function(e,t,i){return function n(){var n;t.extend(this,{connectRuntime:function(o){function s(t){var r,l;return t.length?(r=t.shift(),(l=i.getConstructor(r))?(n=new l(o),n.bind("Init",function(){n.initialized=!0,setTimeout(function(){n.clients++,a.trigger("RuntimeInit",n)},1)}),n.bind("Error",function(){n.destroy(),s(t)}),n.mode?void n.init():void n.trigger("Error")):void s(t)):(a.trigger("RuntimeError",new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)),void(n=null))}var r,a=this;if("string"===t.typeOf(o)?r=o:"string"===t.typeOf(o.ruid)&&(r=o.ruid),r){if(n=i.getRuntime(r))return n.clients++,n;throw new e.RuntimeError(e.RuntimeError.NOT_INIT_ERR)}s((o.runtime_order||i.order).split(/\s*,\s*/))},getRuntime:function(){return n&&n.uid?n:(n=null,null)},disconnectRuntime:function(){n&&--n.clients<=0&&(n.destroy(),n=null)}})}}),n(v,[a,f,g],function(e,t,i){function n(s,r){function a(t,i,s){var r,a=o[this.uid];return"string"===e.typeOf(a)&&a.length?(r=new n(null,{type:s,size:i-t}),r.detach(a.substr(t,r.size)),r):null}i.call(this),s&&this.connectRuntime(s),r?"string"===e.typeOf(r)&&(r={data:r}):r={},e.extend(this,{uid:r.uid||e.guid("uid_"),ruid:s,size:r.size||0,type:r.type||"",slice:function(e,t,i){return this.isDetached()?a.apply(this,arguments):this.getRuntime().exec.call(this,"Blob","slice",this.getSource(),e,t,i)},getSource:function(){return o[this.uid]?o[this.uid]:null},detach:function(e){this.ruid&&(this.getRuntime().exec.call(this,"Blob","destroy"),this.disconnectRuntime(),this.ruid=null),e=e||"";var i=e.match(/^data:([^;]*);base64,/);i&&(this.type=i[1],e=t.atob(e.substring(e.indexOf("base64,")+7))),this.size=e.length,o[this.uid]=e},isDetached:function(){return!this.ruid&&"string"===e.typeOf(o[this.uid])},destroy:function(){this.detach(),delete o[this.uid]}}),r.data?this.detach(r.data):o[this.uid]=r}var o={};return n}),n(b,[a,c,v],function(e,t,i){function n(n,o){var s,r;if(o||(o={}),r=o.type&&""!==o.type?o.type:t.getFileMime(o.name),o.name)s=o.name.replace(/\\/g,"/"),s=s.substr(s.lastIndexOf("/")+1);else{var a=r.split("/")[0];s=e.guid((""!==a?a:"file")+"_"),t.extensions[r]&&(s+="."+t.extensions[r][0])}i.apply(this,arguments),e.extend(this,{type:r||"",name:s||e.guid("file_"),lastModifiedDate:o.lastModifiedDate||(new Date).toLocaleString()})}return n.prototype=i.prototype,n}),n(y,[a,c,d,h,p,l,b,m,g],function(e,t,i,n,o,s,r,a,l){function c(o){var c,d,h,p=this;if(-1!==e.inArray(e.typeOf(o),["string","node"])&&(o={browse_button:o}),d=i.get(o.browse_button),!d)throw new n.DOMException(n.DOMException.NOT_FOUND_ERR);h={accept:[{title:s.translate("All Files"),extensions:"*"}],name:"file",multiple:!1,required_caps:!1,container:d.parentNode||document.body},o=e.extend({},h,o),"string"==typeof o.required_caps&&(o.required_caps=a.parseCaps(o.required_caps)),"string"==typeof o.accept&&(o.accept=t.mimes2extList(o.accept)),c=i.get(o.container),c||(c=document.body),"static"===i.getStyle(c,"position")&&(c.style.position="relative"),c=d=null,l.call(p),e.extend(p,{uid:e.guid("uid_"),ruid:null,shimid:null,files:null,init:function(){p.convertEventPropsToHandlers(u),p.bind("RuntimeInit",function(t,n){p.ruid=n.uid,p.shimid=n.shimid,p.bind("Ready",function(){p.trigger("Refresh")},999),p.bind("Change",function(){var t=n.exec.call(p,"FileInput","getFiles");p.files=[],e.each(t,function(e){return 0===e.size?!0:void p.files.push(new r(p.ruid,e))})},999),p.bind("Refresh",function(){var t,s,r,a;r=i.get(o.browse_button),a=i.get(n.shimid),r&&(t=i.getPos(r,i.get(o.container)),s=i.getSize(r),a&&e.extend(a.style,{top:t.y+"px",left:t.x+"px",width:s.w+"px",height:s.h+"px"})),a=r=null}),n.exec.call(p,"FileInput","init",o)}),p.connectRuntime(e.extend({},o,{required_caps:{select_file:!0}}))},disable:function(t){var i=this.getRuntime();i&&i.exec.call(this,"FileInput","disable","undefined"===e.typeOf(t)?!0:t)},refresh:function(){p.trigger("Refresh")},destroy:function(){var t=this.getRuntime();t&&(t.exec.call(this,"FileInput","destroy"),this.disconnectRuntime()),"array"===e.typeOf(this.files)&&e.each(this.files,function(e){e.destroy()}),this.files=null}})}var u=["ready","change","cancel","mouseenter","mouseleave","mousedown","mouseup"];return c.prototype=o.instance,c}),n(w,[l,d,h,a,b,g,p,c],function(e,t,i,n,o,s,r,a){function l(i){var r,l=this;"string"==typeof i&&(i={drop_zone:i}),r={accept:[{title:e.translate("All Files"),extensions:"*"}],required_caps:{drag_and_drop:!0}},i="object"==typeof i?n.extend({},r,i):r,i.container=t.get(i.drop_zone)||document.body,"static"===t.getStyle(i.container,"position")&&(i.container.style.position="relative"),"string"==typeof i.accept&&(i.accept=a.mimes2extList(i.accept)),s.call(l),n.extend(l,{uid:n.guid("uid_"),ruid:null,files:null,init:function(){l.convertEventPropsToHandlers(c),l.bind("RuntimeInit",function(e,t){l.ruid=t.uid,l.bind("Drop",function(){var e=t.exec.call(l,"FileDrop","getFiles");l.files=[],n.each(e,function(e){l.files.push(new o(l.ruid,e))})},999),t.exec.call(l,"FileDrop","init",i),l.dispatchEvent("ready")}),l.connectRuntime(i)},destroy:function(){var e=this.getRuntime();e&&(e.exec.call(this,"FileDrop","destroy"),this.disconnectRuntime()),this.files=null}})}var c=["ready","dragenter","dragleave","drop","error"];return l.prototype=r.instance,l}),n(_,[a,g,p],function(e,t,i){function n(){this.uid=e.guid("uid_"),t.call(this),this.destroy=function(){this.disconnectRuntime(),this.unbindAll()}}return n.prototype=i.instance,n}),n(x,[a,f,h,p,v,b,_],function(e,t,i,n,o,s,r){function a(){function n(e,n){function u(e){c.readyState=a.DONE,c.error=e,c.trigger("error"),d()}function d(){s.destroy(),s=null,c.trigger("loadend")}function h(t){s.bind("Error",function(e,t){u(t)}),s.bind("Progress",function(e){c.result=t.exec.call(s,"FileReader","getResult"),c.trigger(e)}),s.bind("Load",function(e){c.readyState=a.DONE,c.result=t.exec.call(s,"FileReader","getResult"),c.trigger(e),d()}),t.exec.call(s,"FileReader","read",e,n)}if(s=new r,this.convertEventPropsToHandlers(l),this.readyState===a.LOADING)return u(new i.DOMException(i.DOMException.INVALID_STATE_ERR));if(this.readyState=a.LOADING,this.trigger("loadstart"),n instanceof o)if(n.isDetached()){var p=n.getSource();switch(e){case"readAsText":case"readAsBinaryString":this.result=p;break;case"readAsDataURL":this.result="data:"+n.type+";base64,"+t.btoa(p)}this.readyState=a.DONE,this.trigger("load"),d()}else h(s.connectRuntime(n.ruid));else u(new i.DOMException(i.DOMException.NOT_FOUND_ERR))}var s,c=this;e.extend(this,{uid:e.guid("uid_"),readyState:a.EMPTY,result:null,error:null,readAsBinaryString:function(e){n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){n.call(this,"readAsDataURL",e)},readAsText:function(e){n.call(this,"readAsText",e)},abort:function(){this.result=null,-1===e.inArray(this.readyState,[a.EMPTY,a.DONE])&&(this.readyState===a.LOADING&&(this.readyState=a.DONE),s&&s.getRuntime().exec.call(this,"FileReader","abort"),this.trigger("abort"),this.trigger("loadend"))},destroy:function(){this.abort(),s&&(s.getRuntime().exec.call(this,"FileReader","destroy"),s.disconnectRuntime()),c=s=null}})}var l=["loadstart","progress","load","abort","error","loadend"];return a.EMPTY=0,a.LOADING=1,a.DONE=2,a.prototype=n.instance,a}),n(C,[],function(){var e=function(t,i){for(var n=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],o=n.length,s={http:80,https:443},r={},a=/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@]*):?([^:@]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\\?([^#]*))?(?:#(.*))?)/,l=a.exec(t||"");o--;)l[o]&&(r[n[o]]=l[o]);if(!r.scheme){i&&"string"!=typeof i||(i=e(i||document.location.href)),r.scheme=i.scheme,r.host=i.host,r.port=i.port;var c="";/^[^\/]/.test(r.path)&&(c=i.path,/(\/|\/[^\.]+)$/.test(c)?c+="/":c=c.replace(/\/[^\/]+$/,"/")),r.path=c+(r.path||"")}return r.port||(r.port=s[r.scheme]||80),r.port=parseInt(r.port,10),r.path||(r.path="/"),delete r.source,r},t=function(t){var i={http:80,https:443},n=e(t);return n.scheme+"://"+n.host+(n.port!==i[n.scheme]?":"+n.port:"")+n.path+(n.query?n.query:"")},i=function(t){function i(e){return[e.scheme,e.host,e.port].join("/")}return"string"==typeof t&&(t=e(t)),i(e())===i(t)};return{parseUrl:e,resolveUrl:t,hasSameOrigin:i}}),n(E,[a,g,f],function(e,t,i){return function(){function n(e,t){if(!t.isDetached()){var n=this.connectRuntime(t.ruid).exec.call(this,"FileReaderSync","read",e,t);return this.disconnectRuntime(),n}var o=t.getSource();switch(e){case"readAsBinaryString":return o;case"readAsDataURL":return"data:"+t.type+";base64,"+i.btoa(o);case"readAsText":for(var s="",r=0,a=o.length;a>r;r++)s+=String.fromCharCode(o[r]);return s}}t.call(this),e.extend(this,{uid:e.guid("uid_"),readAsBinaryString:function(e){return n.call(this,"readAsBinaryString",e)},readAsDataURL:function(e){return n.call(this,"readAsDataURL",e)},readAsText:function(e){return n.call(this,"readAsText",e)}})}}),n(T,[h,a,v],function(e,t,i){function n(){var e,n=[];t.extend(this,{append:function(o,s){var r=this,a=t.typeOf(s);s instanceof i?e={name:o,value:s}:"array"===a?(o+="[]",t.each(s,function(e){r.append(o,e)})):"object"===a?t.each(s,function(e,t){r.append(o+"["+t+"]",e)}):"null"===a||"undefined"===a||"number"===a&&isNaN(s)?r.append(o,"false"):n.push({name:o,value:s.toString()})},hasBlob:function(){return!!this.getBlob()},getBlob:function(){return e&&e.value||null},getBlobName:function(){return e&&e.name||null},each:function(i){t.each(n,function(e){i(e.value,e.name)}),e&&i(e.value,e.name)},destroy:function(){e=null,n=[]}})}return n}),n(k,[a,h,p,f,C,m,_,v,E,T,u,c],function(e,t,i,n,o,s,r,a,l,c,u,d){function h(){this.uid=e.guid("uid_")}function p(){function i(e,t){return k.hasOwnProperty(e)?1===arguments.length?u.can("define_property")?k[e]:T[e]:void(u.can("define_property")?k[e]=t:T[e]=t):void 0}function l(t){function n(){C&&(C.destroy(),C=null),a.dispatchEvent("loadend"),a=null}function o(o){C.bind("LoadStart",function(e){i("readyState",p.LOADING),a.dispatchEvent("readystatechange"),a.dispatchEvent(e),O&&a.upload.dispatchEvent(e)}),C.bind("Progress",function(e){i("readyState")!==p.LOADING&&(i("readyState",p.LOADING),a.dispatchEvent("readystatechange")),a.dispatchEvent(e)}),C.bind("UploadProgress",function(e){O&&a.upload.dispatchEvent({type:"progress",lengthComputable:!1,total:e.total,loaded:e.loaded})}),C.bind("Load",function(t){i("readyState",p.DONE),i("status",Number(o.exec.call(C,"XMLHttpRequest","getStatus")||0)),i("statusText",f[i("status")]||""),i("response",o.exec.call(C,"XMLHttpRequest","getResponse",i("responseType"))),~e.inArray(i("responseType"),["text",""])?i("responseText",i("response")):"document"===i("responseType")&&i("responseXML",i("response")),H=o.exec.call(C,"XMLHttpRequest","getAllResponseHeaders"),a.dispatchEvent("readystatechange"),i("status")>0?(O&&a.upload.dispatchEvent(t),a.dispatchEvent(t)):(P=!0,a.dispatchEvent("error")),n()}),C.bind("Abort",function(e){a.dispatchEvent(e),n()}),C.bind("Error",function(e){P=!0,i("readyState",p.DONE),a.dispatchEvent("readystatechange"),N=!0,a.dispatchEvent(e),n()}),o.exec.call(C,"XMLHttpRequest","send",{url:v,method:b,async:S,user:y,password:w,headers:$,mimeType:I,encoding:D,responseType:a.responseType,withCredentials:a.withCredentials,options:L},t)}var a=this;_=(new Date).getTime(),C=new r,"string"==typeof L.required_caps&&(L.required_caps=s.parseCaps(L.required_caps)),L.required_caps=e.extend({},L.required_caps,{return_response_type:a.responseType}),t instanceof c&&(L.required_caps.send_multipart=!0),z||(L.required_caps.do_cors=!0),L.ruid?o(C.connectRuntime(L)):(C.bind("RuntimeInit",function(e,t){o(t)}),C.bind("RuntimeError",function(e,t){a.dispatchEvent("RuntimeError",t)}),C.connectRuntime(L))}function g(){i("responseText",""),i("responseXML",null),i("response",null),i("status",0),i("statusText",""),_=x=null}var v,b,y,w,_,x,C,E,T=this,k={timeout:0,readyState:p.UNSENT,withCredentials:!1,status:0,statusText:"",responseType:"",responseXML:null,responseText:null,response:null},S=!0,$={},D=null,I=null,A=!1,R=!1,O=!1,N=!1,P=!1,z=!1,M=null,F=null,L={},H="";e.extend(this,k,{uid:e.guid("uid_"),upload:new h,open:function(s,r,a,l,c){var u;if(!s||!r)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(/[\u0100-\uffff]/.test(s)||n.utf8_encode(s)!==s)throw new t.DOMException(t.DOMException.SYNTAX_ERR);if(~e.inArray(s.toUpperCase(),["CONNECT","DELETE","GET","HEAD","OPTIONS","POST","PUT","TRACE","TRACK"])&&(b=s.toUpperCase()),~e.inArray(b,["CONNECT","TRACE","TRACK"]))throw new t.DOMException(t.DOMException.SECURITY_ERR);if(r=n.utf8_encode(r),u=o.parseUrl(r),z=o.hasSameOrigin(u),v=o.resolveUrl(r),(l||c)&&!z)throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);if(y=l||u.user,w=c||u.pass,S=a||!0,S===!1&&(i("timeout")||i("withCredentials")||""!==i("responseType")))throw new t.DOMException(t.DOMException.INVALID_ACCESS_ERR);A=!S,R=!1,$={},g.call(this),i("readyState",p.OPENED),this.convertEventPropsToHandlers(["readystatechange"]),this.dispatchEvent("readystatechange")},setRequestHeader:function(o,s){var r=["accept-charset","accept-encoding","access-control-request-headers","access-control-request-method","connection","content-length","cookie","cookie2","content-transfer-encoding","date","expect","host","keep-alive","origin","referer","te","trailer","transfer-encoding","upgrade","user-agent","via"];if(i("readyState")!==p.OPENED||R)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(/[\u0100-\uffff]/.test(o)||n.utf8_encode(o)!==o)throw new t.DOMException(t.DOMException.SYNTAX_ERR);return o=e.trim(o).toLowerCase(),~e.inArray(o,r)||/^(proxy\-|sec\-)/.test(o)?!1:($[o]?$[o]+=", "+s:$[o]=s,!0)},getAllResponseHeaders:function(){return H||""},getResponseHeader:function(t){return t=t.toLowerCase(),P||~e.inArray(t,["set-cookie","set-cookie2"])?null:H&&""!==H&&(E||(E={},e.each(H.split(/\r\n/),function(t){var i=t.split(/:\s+/);2===i.length&&(i[0]=e.trim(i[0]),E[i[0].toLowerCase()]={header:i[0],value:e.trim(i[1])})})),E.hasOwnProperty(t))?E[t].header+": "+E[t].value:null},overrideMimeType:function(n){var o,s;if(~e.inArray(i("readyState"),[p.LOADING,p.DONE]))throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(n=e.trim(n.toLowerCase()),/;/.test(n)&&(o=n.match(/^([^;]+)(?:;\scharset\=)?(.*)$/))&&(n=o[1],o[2]&&(s=o[2])),!d.mimes[n])throw new t.DOMException(t.DOMException.SYNTAX_ERR);M=n,F=s},send:function(i,o){if(L="string"===e.typeOf(o)?{ruid:o}:o?o:{},this.convertEventPropsToHandlers(m),this.upload.convertEventPropsToHandlers(m),this.readyState!==p.OPENED||R)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);if(i instanceof a)L.ruid=i.ruid,I=i.type||"application/octet-stream";else if(i instanceof c){if(i.hasBlob()){var s=i.getBlob();L.ruid=s.ruid,I=s.type||"application/octet-stream"}}else"string"==typeof i&&(D="UTF-8",I="text/plain;charset=UTF-8",i=n.utf8_encode(i));this.withCredentials||(this.withCredentials=L.required_caps&&L.required_caps.send_browser_cookies&&!z),O=!A&&this.upload.hasEventListener(),P=!1,N=!i,A||(R=!0),l.call(this,i)},abort:function(){if(P=!0,A=!1,~e.inArray(i("readyState"),[p.UNSENT,p.OPENED,p.DONE]))i("readyState",p.UNSENT);else{if(i("readyState",p.DONE),R=!1,!C)throw new t.DOMException(t.DOMException.INVALID_STATE_ERR);C.getRuntime().exec.call(C,"XMLHttpRequest","abort",N),N=!0}},destroy:function(){C&&("function"===e.typeOf(C.destroy)&&C.destroy(),C=null),this.unbindAll(),this.upload&&(this.upload.unbindAll(),this.upload=null)}})}var f={100:"Continue",101:"Switching Protocols",102:"Processing",200:"OK",201:"Created",202:"Accepted",203:"Non-Authoritative Information",204:"No Content",205:"Reset Content",206:"Partial Content",207:"Multi-Status",226:"IM Used",300:"Multiple Choices",301:"Moved Permanently",302:"Found",303:"See Other",304:"Not Modified",305:"Use Proxy",306:"Reserved",307:"Temporary Redirect",400:"Bad Request",401:"Unauthorized",402:"Payment Required",403:"Forbidden",404:"Not Found",405:"Method Not Allowed",406:"Not Acceptable",407:"Proxy Authentication Required",408:"Request Timeout",409:"Conflict",410:"Gone",411:"Length Required",412:"Precondition Failed",413:"Request Entity Too Large",414:"Request-URI Too Long",415:"Unsupported Media Type",416:"Requested Range Not Satisfiable",417:"Expectation Failed",422:"Unprocessable Entity",423:"Locked",424:"Failed Dependency",426:"Upgrade Required",500:"Internal Server Error",501:"Not Implemented",502:"Bad Gateway",503:"Service Unavailable",504:"Gateway Timeout",505:"HTTP Version Not Supported",506:"Variant Also Negotiates",507:"Insufficient Storage",510:"Not Extended"};h.prototype=i.instance;var m=["loadstart","progress","abort","error","load","timeout","loadend"];return p.UNSENT=0,p.OPENED=1,p.HEADERS_RECEIVED=2,p.LOADING=3,p.DONE=4,p.prototype=i.instance,p}),n(S,[a,f,g,p],function(e,t,i,n){function o(){function n(){u=d=0,c=this.result=null}function s(t,i){var n=this;l=i,n.bind("TransportingProgress",function(t){d=t.loaded,u>d&&-1===e.inArray(n.state,[o.IDLE,o.DONE])&&r.call(n)},999),n.bind("TransportingComplete",function(){d=u,n.state=o.DONE,c=null,n.result=l.exec.call(n,"Transporter","getAsBlob",t||"")},999),n.state=o.BUSY,n.trigger("TransportingStarted"),r.call(n)}function r(){var e,i=this,n=u-d;h>n&&(h=n),e=t.btoa(c.substr(d,h)),l.exec.call(i,"Transporter","receive",e,u)}var a,l,c,u,d,h;i.call(this),e.extend(this,{uid:e.guid("uid_"),state:o.IDLE,result:null,transport:function(t,i,o){var r=this;if(o=e.extend({chunk_size:204798},o),(a=o.chunk_size%3)&&(o.chunk_size+=3-a),h=o.chunk_size,n.call(this),c=t,u=t.length,"string"===e.typeOf(o)||o.ruid)s.call(r,i,this.connectRuntime(o));else{var l=function(e,t){r.unbind("RuntimeInit",l),s.call(r,i,t)};this.bind("RuntimeInit",l),this.connectRuntime(o)}},abort:function(){var e=this;e.state=o.IDLE,l&&(l.exec.call(e,"Transporter","clear"),e.trigger("TransportingAborted")),n.call(e)},destroy:function(){this.unbindAll(),l=null,this.disconnectRuntime(),n.call(this)}})}return o.IDLE=0,o.BUSY=1,o.DONE=2,o.prototype=n.instance,o}),n($,[a,d,h,E,k,m,g,S,u,p,v,b,f],function(e,t,i,n,o,s,r,a,l,c,u,d,h){function p(){function n(e){e||(e=this.getRuntime().exec.call(this,"Image","getInfo")),this.size=e.size,this.width=e.width,this.height=e.height,this.type=e.type,this.meta=e.meta,""===this.name&&(this.name=e.name)}function c(t){var n=e.typeOf(t);try{if(t instanceof p){if(!t.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);m.apply(this,arguments)}else if(t instanceof u){if(!~e.inArray(t.type,["image/jpeg","image/png"]))throw new i.ImageError(i.ImageError.WRONG_FORMAT);g.apply(this,arguments)}else if(-1!==e.inArray(n,["blob","file"]))c.call(this,new d(null,t),arguments[1]);else if("string"===n)/^data:[^;]*;base64,/.test(t)?c.call(this,new u(null,{data:t}),arguments[1]):v.apply(this,arguments);else{if("node"!==n||"img"!==t.nodeName.toLowerCase())throw new i.DOMException(i.DOMException.TYPE_MISMATCH_ERR);c.call(this,t.src,arguments[1])}}catch(o){this.trigger("error",o.code)}}function m(t,i){var n=this.connectRuntime(t.ruid);this.ruid=n.uid,n.exec.call(this,"Image","loadFromImage",t,"undefined"===e.typeOf(i)?!0:i)}function g(t,i){function n(e){o.ruid=e.uid,e.exec.call(o,"Image","loadFromBlob",t)}var o=this;o.name=t.name||"",t.isDetached()?(this.bind("RuntimeInit",function(e,t){n(t)}),i&&"string"==typeof i.required_caps&&(i.required_caps=s.parseCaps(i.required_caps)),this.connectRuntime(e.extend({required_caps:{access_image_binary:!0,resize_image:!0}},i))):n(this.connectRuntime(t.ruid))}function v(e,t){var i,n=this;i=new o,i.open("get",e),i.responseType="blob",i.onprogress=function(e){n.trigger(e)},i.onload=function(){g.call(n,i.response,!0)},i.onerror=function(e){n.trigger(e)},i.onloadend=function(){i.destroy()},i.bind("RuntimeError",function(e,t){n.trigger("RuntimeError",t)}),i.send(null,t)}r.call(this),e.extend(this,{uid:e.guid("uid_"),ruid:null,name:"",size:0,width:0,height:0,type:"",meta:{},clone:function(){this.load.apply(this,arguments)},load:function(){this.bind("Load Resize",function(){n.call(this)},999),this.convertEventPropsToHandlers(f),c.apply(this,arguments)},downsize:function(t){var n={width:this.width,height:this.height,crop:!1,preserveHeaders:!0};t="object"==typeof t?e.extend(n,t):e.extend(n,{width:arguments[0],height:arguments[1],crop:arguments[2],preserveHeaders:arguments[3]});try{if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);if(this.width>p.MAX_RESIZE_WIDTH||this.height>p.MAX_RESIZE_HEIGHT)throw new i.ImageError(i.ImageError.MAX_RESOLUTION_ERR);this.getRuntime().exec.call(this,"Image","downsize",t.width,t.height,t.crop,t.preserveHeaders)}catch(o){this.trigger("error",o.code)}},crop:function(e,t,i){this.downsize(e,t,!0,i)},getAsCanvas:function(){if(!l.can("create_canvas"))throw new i.RuntimeError(i.RuntimeError.NOT_SUPPORTED_ERR);var e=this.connectRuntime(this.ruid);return e.exec.call(this,"Image","getAsCanvas")},getAsBlob:function(e,t){if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);return e||(e="image/jpeg"),"image/jpeg"!==e||t||(t=90),this.getRuntime().exec.call(this,"Image","getAsBlob",e,t)},getAsDataURL:function(e,t){if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);return this.getRuntime().exec.call(this,"Image","getAsDataURL",e,t)},getAsBinaryString:function(e,t){var i=this.getAsDataURL(e,t);return h.atob(i.substring(i.indexOf("base64,")+7))},embed:function(n){function o(){if(l.can("create_canvas")){var t=s.getAsCanvas();if(t)return n.appendChild(t),t=null,s.destroy(),void f.trigger("embedded")}var o=s.getAsDataURL(r,c);if(!o)throw new i.ImageError(i.ImageError.WRONG_FORMAT);if(l.can("use_data_uri_of",o.length))n.innerHTML='<img src="'+o+'" width="'+s.width+'" height="'+s.height+'" />',s.destroy(),f.trigger("embedded");else{var u=new a;u.bind("TransportingComplete",function(){d=f.connectRuntime(this.result.ruid),f.bind("Embedded",function(){e.extend(d.getShimContainer().style,{top:"0px",left:"0px",width:s.width+"px",height:s.height+"px"}),d=null},999),d.exec.call(f,"ImageView","display",this.result.uid,g,v),s.destroy()}),u.transport(h.atob(o.substring(o.indexOf("base64,")+7)),r,e.extend({},m,{required_caps:{display_media:!0},runtime_order:"flash,silverlight",container:n}))}}var s,r,c,u,d,f=this,m=arguments[1]||{},g=this.width,v=this.height;try{if(!(n=t.get(n)))throw new i.DOMException(i.DOMException.INVALID_NODE_TYPE_ERR);if(!this.size)throw new i.DOMException(i.DOMException.INVALID_STATE_ERR);if(this.width>p.MAX_RESIZE_WIDTH||this.height>p.MAX_RESIZE_HEIGHT)throw new i.ImageError(i.ImageError.MAX_RESOLUTION_ERR);if(r=m.type||this.type||"image/jpeg",c=m.quality||90,u="undefined"!==e.typeOf(m.crop)?m.crop:!1,m.width)g=m.width,v=m.height||g;else{var b=t.getSize(n);b.w&&b.h&&(g=b.w,v=b.h)}return s=new p,s.bind("Resize",function(){o.call(f)}),s.bind("Load",function(){s.downsize(g,v,u,!1)}),s.clone(this,!1),s}catch(y){this.trigger("error",y.code)}},destroy:function(){this.ruid&&(this.getRuntime().exec.call(this,"Image","destroy"),this.disconnectRuntime()),this.unbindAll()}})}var f=["progress","load","error","resize","embedded"];return p.MAX_RESIZE_WIDTH=6500,p.MAX_RESIZE_HEIGHT=6500,p.prototype=c.instance,p}),n(D,[a,h,m,u],function(e,t,i,n){function o(t){var o=this,a=i.capTest,l=i.capTrue,c=e.extend({access_binary:a(window.FileReader||window.File&&window.File.getAsDataURL),access_image_binary:function(){return o.can("access_binary")&&!!r.Image},display_media:a(n.can("create_canvas")||n.can("use_data_uri_over32kb")),do_cors:a(window.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest),drag_and_drop:a(function(){var e=document.createElement("div");return("draggable"in e||"ondragstart"in e&&"ondrop"in e)&&("IE"!==n.browser||n.version>9)}()),filter_by_extension:a(function(){return"Chrome"===n.browser&&n.version>=28||"IE"===n.browser&&n.version>=10}()),return_response_headers:l,return_response_type:function(e){return"json"===e&&window.JSON?!0:n.can("return_response_type",e)},return_status_code:l,report_upload_progress:a(window.XMLHttpRequest&&(new XMLHttpRequest).upload),resize_image:function(){return o.can("access_binary")&&n.can("create_canvas")},select_file:function(){return n.can("use_fileinput")&&window.File},select_folder:function(){return o.can("select_file")&&"Chrome"===n.browser&&n.version>=21},select_multiple:function(){return!(!o.can("select_file")||"Safari"===n.browser&&"Windows"===n.os||"iOS"===n.os&&n.verComp(n.osVersion,"7.0.4","<"))},send_binary_string:a(window.XMLHttpRequest&&((new XMLHttpRequest).sendAsBinary||window.Uint8Array&&window.ArrayBuffer)),send_custom_headers:a(window.XMLHttpRequest),send_multipart:function(){return!!(window.XMLHttpRequest&&(new XMLHttpRequest).upload&&window.FormData)||o.can("send_binary_string")},slice_blob:a(window.File&&(File.prototype.mozSlice||File.prototype.webkitSlice||File.prototype.slice)),stream_upload:function(){return o.can("slice_blob")&&o.can("send_multipart")},summon_file_dialog:a(function(){return"Firefox"===n.browser&&n.version>=4||"Opera"===n.browser&&n.version>=12||"IE"===n.browser&&n.version>=10||!!~e.inArray(n.browser,["Chrome","Safari"])}()),upload_filesize:l},arguments[2]);i.call(this,t,arguments[1]||s,c),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(o),e=o=null}}(this.destroy)}),e.extend(this.getShim(),r)}var s="html5",r={};return i.addConstructor(s,o),r}),n(I,[D,v],function(e,t){function i(){function e(e,t,i){var n;if(!window.File.prototype.slice)return(n=window.File.prototype.webkitSlice||window.File.prototype.mozSlice)?n.call(e,t,i):null;try{return e.slice(),e.slice(t,i)}catch(o){return e.slice(t,i-t)}}this.slice=function(){return new t(this.getRuntime().uid,e.apply(this,arguments))}}return e.Blob=i}),n(A,[a],function(e){function t(){this.returnValue=!1}function i(){this.cancelBubble=!0}var n={},o="moxie_"+e.guid(),s=function(s,r,a,l){var c,u;r=r.toLowerCase(),s.addEventListener?(c=a,s.addEventListener(r,c,!1)):s.attachEvent&&(c=function(){var e=window.event;e.target||(e.target=e.srcElement),e.preventDefault=t,e.stopPropagation=i,a(e)},s.attachEvent("on"+r,c)),s[o]||(s[o]=e.guid()),n.hasOwnProperty(s[o])||(n[s[o]]={}),u=n[s[o]],u.hasOwnProperty(r)||(u[r]=[]),u[r].push({func:c,orig:a,key:l})},r=function(t,i,s){var r,a;if(i=i.toLowerCase(),t[o]&&n[t[o]]&&n[t[o]][i]){r=n[t[o]][i];for(var l=r.length-1;l>=0&&(r[l].orig!==s&&r[l].key!==s||(t.removeEventListener?t.removeEventListener(i,r[l].func,!1):t.detachEvent&&t.detachEvent("on"+i,r[l].func),r[l].orig=null,r[l].func=null,r.splice(l,1),s===a));l--);if(r.length||delete n[t[o]][i],e.isEmptyObj(n[t[o]])){delete n[t[o]];try{delete t[o]}catch(c){t[o]=a}}}},a=function(t,i){t&&t[o]&&e.each(n[t[o]],function(e,n){r(t,n,i)})};return{addEvent:s,removeEvent:r,removeAllEvents:a}}),n(R,[D,a,d,A,c,u],function(e,t,i,n,o,s){function r(){var e,r=[];t.extend(this,{init:function(a){var l,c,u,d,h,p,f=this,m=f.getRuntime();e=a,r=[],u=e.accept.mimes||o.extList2mimes(e.accept,m.can("filter_by_extension")),c=m.getShimContainer(),c.innerHTML='<input id="'+m.uid+'" type="file" style="font-size:999px;opacity:0;"'+(e.multiple&&m.can("select_multiple")?"multiple":"")+(e.directory&&m.can("select_folder")?"webkitdirectory directory":"")+(u?' accept="'+u.join(",")+'"':"")+" />",l=i.get(m.uid),t.extend(l.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),d=i.get(e.browse_button),m.can("summon_file_dialog")&&("static"===i.getStyle(d,"position")&&(d.style.position="relative"),h=parseInt(i.getStyle(d,"z-index"),10)||1,d.style.zIndex=h,c.style.zIndex=h-1,n.addEvent(d,"click",function(e){var t=i.get(m.uid);t&&!t.disabled&&t.click(),e.preventDefault()},f.uid)),p=m.can("summon_file_dialog")?d:c,n.addEvent(p,"mouseover",function(){f.trigger("mouseenter")},f.uid),n.addEvent(p,"mouseout",function(){f.trigger("mouseleave")},f.uid),n.addEvent(p,"mousedown",function(){f.trigger("mousedown")},f.uid),n.addEvent(i.get(e.container),"mouseup",function(){f.trigger("mouseup")},f.uid),l.onchange=function g(){if(r=[],e.directory?t.each(this.files,function(e){"."!==e.name&&r.push(e)}):r=[].slice.call(this.files),"IE"!==s.browser&&"IEMobile"!==s.browser)this.value="";else{var i=this.cloneNode(!0);this.parentNode.replaceChild(i,this),i.onchange=g}f.trigger("change")},f.trigger({type:"ready",async:!0}),c=null},getFiles:function(){return r},disable:function(e){var t,n=this.getRuntime();(t=i.get(n.uid))&&(t.disabled=!!e)},destroy:function(){var t=this.getRuntime(),o=t.getShim(),s=t.getShimContainer();n.removeAllEvents(s,this.uid),n.removeAllEvents(e&&i.get(e.container),this.uid),n.removeAllEvents(e&&i.get(e.browse_button),this.uid),s&&(s.innerHTML=""),o.removeInstance(this.uid),r=e=s=o=null}})}return e.FileInput=r}),n(O,[D,a,d,A,c],function(e,t,i,n,o){function s(){function e(e){if(!e.dataTransfer||!e.dataTransfer.types)return!1;var i=t.toArray(e.dataTransfer.types||[]);return-1!==t.inArray("Files",i)||-1!==t.inArray("public.file-url",i)||-1!==t.inArray("application/x-moz-file",i)}function s(e){for(var i=[],n=0;n<e.length;n++)[].push.apply(i,e[n].extensions.split(/\s*,\s*/));return-1===t.inArray("*",i)?i:[]}function r(e){if(!p.length)return!0;var i=o.getFileExtension(e.name);return!i||-1!==t.inArray(i,p)}function a(e,i){var n=[];t.each(e,function(e){var t=e.webkitGetAsEntry();if(t)if(t.isFile){var i=e.getAsFile();r(i)&&h.push(i)}else n.push(t)}),n.length?l(n,i):i()}function l(e,i){var n=[];t.each(e,function(e){n.push(function(t){c(e,t)})}),t.inSeries(n,function(){i()})}function c(e,t){e.isFile?e.file(function(e){r(e)&&h.push(e),t()},function(){t()}):e.isDirectory?u(e,t):t()}function u(e,t){function i(e){o.readEntries(function(t){t.length?([].push.apply(n,t),i(e)):e()},e)}var n=[],o=e.createReader();i(function(){l(n,t)})}var d,h=[],p=[];t.extend(this,{init:function(i){var o,l=this;d=i,p=s(d.accept),o=d.container,n.addEvent(o,"dragover",function(t){e(t)&&(t.preventDefault(),t.dataTransfer.dropEffect="copy");
},l.uid),n.addEvent(o,"drop",function(i){e(i)&&(i.preventDefault(),h=[],i.dataTransfer.items&&i.dataTransfer.items[0].webkitGetAsEntry?a(i.dataTransfer.items,function(){l.trigger("drop")}):(t.each(i.dataTransfer.files,function(e){r(e)&&h.push(e)}),l.trigger("drop")))},l.uid),n.addEvent(o,"dragenter",function(e){l.trigger("dragenter")},l.uid),n.addEvent(o,"dragleave",function(e){l.trigger("dragleave")},l.uid)},getFiles:function(){return h},destroy:function(){n.removeAllEvents(d&&i.get(d.container),this.uid),h=p=d=null}})}return e.FileDrop=s}),n(N,[D,f,a],function(e,t,i){function n(){function e(e){return t.atob(e.substring(e.indexOf("base64,")+7))}var n,o=!1;i.extend(this,{read:function(e,t){var s=this;n=new window.FileReader,n.addEventListener("progress",function(e){s.trigger(e)}),n.addEventListener("load",function(e){s.trigger(e)}),n.addEventListener("error",function(e){s.trigger(e,n.error)}),n.addEventListener("loadend",function(){n=null}),"function"===i.typeOf(n[e])?(o=!1,n[e](t.getSource())):"readAsBinaryString"===e&&(o=!0,n.readAsDataURL(t.getSource()))},getResult:function(){return n&&n.result?o?e(n.result):n.result:null},abort:function(){n&&n.abort()},destroy:function(){n=null}})}return e.FileReader=n}),n(P,[D,a,c,C,b,v,T,h,u],function(e,t,i,n,o,s,r,a,l){function c(){function e(e,t){var i,n,o=this;i=t.getBlob().getSource(),n=new window.FileReader,n.onload=function(){t.append(t.getBlobName(),new s(null,{type:i.type,data:n.result})),f.send.call(o,e,t)},n.readAsBinaryString(i)}function c(){return!window.XMLHttpRequest||"IE"===l.browser&&l.version<8?function(){for(var e=["Msxml2.XMLHTTP.6.0","Microsoft.XMLHTTP"],t=0;t<e.length;t++)try{return new ActiveXObject(e[t])}catch(i){}}():new window.XMLHttpRequest}function u(e){var t=e.responseXML,i=e.responseText;return"IE"===l.browser&&i&&t&&!t.documentElement&&/[^\/]+\/[^\+]+\+xml/.test(e.getResponseHeader("Content-Type"))&&(t=new window.ActiveXObject("Microsoft.XMLDOM"),t.async=!1,t.validateOnParse=!1,t.loadXML(i)),t&&("IE"===l.browser&&0!==t.parseError||!t.documentElement||"parsererror"===t.documentElement.tagName)?null:t}function d(e){var t="----moxieboundary"+(new Date).getTime(),i="--",n="\r\n",o="",r=this.getRuntime();if(!r.can("send_binary_string"))throw new a.RuntimeError(a.RuntimeError.NOT_SUPPORTED_ERR);return h.setRequestHeader("Content-Type","multipart/form-data; boundary="+t),e.each(function(e,r){o+=e instanceof s?i+t+n+'Content-Disposition: form-data; name="'+r+'"; filename="'+unescape(encodeURIComponent(e.name||"blob"))+'"'+n+"Content-Type: "+(e.type||"application/octet-stream")+n+n+e.getSource()+n:i+t+n+'Content-Disposition: form-data; name="'+r+'"'+n+n+unescape(encodeURIComponent(e))+n}),o+=i+t+i+n}var h,p,f=this;t.extend(this,{send:function(i,o){var a=this,u="Mozilla"===l.browser&&l.version>=4&&l.version<7,f="Android Browser"===l.browser,m=!1;if(p=i.url.replace(/^.+?\/([\w\-\.]+)$/,"$1").toLowerCase(),h=c(),h.open(i.method,i.url,i.async,i.user,i.password),o instanceof s)o.isDetached()&&(m=!0),o=o.getSource();else if(o instanceof r){if(o.hasBlob())if(o.getBlob().isDetached())o=d.call(a,o),m=!0;else if((u||f)&&"blob"===t.typeOf(o.getBlob().getSource())&&window.FileReader)return void e.call(a,i,o);if(o instanceof r){var g=new window.FormData;o.each(function(e,t){e instanceof s?g.append(t,e.getSource()):g.append(t,e)}),o=g}}h.upload?(i.withCredentials&&(h.withCredentials=!0),h.addEventListener("load",function(e){a.trigger(e)}),h.addEventListener("error",function(e){a.trigger(e)}),h.addEventListener("progress",function(e){a.trigger(e)}),h.upload.addEventListener("progress",function(e){a.trigger({type:"UploadProgress",loaded:e.loaded,total:e.total})})):h.onreadystatechange=function(){switch(h.readyState){case 1:break;case 2:break;case 3:var e,t;try{n.hasSameOrigin(i.url)&&(e=h.getResponseHeader("Content-Length")||0),h.responseText&&(t=h.responseText.length)}catch(o){e=t=0}a.trigger({type:"progress",lengthComputable:!!e,total:parseInt(e,10),loaded:t});break;case 4:h.onreadystatechange=function(){},a.trigger(0===h.status?"error":"load")}},t.isEmptyObj(i.headers)||t.each(i.headers,function(e,t){h.setRequestHeader(t,e)}),""!==i.responseType&&"responseType"in h&&(h.responseType="json"!==i.responseType||l.can("return_response_type","json")?i.responseType:"text"),m?h.sendAsBinary?h.sendAsBinary(o):!function(){for(var e=new Uint8Array(o.length),t=0;t<o.length;t++)e[t]=255&o.charCodeAt(t);h.send(e.buffer)}():h.send(o),a.trigger("loadstart")},getStatus:function(){try{if(h)return h.status}catch(e){}return 0},getResponse:function(e){var t=this.getRuntime();try{switch(e){case"blob":var n=new o(t.uid,h.response),s=h.getResponseHeader("Content-Disposition");if(s){var r=s.match(/filename=([\'\"'])([^\1]+)\1/);r&&(p=r[2])}return n.name=p,n.type||(n.type=i.getFileMime(p)),n;case"json":return l.can("return_response_type","json")?h.response:200===h.status&&window.JSON?JSON.parse(h.responseText):null;case"document":return u(h);default:return""!==h.responseText?h.responseText:null}}catch(a){return null}},getAllResponseHeaders:function(){try{return h.getAllResponseHeaders()}catch(e){}return""},abort:function(){h&&h.abort()},destroy:function(){f=p=null}})}return e.XMLHttpRequest=c}),n(z,[],function(){return function(){function e(e,t){var i,n=s?0:-8*(t-1),r=0;for(i=0;t>i;i++)r|=o.charCodeAt(e+i)<<Math.abs(n+8*i);return r}function i(e,t,i){i=3===arguments.length?i:o.length-t-1,o=o.substr(0,t)+e+o.substr(i+t)}function n(e,t,n){var o,r="",a=s?0:-8*(n-1);for(o=0;n>o;o++)r+=String.fromCharCode(t>>Math.abs(a+8*o)&255);i(r,e,n)}var o,s=!1;return{II:function(e){return e===t?s:void(s=e)},init:function(e){s=!1,o=e},SEGMENT:function(e,t,n){switch(arguments.length){case 1:return o.substr(e,o.length-e-1);case 2:return o.substr(e,t);case 3:i(n,e,t);break;default:return o}},BYTE:function(t){return e(t,1)},SHORT:function(t){return e(t,2)},LONG:function(i,o){return o===t?e(i,4):void n(i,o,4)},SLONG:function(t){var i=e(t,4);return i>2147483647?i-4294967296:i},STRING:function(t,i){var n="";for(i+=t;i>t;t++)n+=String.fromCharCode(e(t,1));return n}}}}),n(M,[z],function(e){return function t(i){var n,o,s,r=[],a=0;if(n=new e,n.init(i),65496===n.SHORT(0)){for(o=2;o<=i.length;)if(s=n.SHORT(o),s>=65488&&65495>=s)o+=2;else{if(65498===s||65497===s)break;a=n.SHORT(o+2)+2,s>=65505&&65519>=s&&r.push({hex:s,name:"APP"+(15&s),start:o,length:a,segment:n.SEGMENT(o,a)}),o+=a}return n.init(null),{headers:r,restore:function(e){var t,i;for(n.init(e),o=65504==n.SHORT(2)?4+n.SHORT(4):2,i=0,t=r.length;t>i;i++)n.SEGMENT(o,0,r[i].segment),o+=r[i].length;return e=n.SEGMENT(),n.init(null),e},strip:function(e){var i,o,s;for(o=new t(e),i=o.headers,o.purge(),n.init(e),s=i.length;s--;)n.SEGMENT(i[s].start,i[s].length,"");return e=n.SEGMENT(),n.init(null),e},get:function(e){for(var t=[],i=0,n=r.length;n>i;i++)r[i].name===e.toUpperCase()&&t.push(r[i].segment);return t},set:function(e,t){var i,n,o,s=[];for("string"==typeof t?s.push(t):s=t,i=n=0,o=r.length;o>i&&(r[i].name===e.toUpperCase()&&(r[i].segment=s[n],r[i].length=s[n].length,n++),!(n>=s.length));i++);},purge:function(){r=[],n.init(null),n=null}}}}}),n(F,[a,z],function(e,i){return function n(){function n(e,i){var n,o,s,a,l,d,h,p,f=r.SHORT(e),m=[],g={};for(n=0;f>n;n++)if(h=d=e+12*n+2,s=i[r.SHORT(h)],s!==t){switch(a=r.SHORT(h+=2),l=r.LONG(h+=2),h+=4,m=[],a){case 1:case 7:for(l>4&&(h=r.LONG(h)+u.tiffHeader),o=0;l>o;o++)m[o]=r.BYTE(h+o);break;case 2:l>4&&(h=r.LONG(h)+u.tiffHeader),g[s]=r.STRING(h,l-1);continue;case 3:for(l>2&&(h=r.LONG(h)+u.tiffHeader),o=0;l>o;o++)m[o]=r.SHORT(h+2*o);break;case 4:for(l>1&&(h=r.LONG(h)+u.tiffHeader),o=0;l>o;o++)m[o]=r.LONG(h+4*o);break;case 5:for(h=r.LONG(h)+u.tiffHeader,o=0;l>o;o++)m[o]=r.LONG(h+4*o)/r.LONG(h+4*o+4);break;case 9:for(h=r.LONG(h)+u.tiffHeader,o=0;l>o;o++)m[o]=r.SLONG(h+4*o);break;case 10:for(h=r.LONG(h)+u.tiffHeader,o=0;l>o;o++)m[o]=r.SLONG(h+4*o)/r.SLONG(h+4*o+4);break;default:continue}p=1==l?m[0]:m,g[s]=c.hasOwnProperty(s)&&"object"!=typeof p?c[s][p]:p}return g}function o(){var e=u.tiffHeader;return r.II(18761==r.SHORT(e)),42!==r.SHORT(e+=2)?!1:(u.IFD0=u.tiffHeader+r.LONG(e+=2),l=n(u.IFD0,a.tiff),"ExifIFDPointer"in l&&(u.exifIFD=u.tiffHeader+l.ExifIFDPointer,delete l.ExifIFDPointer),"GPSInfoIFDPointer"in l&&(u.gpsIFD=u.tiffHeader+l.GPSInfoIFDPointer,delete l.GPSInfoIFDPointer),!0)}function s(e,t,i){var n,o,s,l=0;if("string"==typeof t){var c=a[e.toLowerCase()];for(var d in c)if(c[d]===t){t=d;break}}n=u[e.toLowerCase()+"IFD"],o=r.SHORT(n);for(var h=0;o>h;h++)if(s=n+12*h+2,r.SHORT(s)==t){l=s+8;break}return l?(r.LONG(l,i),!0):!1}var r,a,l,c,u={};return r=new i,a={tiff:{274:"Orientation",270:"ImageDescription",271:"Make",272:"Model",305:"Software",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer"},exif:{36864:"ExifVersion",40961:"ColorSpace",40962:"PixelXDimension",40963:"PixelYDimension",36867:"DateTimeOriginal",33434:"ExposureTime",33437:"FNumber",34855:"ISOSpeedRatings",37377:"ShutterSpeedValue",37378:"ApertureValue",37383:"MeteringMode",37384:"LightSource",37385:"Flash",37386:"FocalLength",41986:"ExposureMode",41987:"WhiteBalance",41990:"SceneCaptureType",41988:"DigitalZoomRatio",41992:"Contrast",41993:"Saturation",41994:"Sharpness"},gps:{0:"GPSVersionID",1:"GPSLatitudeRef",2:"GPSLatitude",3:"GPSLongitudeRef",4:"GPSLongitude"}},c={ColorSpace:{1:"sRGB",0:"Uncalibrated"},MeteringMode:{0:"Unknown",1:"Average",2:"CenterWeightedAverage",3:"Spot",4:"MultiSpot",5:"Pattern",6:"Partial",255:"Other"},LightSource:{1:"Daylight",2:"Fliorescent",3:"Tungsten",4:"Flash",9:"Fine weather",10:"Cloudy weather",11:"Shade",12:"Daylight fluorescent (D 5700 - 7100K)",13:"Day white fluorescent (N 4600 -5400K)",14:"Cool white fluorescent (W 3900 - 4500K)",15:"White fluorescent (WW 3200 - 3700K)",17:"Standard light A",18:"Standard light B",19:"Standard light C",20:"D55",21:"D65",22:"D75",23:"D50",24:"ISO studio tungsten",255:"Other"},Flash:{0:"Flash did not fire.",1:"Flash fired.",5:"Strobe return light not detected.",7:"Strobe return light detected.",9:"Flash fired, compulsory flash mode",13:"Flash fired, compulsory flash mode, return light not detected",15:"Flash fired, compulsory flash mode, return light detected",16:"Flash did not fire, compulsory flash mode",24:"Flash did not fire, auto mode",25:"Flash fired, auto mode",29:"Flash fired, auto mode, return light not detected",31:"Flash fired, auto mode, return light detected",32:"No flash function",65:"Flash fired, red-eye reduction mode",69:"Flash fired, red-eye reduction mode, return light not detected",71:"Flash fired, red-eye reduction mode, return light detected",73:"Flash fired, compulsory flash mode, red-eye reduction mode",77:"Flash fired, compulsory flash mode, red-eye reduction mode, return light not detected",79:"Flash fired, compulsory flash mode, red-eye reduction mode, return light detected",89:"Flash fired, auto mode, red-eye reduction mode",93:"Flash fired, auto mode, return light not detected, red-eye reduction mode",95:"Flash fired, auto mode, return light detected, red-eye reduction mode"},ExposureMode:{0:"Auto exposure",1:"Manual exposure",2:"Auto bracket"},WhiteBalance:{0:"Auto white balance",1:"Manual white balance"},SceneCaptureType:{0:"Standard",1:"Landscape",2:"Portrait",3:"Night scene"},Contrast:{0:"Normal",1:"Soft",2:"Hard"},Saturation:{0:"Normal",1:"Low saturation",2:"High saturation"},Sharpness:{0:"Normal",1:"Soft",2:"Hard"},GPSLatitudeRef:{N:"North latitude",S:"South latitude"},GPSLongitudeRef:{E:"East longitude",W:"West longitude"}},{init:function(e){return u={tiffHeader:10},e!==t&&e.length?(r.init(e),65505===r.SHORT(0)&&"EXIF\x00"===r.STRING(4,5).toUpperCase()?o():!1):!1},TIFF:function(){return l},EXIF:function(){var t;if(t=n(u.exifIFD,a.exif),t.ExifVersion&&"array"===e.typeOf(t.ExifVersion)){for(var i=0,o="";i<t.ExifVersion.length;i++)o+=String.fromCharCode(t.ExifVersion[i]);t.ExifVersion=o}return t},GPS:function(){var t;return t=n(u.gpsIFD,a.gps),t.GPSVersionID&&"array"===e.typeOf(t.GPSVersionID)&&(t.GPSVersionID=t.GPSVersionID.join(".")),t},setExif:function(e,t){return"PixelXDimension"!==e&&"PixelYDimension"!==e?!1:s("exif",e,t)},getBinary:function(){return r.SEGMENT()},purge:function(){r.init(null),r=l=null,u={}}}}}),n(L,[a,h,M,z,F],function(e,t,i,n,o){function s(s){function r(){for(var e,t,i=0;i<=l.length;){if(e=c.SHORT(i+=2),e>=65472&&65475>=e)return i+=5,{height:c.SHORT(i),width:c.SHORT(i+=2)};t=c.SHORT(i+=2),i+=t-2}return null}function a(){d&&u&&c&&(d.purge(),u.purge(),c.init(null),l=h=u=d=c=null)}var l,c,u,d,h,p;if(l=s,c=new n,c.init(l),65496!==c.SHORT(0))throw new t.ImageError(t.ImageError.WRONG_FORMAT);u=new i(s),d=new o,p=!!d.init(u.get("app1")[0]),h=r.call(this),e.extend(this,{type:"image/jpeg",size:l.length,width:h&&h.width||0,height:h&&h.height||0,setExif:function(t,i){return p?("object"===e.typeOf(t)?e.each(t,function(e,t){d.setExif(t,e)}):d.setExif(t,i),void u.set("app1",d.getBinary())):!1},writeHeaders:function(){return arguments.length?u.restore(arguments[0]):l=u.restore(l)},stripHeaders:function(e){return u.strip(e)},purge:function(){a.call(this)}}),p&&(this.meta={tiff:d.TIFF(),exif:d.EXIF(),gps:d.GPS()})}return s}),n(H,[h,a,z],function(e,t,i){function n(n){function o(){var e,t;return e=r.call(this,8),"IHDR"==e.type?(t=e.start,{width:l.LONG(t),height:l.LONG(t+=4)}):null}function s(){l&&(l.init(null),a=d=c=u=l=null)}function r(e){var t,i,n,o;return t=l.LONG(e),i=l.STRING(e+=4,4),n=e+=4,o=l.LONG(e+t),{length:t,type:i,start:n,CRC:o}}var a,l,c,u,d;a=n,l=new i,l.init(a),function(){var t=0,i=0,n=[35152,20039,3338,6666];for(i=0;i<n.length;i++,t+=2)if(n[i]!=l.SHORT(t))throw new e.ImageError(e.ImageError.WRONG_FORMAT)}(),d=o.call(this),t.extend(this,{type:"image/png",size:a.length,width:d.width,height:d.height,purge:function(){s.call(this)}}),s.call(this)}return n}),n(j,[a,h,L,H],function(e,t,i,n){return function(o){var s,r=[i,n];s=function(){for(var e=0;e<r.length;e++)try{return new r[e](o)}catch(i){}throw new t.ImageError(t.ImageError.WRONG_FORMAT)}(),e.extend(this,{type:"",size:0,width:0,height:0,setExif:function(){},writeHeaders:function(e){return e},stripHeaders:function(e){return e},purge:function(){}}),e.extend(this,s),this.purge=function(){s.purge(),s=null}}}),n(U,[],function(){function e(e,n,o){var s=e.naturalWidth,r=e.naturalHeight,a=o.width,l=o.height,c=o.x||0,u=o.y||0,d=n.getContext("2d");t(e)&&(s/=2,r/=2);var h=1024,p=document.createElement("canvas");p.width=p.height=h;for(var f=p.getContext("2d"),m=i(e,s,r),g=0;r>g;){for(var v=g+h>r?r-g:h,b=0;s>b;){var y=b+h>s?s-b:h;f.clearRect(0,0,h,h),f.drawImage(e,-b,-g);var w=b*a/s+c<<0,_=Math.ceil(y*a/s),x=g*l/r/m+u<<0,C=Math.ceil(v*l/r/m);d.drawImage(p,0,0,y,v,w,x,_,C),b+=h}g+=h}p=f=null}function t(e){var t=e.naturalWidth,i=e.naturalHeight;if(t*i>1048576){var n=document.createElement("canvas");n.width=n.height=1;var o=n.getContext("2d");return o.drawImage(e,-t+1,0),0===o.getImageData(0,0,1,1).data[3]}return!1}function i(e,t,i){var n=document.createElement("canvas");n.width=1,n.height=i;var o=n.getContext("2d");o.drawImage(e,0,0);for(var s=o.getImageData(0,0,1,i).data,r=0,a=i,l=i;l>r;){var c=s[4*(l-1)+3];0===c?a=l:r=l,l=a+r>>1}n=null;var u=l/i;return 0===u?1:u}return{isSubsampled:t,renderTo:e}}),n(B,[D,a,h,f,b,j,U,c,u],function(e,t,i,n,o,s,r,a,l){function c(){function e(){if(!y&&!v)throw new i.ImageError(i.DOMException.INVALID_STATE_ERR);return y||v}function c(e){return n.atob(e.substring(e.indexOf("base64,")+7))}function u(e,t){return"data:"+(t||"")+";base64,"+n.btoa(e)}function d(e){var t=this;v=new Image,v.onerror=function(){g.call(this),t.trigger("error",i.ImageError.WRONG_FORMAT)},v.onload=function(){t.trigger("load")},v.src=/^data:[^;]*;base64,/.test(e)?e:u(e,_.type)}function h(e,t){var n,o=this;return window.FileReader?(n=new FileReader,n.onload=function(){t(this.result)},n.onerror=function(){o.trigger("error",i.ImageError.WRONG_FORMAT)},void n.readAsDataURL(e)):t(e.getAsDataURL())}function p(i,n,o,s){var r,a,l,c,u,d=this,h=0,p=0;if(E=s,u=this.meta&&this.meta.tiff&&this.meta.tiff.Orientation||1,-1!==t.inArray(u,[5,6,7,8])){var g=i;i=n,n=g}return a=e(),o?(i=Math.min(i,a.width),n=Math.min(n,a.height),r=Math.max(i/a.width,n/a.height)):r=Math.min(i/a.width,n/a.height),r>1&&!o&&s?void this.trigger("Resize"):(y||(y=document.createElement("canvas")),l=Math.round(a.width*r),c=Math.round(a.height*r),o?(y.width=i,y.height=n,l>i&&(h=Math.round((l-i)/2)),c>n&&(p=Math.round((c-n)/2))):(y.width=l,y.height=c),E||m(y.width,y.height,u),f.call(this,a,y,-h,-p,l,c),this.width=y.width,this.height=y.height,C=!0,void d.trigger("Resize"))}function f(e,t,i,n,o,s){if("iOS"===l.OS)r.renderTo(e,t,{width:o,height:s,x:i,y:n});else{var a=t.getContext("2d");a.drawImage(e,i,n,o,s)}}function m(e,t,i){switch(i){case 5:case 6:case 7:case 8:y.width=t,y.height=e;break;default:y.width=e,y.height=t}var n=y.getContext("2d");switch(i){case 2:n.translate(e,0),n.scale(-1,1);break;case 3:n.translate(e,t),n.rotate(Math.PI);break;case 4:n.translate(0,t),n.scale(1,-1);break;case 5:n.rotate(.5*Math.PI),n.scale(1,-1);break;case 6:n.rotate(.5*Math.PI),n.translate(0,-t);break;case 7:n.rotate(.5*Math.PI),n.translate(e,-t),n.scale(-1,1);break;case 8:n.rotate(-.5*Math.PI),n.translate(-e,0)}}function g(){b&&(b.purge(),b=null),w=v=y=_=null,C=!1}var v,b,y,w,_,x=this,C=!1,E=!0;t.extend(this,{loadFromBlob:function(e){var t=this,n=t.getRuntime(),o=arguments.length>1?arguments[1]:!0;if(!n.can("access_binary"))throw new i.RuntimeError(i.RuntimeError.NOT_SUPPORTED_ERR);return _=e,e.isDetached()?(w=e.getSource(),void d.call(this,w)):void h.call(this,e.getSource(),function(e){o&&(w=c(e)),d.call(t,e)})},loadFromImage:function(e,t){this.meta=e.meta,_=new o(null,{name:e.name,size:e.size,type:e.type}),d.call(this,t?w=e.getAsBinaryString():e.getAsDataURL())},getInfo:function(){var t,i=this.getRuntime();return!b&&w&&i.can("access_image_binary")&&(b=new s(w)),t={width:e().width||0,height:e().height||0,type:_.type||a.getFileMime(_.name),size:w&&w.length||_.size||0,name:_.name||"",meta:b&&b.meta||this.meta||{}}},downsize:function(){p.apply(this,arguments)},getAsCanvas:function(){return y&&(y.id=this.uid+"_canvas"),y},getAsBlob:function(e,t){return e!==this.type&&p.call(this,this.width,this.height,!1),new o(null,{name:_.name||"",type:e,data:x.getAsBinaryString.call(this,e,t)})},getAsDataURL:function(e){var t=arguments[1]||90;if(!C)return v.src;if("image/jpeg"!==e)return y.toDataURL("image/png");try{return y.toDataURL("image/jpeg",t/100)}catch(i){return y.toDataURL("image/jpeg")}},getAsBinaryString:function(e,t){if(!C)return w||(w=c(x.getAsDataURL(e,t))),w;if("image/jpeg"!==e)w=c(x.getAsDataURL(e,t));else{var i;t||(t=90);try{i=y.toDataURL("image/jpeg",t/100)}catch(n){i=y.toDataURL("image/jpeg")}w=c(i),b&&(w=b.stripHeaders(w),E&&(b.meta&&b.meta.exif&&b.setExif({PixelXDimension:this.width,PixelYDimension:this.height}),w=b.writeHeaders(w)),b.purge(),b=null)}return C=!1,w},destroy:function(){x=null,g.call(this),this.getRuntime().getShim().removeInstance(this.uid)}})}return e.Image=c}),n(W,[a,u,d,h,m],function(e,t,i,n,o){function s(){var e;try{e=navigator.plugins["Shockwave Flash"],e=e.description}catch(t){try{e=new ActiveXObject("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")}catch(i){e="0.0"}}return e=e.match(/\d+/g),parseFloat(e[0]+"."+e[1])}function r(r){var c,u=this;r=e.extend({swf_url:t.swf_url},r),o.call(this,r,a,{access_binary:function(e){return e&&"browser"===u.mode},access_image_binary:function(e){return e&&"browser"===u.mode},display_media:o.capTrue,do_cors:o.capTrue,drag_and_drop:!1,report_upload_progress:function(){return"client"===u.mode},resize_image:o.capTrue,return_response_headers:!1,return_response_type:function(t){return"json"===t&&window.JSON?!0:!e.arrayDiff(t,["","text","document"])||"browser"===u.mode},return_status_code:function(t){return"browser"===u.mode||!e.arrayDiff(t,[200,404])},select_file:o.capTrue,select_multiple:o.capTrue,send_binary_string:function(e){return e&&"browser"===u.mode},send_browser_cookies:function(e){return e&&"browser"===u.mode},send_custom_headers:function(e){return e&&"browser"===u.mode},send_multipart:o.capTrue,slice_blob:function(e){return e&&"browser"===u.mode},stream_upload:function(e){return e&&"browser"===u.mode},summon_file_dialog:!1,upload_filesize:function(t){return e.parseSizeStr(t)<=2097152||"client"===u.mode},use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}},{access_binary:function(e){return e?"browser":"client"},access_image_binary:function(e){return e?"browser":"client"},report_upload_progress:function(e){return e?"browser":"client"},return_response_type:function(t){return e.arrayDiff(t,["","text","json","document"])?"browser":["client","browser"]},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"browser":["client","browser"]},send_binary_string:function(e){return e?"browser":"client"},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"browser":"client"},stream_upload:function(e){return e?"client":"browser"},upload_filesize:function(t){return e.parseSizeStr(t)>=2097152?"client":"browser"}},"client"),s()<10&&(this.mode=!1),e.extend(this,{getShim:function(){return i.get(this.uid)},shimExec:function(e,t){var i=[].slice.call(arguments,2);return u.getShim().exec(this.uid,e,t,i)},init:function(){var i,o,s;s=this.getShimContainer(),e.extend(s.style,{position:"absolute",top:"-8px",left:"-8px",width:"9px",height:"9px",overflow:"hidden"}),i='<object id="'+this.uid+'" type="application/x-shockwave-flash" data="'+r.swf_url+'" ',"IE"===t.browser&&(i+='classid="clsid:d27cdb6e-ae6d-11cf-96b8-444553540000" '),i+='width="100%" height="100%" style="outline:0"><param name="movie" value="'+r.swf_url+'" /><param name="flashvars" value="uid='+escape(this.uid)+"&target="+t.global_event_dispatcher+'" /><param name="wmode" value="transparent" /><param name="allowscriptaccess" value="always" /></object>',"IE"===t.browser?(o=document.createElement("div"),s.appendChild(o),o.outerHTML=i,o=s=null):s.innerHTML=i,c=setTimeout(function(){u&&!u.initialized&&u.trigger("Error",new n.RuntimeError(n.RuntimeError.NOT_INIT_ERR))},5e3)},destroy:function(e){return function(){e.call(u),clearTimeout(c),r=c=e=u=null}}(this.destroy)},l)}var a="flash",l={};return o.addConstructor(a,r),l}),n(q,[W,v],function(e,t){var i={slice:function(e,i,n,o){var s=this.getRuntime();return 0>i?i=Math.max(e.size+i,0):i>0&&(i=Math.min(i,e.size)),0>n?n=Math.max(e.size+n,0):n>0&&(n=Math.min(n,e.size)),e=s.shimExec.call(this,"Blob","slice",i,n,o||""),e&&(e=new t(s.uid,e)),e}};return e.Blob=i}),n(X,[W],function(e){var t={init:function(e){this.getRuntime().shimExec.call(this,"FileInput","init",{name:e.name,accept:e.accept,multiple:e.multiple}),this.trigger("ready")}};return e.FileInput=t}),n(G,[W,f],function(e,t){function i(e,i){switch(i){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var n="",o={read:function(e,t){var o=this,s=o.getRuntime();return"readAsDataURL"===e&&(n="data:"+(t.type||"")+";base64,"),o.bind("Progress",function(t,o){o&&(n+=i(o,e))}),s.shimExec.call(this,"FileReader","readAsBase64",t.uid)},getResult:function(){return n},destroy:function(){n=null}};return e.FileReader=o}),n(V,[W,f],function(e,t){function i(e,i){switch(i){case"readAsText":return t.atob(e,"utf8");case"readAsBinaryString":return t.atob(e);case"readAsDataURL":return e}return null}var n={read:function(e,t){var n,o=this.getRuntime();return(n=o.shimExec.call(this,"FileReaderSync","readAsBase64",t.uid))?("readAsDataURL"===e&&(n="data:"+(t.type||"")+";base64,"+n),i(n,e,t.type)):null}};return e.FileReaderSync=n}),n(Y,[W,a,v,b,E,T,S],function(e,t,i,n,o,s,r){var a={send:function(e,n){function o(){e.transport=u.mode,u.shimExec.call(c,"XMLHttpRequest","send",e,n)}function a(e,t){u.shimExec.call(c,"XMLHttpRequest","appendBlob",e,t.uid),n=null,o()}function l(e,t){var i=new r;i.bind("TransportingComplete",function(){t(this.result)}),i.transport(e.getSource(),e.type,{ruid:u.uid})}var c=this,u=c.getRuntime();if(t.isEmptyObj(e.headers)||t.each(e.headers,function(e,t){u.shimExec.call(c,"XMLHttpRequest","setRequestHeader",t,e.toString())}),n instanceof s){var d;if(n.each(function(e,t){e instanceof i?d=t:u.shimExec.call(c,"XMLHttpRequest","append",t,e)}),n.hasBlob()){var h=n.getBlob();h.isDetached()?l(h,function(e){h.destroy(),a(d,e)}):a(d,h)}else n=null,o()}else n instanceof i?n.isDetached()?l(n,function(e){n.destroy(),n=e.uid,o()}):(n=n.uid,o()):o()},getResponse:function(e){var i,s,r=this.getRuntime();if(s=r.shimExec.call(this,"XMLHttpRequest","getResponseAsBlob")){if(s=new n(r.uid,s),"blob"===e)return s;try{if(i=new o,~t.inArray(e,["","text"]))return i.readAsText(s);if("json"===e&&window.JSON)return JSON.parse(i.readAsText(s))}finally{s.destroy()}}return null},abort:function(e){var t=this.getRuntime();t.shimExec.call(this,"XMLHttpRequest","abort"),this.dispatchEvent("readystatechange"),this.dispatchEvent("abort")}};return e.XMLHttpRequest=a}),n(Q,[W,v],function(e,t){var i={getAsBlob:function(e){var i=this.getRuntime(),n=i.shimExec.call(this,"Transporter","getAsBlob",e);return n?new t(i.uid,n):null}};return e.Transporter=i}),n(K,[W,a,S,v,E],function(e,t,i,n,o){var s={loadFromBlob:function(e){function t(e){o.shimExec.call(n,"Image","loadFromBlob",e.uid),n=o=null}var n=this,o=n.getRuntime();if(e.isDetached()){var s=new i;s.bind("TransportingComplete",function(){t(s.result.getSource())}),s.transport(e.getSource(),e.type,{ruid:o.uid})}else t(e.getSource())},loadFromImage:function(e){var t=this.getRuntime();return t.shimExec.call(this,"Image","loadFromImage",e.uid)},getAsBlob:function(e,t){var i=this.getRuntime(),o=i.shimExec.call(this,"Image","getAsBlob",e,t);return o?new n(i.uid,o):null},getAsDataURL:function(){var e,t=this.getRuntime(),i=t.Image.getAsBlob.apply(this,arguments);return i?(e=new o,e.readAsDataURL(i)):null}};return e.Image=s}),n(J,[a,u,d,h,m],function(e,t,i,n,o){function s(e){var t,i,n,o,s,r=!1,a=null,l=0;try{try{a=new ActiveXObject("AgControl.AgControl"),a.IsVersionSupported(e)&&(r=!0),a=null}catch(c){var u=navigator.plugins["Silverlight Plug-In"];if(u){for(t=u.description,"1.0.30226.2"===t&&(t="2.0.30226.2"),i=t.split(".");i.length>3;)i.pop();for(;i.length<4;)i.push(0);for(n=e.split(".");n.length>4;)n.pop();do o=parseInt(n[l],10),s=parseInt(i[l],10),l++;while(l<n.length&&o===s);s>=o&&!isNaN(o)&&(r=!0)}}}catch(d){r=!1}return r}function r(r){var c,u=this;r=e.extend({xap_url:t.xap_url},r),o.call(this,r,a,{access_binary:o.capTrue,access_image_binary:o.capTrue,display_media:o.capTrue,do_cors:o.capTrue,drag_and_drop:!1,report_upload_progress:o.capTrue,resize_image:o.capTrue,return_response_headers:function(e){return e&&"client"===u.mode},return_response_type:function(e){return"json"!==e?!0:!!window.JSON},return_status_code:function(t){return"client"===u.mode||!e.arrayDiff(t,[200,404])},select_file:o.capTrue,select_multiple:o.capTrue,send_binary_string:o.capTrue,send_browser_cookies:function(e){return e&&"browser"===u.mode},send_custom_headers:function(e){return e&&"client"===u.mode},send_multipart:o.capTrue,slice_blob:o.capTrue,stream_upload:!0,summon_file_dialog:!1,upload_filesize:o.capTrue,use_http_method:function(t){return"client"===u.mode||!e.arrayDiff(t,["GET","POST"])}},{return_response_headers:function(e){return e?"client":"browser"},return_status_code:function(t){return e.arrayDiff(t,[200,404])?"client":["client","browser"]},send_browser_cookies:function(e){return e?"browser":"client"},send_custom_headers:function(e){return e?"client":"browser"},use_http_method:function(t){return e.arrayDiff(t,["GET","POST"])?"client":["client","browser"]}}),s("2.0.31005.0")&&"Opera"!==t.browser||(this.mode=!1),e.extend(this,{getShim:function(){return i.get(this.uid).content.Moxie},shimExec:function(e,t){var i=[].slice.call(arguments,2);return u.getShim().exec(this.uid,e,t,i)},init:function(){var e;e=this.getShimContainer(),e.innerHTML='<object id="'+this.uid+'" data="data:application/x-silverlight," type="application/x-silverlight-2" width="100%" height="100%" style="outline:none;"><param name="source" value="'+r.xap_url+'"/><param name="background" value="Transparent"/><param name="windowless" value="true"/><param name="enablehtmlaccess" value="true"/><param name="initParams" value="uid='+this.uid+",target="+t.global_event_dispatcher+'"/></object>',c=setTimeout(function(){u&&!u.initialized&&u.trigger("Error",new n.RuntimeError(n.RuntimeError.NOT_INIT_ERR))},"Windows"!==t.OS?1e4:5e3)},destroy:function(e){return function(){e.call(u),clearTimeout(c),r=c=e=u=null}}(this.destroy)},l)}var a="silverlight",l={};return o.addConstructor(a,r),l}),n(Z,[J,a,q],function(e,t,i){return e.Blob=t.extend({},i)}),n(ee,[J],function(e){var t={init:function(e){function t(e){for(var t="",i=0;i<e.length;i++)t+=(""!==t?"|":"")+e[i].title+" | *."+e[i].extensions.replace(/,/g,";*.");return t}this.getRuntime().shimExec.call(this,"FileInput","init",t(e.accept),e.name,e.multiple),this.trigger("ready")}};return e.FileInput=t}),n(te,[J,d,A],function(e,t,i){var n={init:function(){var e,n=this,o=n.getRuntime();return e=o.getShimContainer(),i.addEvent(e,"dragover",function(e){e.preventDefault(),e.stopPropagation(),e.dataTransfer.dropEffect="copy"},n.uid),i.addEvent(e,"dragenter",function(e){e.preventDefault();var i=t.get(o.uid).dragEnter(e);i&&e.stopPropagation()},n.uid),i.addEvent(e,"drop",function(e){e.preventDefault();var i=t.get(o.uid).dragDrop(e);i&&e.stopPropagation()},n.uid),o.shimExec.call(this,"FileDrop","init")}};return e.FileDrop=n}),n(ie,[J,a,G],function(e,t,i){return e.FileReader=t.extend({},i)}),n(ne,[J,a,V],function(e,t,i){return e.FileReaderSync=t.extend({},i)}),n(oe,[J,a,Y],function(e,t,i){return e.XMLHttpRequest=t.extend({},i)}),n(se,[J,a,Q],function(e,t,i){return e.Transporter=t.extend({},i)}),n(re,[J,a,K],function(e,t,i){return e.Image=t.extend({},i,{getInfo:function(){var e=this.getRuntime(),i=["tiff","exif","gps"],n={meta:{}},o=e.shimExec.call(this,"Image","getInfo");return o.meta&&t.each(i,function(e){var t,i,s,r,a=o.meta[e];if(a&&a.keys)for(n.meta[e]={},i=0,s=a.keys.length;s>i;i++)t=a.keys[i],r=a[t],r&&(/^(\d|[1-9]\d+)$/.test(r)?r=parseInt(r,10):/^\d*\.\d+$/.test(r)&&(r=parseFloat(r)),n.meta[e][t]=r)}),n.width=parseInt(o.width,10),n.height=parseInt(o.height,10),n.size=parseInt(o.size,10),n.type=o.type,n.name=o.name,n}})}),n(ae,[a,h,m,u],function(e,t,i,n){function o(t){var o=this,a=i.capTest,l=i.capTrue;i.call(this,t,s,{access_binary:a(window.FileReader||window.File&&File.getAsDataURL),access_image_binary:!1,display_media:a(r.Image&&(n.can("create_canvas")||n.can("use_data_uri_over32kb"))),do_cors:!1,drag_and_drop:!1,filter_by_extension:a(function(){return"Chrome"===n.browser&&n.version>=28||"IE"===n.browser&&n.version>=10}()),resize_image:function(){return r.Image&&o.can("access_binary")&&n.can("create_canvas")},report_upload_progress:!1,return_response_headers:!1,return_response_type:function(t){return"json"===t&&window.JSON?!0:!!~e.inArray(t,["text","document",""])},return_status_code:function(t){return!e.arrayDiff(t,[200,404])},select_file:function(){return n.can("use_fileinput")},select_multiple:!1,send_binary_string:!1,send_custom_headers:!1,send_multipart:!0,slice_blob:!1,stream_upload:function(){return o.can("select_file")},summon_file_dialog:a(function(){return"Firefox"===n.browser&&n.version>=4||"Opera"===n.browser&&n.version>=12||!!~e.inArray(n.browser,["Chrome","Safari"])}()),upload_filesize:l,use_http_method:function(t){return!e.arrayDiff(t,["GET","POST"])}}),e.extend(this,{init:function(){this.trigger("Init")},destroy:function(e){return function(){e.call(o),e=o=null}}(this.destroy)}),e.extend(this.getShim(),r)}var s="html4",r={};return i.addConstructor(s,o),r}),n(le,[ae,a,d,A,c,u],function(e,t,i,n,o,s){function r(){function e(){var o,u,d,h,p,f,m=this,g=m.getRuntime();f=t.guid("uid_"),o=g.getShimContainer(),r&&(d=i.get(r+"_form"),d&&t.extend(d.style,{top:"100%"})),h=document.createElement("form"),h.setAttribute("id",f+"_form"),h.setAttribute("method","post"),
h.setAttribute("enctype","multipart/form-data"),h.setAttribute("encoding","multipart/form-data"),t.extend(h.style,{overflow:"hidden",position:"absolute",top:0,left:0,width:"100%",height:"100%"}),p=document.createElement("input"),p.setAttribute("id",f),p.setAttribute("type","file"),p.setAttribute("name",a.name||"Filedata"),p.setAttribute("accept",c.join(",")),t.extend(p.style,{fontSize:"999px",opacity:0}),h.appendChild(p),o.appendChild(h),t.extend(p.style,{position:"absolute",top:0,left:0,width:"100%",height:"100%"}),"IE"===s.browser&&s.version<10&&t.extend(p.style,{filter:"progid:DXImageTransform.Microsoft.Alpha(opacity=0)"}),p.onchange=function(){var t;this.value&&(t=this.files?this.files[0]:{name:this.value},l=[t],this.onchange=function(){},e.call(m),m.bind("change",function n(){var e,t=i.get(f),o=i.get(f+"_form");m.unbind("change",n),m.files.length&&t&&o&&(e=m.files[0],t.setAttribute("id",e.uid),o.setAttribute("id",e.uid+"_form"),o.setAttribute("target",e.uid+"_iframe")),t=o=null},998),p=h=null,m.trigger("change"))},g.can("summon_file_dialog")&&(u=i.get(a.browse_button),n.removeEvent(u,"click",m.uid),n.addEvent(u,"click",function(e){p&&!p.disabled&&p.click(),e.preventDefault()},m.uid)),r=f,o=d=u=null}var r,a,l=[],c=[];t.extend(this,{init:function(t){var s,r=this,l=r.getRuntime();a=t,c=t.accept.mimes||o.extList2mimes(t.accept,l.can("filter_by_extension")),s=l.getShimContainer(),function(){var e,o,a;e=i.get(t.browse_button),l.can("summon_file_dialog")&&("static"===i.getStyle(e,"position")&&(e.style.position="relative"),o=parseInt(i.getStyle(e,"z-index"),10)||1,e.style.zIndex=o,s.style.zIndex=o-1),a=l.can("summon_file_dialog")?e:s,n.addEvent(a,"mouseover",function(){r.trigger("mouseenter")},r.uid),n.addEvent(a,"mouseout",function(){r.trigger("mouseleave")},r.uid),n.addEvent(a,"mousedown",function(){r.trigger("mousedown")},r.uid),n.addEvent(i.get(t.container),"mouseup",function(){r.trigger("mouseup")},r.uid),e=null}(),e.call(this),s=null,r.trigger({type:"ready",async:!0})},getFiles:function(){return l},disable:function(e){var t;(t=i.get(r))&&(t.disabled=!!e)},destroy:function(){var e=this.getRuntime(),t=e.getShim(),o=e.getShimContainer();n.removeAllEvents(o,this.uid),n.removeAllEvents(a&&i.get(a.container),this.uid),n.removeAllEvents(a&&i.get(a.browse_button),this.uid),o&&(o.innerHTML=""),t.removeInstance(this.uid),r=l=c=a=o=t=null}})}return e.FileInput=r}),n(ce,[ae,N],function(e,t){return e.FileReader=t}),n(ue,[ae,a,d,C,h,A,v,T],function(e,t,i,n,o,s,r,a){function l(){function e(e){var t,n,o,r,a=this,l=!1;if(u){if(t=u.id.replace(/_iframe$/,""),n=i.get(t+"_form")){for(o=n.getElementsByTagName("input"),r=o.length;r--;)switch(o[r].getAttribute("type")){case"hidden":o[r].parentNode.removeChild(o[r]);break;case"file":l=!0}o=[],l||n.parentNode.removeChild(n),n=null}setTimeout(function(){s.removeEvent(u,"load",a.uid),u.parentNode&&u.parentNode.removeChild(u);var t=a.getRuntime().getShimContainer();t.children.length||t.parentNode.removeChild(t),t=u=null,e()},1)}}var l,c,u;t.extend(this,{send:function(d,h){function p(){var i=y.getShimContainer()||document.body,o=document.createElement("div");o.innerHTML='<iframe id="'+f+'_iframe" name="'+f+'_iframe" src="javascript:&quot;&quot;" style="display:none"></iframe>',u=o.firstChild,i.appendChild(u),s.addEvent(u,"load",function(){var i;try{i=u.contentWindow.document||u.contentDocument||window.frames[u.id].document,/^4(0[0-9]|1[0-7]|2[2346])\s/.test(i.title)?l=i.title.replace(/^(\d+).*$/,"$1"):(l=200,c=t.trim(i.body.innerHTML),b.trigger({type:"progress",loaded:c.length,total:c.length}),v&&b.trigger({type:"uploadprogress",loaded:v.size||1025,total:v.size||1025}))}catch(o){if(!n.hasSameOrigin(d.url))return void e.call(b,function(){b.trigger("error")});l=404}e.call(b,function(){b.trigger("load")})},b.uid)}var f,m,g,v,b=this,y=b.getRuntime();if(l=c=null,h instanceof a&&h.hasBlob()){if(v=h.getBlob(),f=v.uid,g=i.get(f),m=i.get(f+"_form"),!m)throw new o.DOMException(o.DOMException.NOT_FOUND_ERR)}else f=t.guid("uid_"),m=document.createElement("form"),m.setAttribute("id",f+"_form"),m.setAttribute("method",d.method),m.setAttribute("enctype","multipart/form-data"),m.setAttribute("encoding","multipart/form-data"),m.setAttribute("target",f+"_iframe"),y.getShimContainer().appendChild(m);h instanceof a&&h.each(function(e,i){if(e instanceof r)g&&g.setAttribute("name",i);else{var n=document.createElement("input");t.extend(n,{type:"hidden",name:i,value:e}),g?m.insertBefore(n,g):m.appendChild(n)}}),m.setAttribute("action",d.url),p(),m.submit(),b.trigger("loadstart")},getStatus:function(){return l},getResponse:function(e){if("json"===e&&"string"===t.typeOf(c)&&window.JSON)try{return JSON.parse(c.replace(/^\s*<pre[^>]*>/,"").replace(/<\/pre>\s*$/,""))}catch(i){return null}return c},abort:function(){var t=this;u&&u.contentWindow&&(u.contentWindow.stop?u.contentWindow.stop():u.contentWindow.document.execCommand?u.contentWindow.document.execCommand("Stop"):u.src="about:blank"),e.call(this,function(){t.dispatchEvent("abort")})}})}return e.XMLHttpRequest=l}),n(de,[ae,B],function(e,t){return e.Image=t}),s([a,l,c,u,d,h,p,f,m,g,v,b,y,w,_,x,C,E,T,k,S,$,A])}(this),function(e){"use strict";var t={},i=e.moxie.core.utils.Basic.inArray;return function n(e){var o,s;for(o in e)s=typeof e[o],"object"!==s||~i(o,["Exceptions","Env","Mime"])?"function"===s&&(t[o]=e[o]):n(e[o])}(e.moxie),t.Env=e.moxie.core.utils.Env,t.Mime=e.moxie.core.utils.Mime,t.Exceptions=e.moxie.core.Exceptions,e.mOxie=t,e.o||(e.o=t),t}(this),function(e,t,i){function n(e){function t(e,t,i){var o={chunks:"slice_blob",jpgresize:"send_binary_string",pngresize:"send_binary_string",progress:"report_upload_progress",multi_selection:"select_multiple",dragdrop:"drag_and_drop",drop_element:"drag_and_drop",headers:"send_custom_headers",urlstream_upload:"send_binary_string",canSendBinary:"send_binary",triggerDialog:"summon_file_dialog"};o[e]?n[o[e]]=t:i||(n[e]=t)}var i=e.required_features,n={};return"string"==typeof i?r.each(i.split(/\s*,\s*/),function(e){t(e,!0)}):"object"==typeof i?r.each(i,function(e,i){t(i,e)}):i===!0&&(e.chunk_size>0&&(n.slice_blob=!0),(e.resize.enabled||!e.multipart)&&(n.send_binary_string=!0),r.each(e,function(e,i){t(i,!!e,!0)})),n}var o=e.setTimeout,s={},r={VERSION:"2.1.2",STOPPED:1,STARTED:2,QUEUED:1,UPLOADING:2,FAILED:4,DONE:5,GENERIC_ERROR:-100,HTTP_ERROR:-200,IO_ERROR:-300,SECURITY_ERROR:-400,INIT_ERROR:-500,FILE_SIZE_ERROR:-600,FILE_EXTENSION_ERROR:-601,FILE_DUPLICATE_ERROR:-602,IMAGE_FORMAT_ERROR:-700,MEMORY_ERROR:-701,IMAGE_DIMENSIONS_ERROR:-702,mimeTypes:t.mimes,ua:t.ua,typeOf:t.typeOf,extend:t.extend,guid:t.guid,get:function(e){var i,n=[];"array"!==t.typeOf(e)&&(e=[e]);for(var o=e.length;o--;)i=t.get(e[o]),i&&n.push(i);return n.length?n:null},each:t.each,getPos:t.getPos,getSize:t.getSize,xmlEncode:function(e){var t={"<":"lt",">":"gt","&":"amp",'"':"quot","'":"#39"},i=/[<>&\"\']/g;return e?(""+e).replace(i,function(e){return t[e]?"&"+t[e]+";":e}):e},toArray:t.toArray,inArray:t.inArray,addI18n:t.addI18n,translate:t.translate,isEmptyObj:t.isEmptyObj,hasClass:t.hasClass,addClass:t.addClass,removeClass:t.removeClass,getStyle:t.getStyle,addEvent:t.addEvent,removeEvent:t.removeEvent,removeAllEvents:t.removeAllEvents,cleanName:function(e){var t,i;for(i=[/[\300-\306]/g,"A",/[\340-\346]/g,"a",/\307/g,"C",/\347/g,"c",/[\310-\313]/g,"E",/[\350-\353]/g,"e",/[\314-\317]/g,"I",/[\354-\357]/g,"i",/\321/g,"N",/\361/g,"n",/[\322-\330]/g,"O",/[\362-\370]/g,"o",/[\331-\334]/g,"U",/[\371-\374]/g,"u"],t=0;t<i.length;t+=2)e=e.replace(i[t],i[t+1]);return e=e.replace(/\s+/g,"_"),e=e.replace(/[^a-z0-9_\-\.]+/gi,"")},buildUrl:function(e,t){var i="";return r.each(t,function(e,t){i+=(i?"&":"")+encodeURIComponent(t)+"="+encodeURIComponent(e)}),i&&(e+=(e.indexOf("?")>0?"&":"?")+i),e},formatSize:function(e){function t(e,t){return Math.round(e*Math.pow(10,t))/Math.pow(10,t)}if(e===i||/\D/.test(e))return r.translate("N/A");var n=Math.pow(1024,4);return e>n?t(e/n,1)+" "+r.translate("tb"):e>(n/=1024)?t(e/n,1)+" "+r.translate("gb"):e>(n/=1024)?t(e/n,1)+" "+r.translate("mb"):e>1024?Math.round(e/1024)+" "+r.translate("kb"):e+" "+r.translate("b")},parseSize:t.parseSizeStr,predictRuntime:function(e,i){var n,o;return n=new r.Uploader(e),o=t.Runtime.thatCan(n.getOption().required_features,i||e.runtimes),n.destroy(),o},addFileFilter:function(e,t){s[e]=t}};r.addFileFilter("mime_types",function(e,t,i){e.length&&!e.regexp.test(t.name)?(this.trigger("Error",{code:r.FILE_EXTENSION_ERROR,message:r.translate("File extension error."),file:t}),i(!1)):i(!0)}),r.addFileFilter("max_file_size",function(e,t,i){var n;e=r.parseSize(e),t.size!==n&&e&&t.size>e?(this.trigger("Error",{code:r.FILE_SIZE_ERROR,message:r.translate("File size error."),file:t}),i(!1)):i(!0)}),r.addFileFilter("prevent_duplicates",function(e,t,i){if(e)for(var n=this.files.length;n--;)if(t.name===this.files[n].name&&t.size===this.files[n].size)return this.trigger("Error",{code:r.FILE_DUPLICATE_ERROR,message:r.translate("Duplicate file error."),file:t}),void i(!1);i(!0)}),r.Uploader=function(e){function a(){var e,t,i=0;if(this.state==r.STARTED){for(t=0;t<D.length;t++)e||D[t].status!=r.QUEUED?i++:(e=D[t],this.trigger("BeforeUpload",e)&&(e.status=r.UPLOADING,this.trigger("UploadFile",e)));i==D.length&&(this.state!==r.STOPPED&&(this.state=r.STOPPED,this.trigger("StateChanged")),this.trigger("UploadComplete",D))}}function l(e){e.percent=e.size>0?Math.ceil(e.loaded/e.size*100):100,c()}function c(){var e,t;for(k.reset(),e=0;e<D.length;e++)t=D[e],t.size!==i?(k.size+=t.origSize,k.loaded+=t.loaded*t.origSize/t.size):k.size=i,t.status==r.DONE?k.uploaded++:t.status==r.FAILED?k.failed++:k.queued++;k.size===i?k.percent=D.length>0?Math.ceil(k.uploaded/D.length*100):0:(k.bytesPerSec=Math.ceil(k.loaded/((+new Date-T||1)/1e3)),k.percent=k.size>0?Math.ceil(k.loaded/k.size*100):0)}function u(){var e=A[0]||R[0];return e?e.getRuntime().uid:!1}function d(e,i){if(e.ruid){var n=t.Runtime.getInfo(e.ruid);if(n)return n.can(i)}return!1}function h(){this.bind("FilesAdded FilesRemoved",function(e){e.trigger("QueueChanged"),e.refresh()}),this.bind("CancelUpload",w),this.bind("BeforeUpload",g),this.bind("UploadFile",v),this.bind("UploadProgress",b),this.bind("StateChanged",y),this.bind("QueueChanged",c),this.bind("Error",x),this.bind("FileUploaded",_),this.bind("Destroy",C)}function p(e,i){var n=this,o=0,s=[],a={runtime_order:e.runtimes,required_caps:e.required_features,preferred_caps:I,swf_url:e.flash_swf_url,xap_url:e.silverlight_xap_url};r.each(e.runtimes.split(/\s*,\s*/),function(t){e[t]&&(a[t]=e[t])}),e.browse_button&&r.each(e.browse_button,function(i){s.push(function(s){var l=new t.FileInput(r.extend({},a,{accept:e.filters.mime_types,name:e.file_data_name,multiple:e.multi_selection,container:e.container,browse_button:i}));l.onready=function(){var e=t.Runtime.getInfo(this.ruid);t.extend(n.features,{chunks:e.can("slice_blob"),multipart:e.can("send_multipart"),multi_selection:e.can("select_multiple")}),o++,A.push(this),s()},l.onchange=function(){n.addFile(this.files)},l.bind("mouseenter mouseleave mousedown mouseup",function(n){O||(e.browse_button_hover&&("mouseenter"===n.type?t.addClass(i,e.browse_button_hover):"mouseleave"===n.type&&t.removeClass(i,e.browse_button_hover)),e.browse_button_active&&("mousedown"===n.type?t.addClass(i,e.browse_button_active):"mouseup"===n.type&&t.removeClass(i,e.browse_button_active)))}),l.bind("mousedown",function(){n.trigger("Browse")}),l.bind("error runtimeerror",function(){l=null,s()}),l.init()})}),e.drop_element&&r.each(e.drop_element,function(e){s.push(function(i){var s=new t.FileDrop(r.extend({},a,{drop_zone:e}));s.onready=function(){var e=t.Runtime.getInfo(this.ruid);n.features.dragdrop=e.can("drag_and_drop"),o++,R.push(this),i()},s.ondrop=function(){n.addFile(this.files)},s.bind("error runtimeerror",function(){s=null,i()}),s.init()})}),t.inSeries(s,function(){"function"==typeof i&&i(o)})}function f(e,n,o){var s=new t.Image;try{s.onload=function(){return n.width>this.width&&n.height>this.height&&n.quality===i&&n.preserve_headers&&!n.crop?(this.destroy(),o(e)):void s.downsize(n.width,n.height,n.crop,n.preserve_headers)},s.onresize=function(){o(this.getAsBlob(e.type,n.quality)),this.destroy()},s.onerror=function(){o(e)},s.load(e)}catch(r){o(e)}}function m(e,i,o){function s(e,t,i){var n=E[e];switch(e){case"max_file_size":"max_file_size"===e&&(E.max_file_size=E.filters.max_file_size=t);break;case"chunk_size":(t=r.parseSize(t))&&(E[e]=t,E.send_file_name=!0);break;case"multipart":E[e]=t,t||(E.send_file_name=!0);break;case"unique_names":E[e]=t,t&&(E.send_file_name=!0);break;case"filters":"array"===r.typeOf(t)&&(t={mime_types:t}),i?r.extend(E.filters,t):E.filters=t,t.mime_types&&(E.filters.mime_types.regexp=function(e){var t=[];return r.each(e,function(e){r.each(e.extensions.split(/,/),function(e){/^\s*\*\s*$/.test(e)?t.push("\\.*"):t.push("\\."+e.replace(new RegExp("["+"/^$.*+?|()[]{}\\".replace(/./g,"\\$&")+"]","g"),"\\$&"))})}),new RegExp("("+t.join("|")+")$","i")}(E.filters.mime_types));break;case"resize":i?r.extend(E.resize,t,{enabled:!0}):E.resize=t;break;case"prevent_duplicates":E.prevent_duplicates=E.filters.prevent_duplicates=!!t;break;case"browse_button":case"drop_element":t=r.get(t);case"container":case"runtimes":case"multi_selection":case"flash_swf_url":case"silverlight_xap_url":E[e]=t,i||(l=!0);break;default:E[e]=t}i||a.trigger("OptionChanged",e,t,n)}var a=this,l=!1;"object"==typeof e?r.each(e,function(e,t){s(t,e,o)}):s(e,i,o),o?(E.required_features=n(r.extend({},E)),I=n(r.extend({},E,{required_features:!0}))):l&&(a.trigger("Destroy"),p.call(a,E,function(e){e?(a.runtime=t.Runtime.getInfo(u()).type,a.trigger("Init",{runtime:a.runtime}),a.trigger("PostInit")):a.trigger("Error",{code:r.INIT_ERROR,message:r.translate("Init error.")})}))}function g(e,t){if(e.settings.unique_names){var i=t.name.match(/\.([^.]+)$/),n="part";i&&(n=i[1]),t.target_name=t.id+"."+n}}function v(e,i){function n(){u-- >0?o(s,1e3):(i.loaded=p,e.trigger("Error",{code:r.HTTP_ERROR,message:r.translate("HTTP Error."),file:i,response:S.responseText,status:S.status,responseHeaders:S.getAllResponseHeaders()}))}function s(){var d,f,m,g={};i.status===r.UPLOADING&&e.state!==r.STOPPED&&(e.settings.send_file_name&&(g.name=i.target_name||i.name),c&&h.chunks&&a.size>c?(m=Math.min(c,a.size-p),d=a.slice(p,p+m)):(m=a.size,d=a),c&&h.chunks&&(e.settings.send_chunk_number?(g.chunk=Math.ceil(p/c),g.chunks=Math.ceil(a.size/c)):(g.offset=p,g.total=a.size)),S=new t.XMLHttpRequest,S.upload&&(S.upload.onprogress=function(t){i.loaded=Math.min(i.size,p+t.loaded),e.trigger("UploadProgress",i)}),S.onload=function(){return S.status>=400?void n():(u=e.settings.max_retries,m<a.size?(d.destroy(),p+=m,i.loaded=Math.min(p,a.size),e.trigger("ChunkUploaded",i,{offset:i.loaded,total:a.size,response:S.responseText,status:S.status,responseHeaders:S.getAllResponseHeaders()}),"Android Browser"===t.Env.browser&&e.trigger("UploadProgress",i)):i.loaded=i.size,d=f=null,void(!p||p>=a.size?(i.size!=i.origSize&&(a.destroy(),a=null),e.trigger("UploadProgress",i),i.status=r.DONE,e.trigger("FileUploaded",i,{response:S.responseText,status:S.status,responseHeaders:S.getAllResponseHeaders()})):o(s,1)))},S.onerror=function(){n()},S.onloadend=function(){this.destroy(),S=null},e.settings.multipart&&h.multipart?(S.open("post",l,!0),r.each(e.settings.headers,function(e,t){S.setRequestHeader(t,e)}),f=new t.FormData,r.each(r.extend(g,e.settings.multipart_params),function(e,t){f.append(t,e)}),f.append(e.settings.file_data_name,d),S.send(f,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:I,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})):(l=r.buildUrl(e.settings.url,r.extend(g,e.settings.multipart_params)),S.open("post",l,!0),S.setRequestHeader("Content-Type","application/octet-stream"),r.each(e.settings.headers,function(e,t){S.setRequestHeader(t,e)}),S.send(d,{runtime_order:e.settings.runtimes,required_caps:e.settings.required_features,preferred_caps:I,swf_url:e.settings.flash_swf_url,xap_url:e.settings.silverlight_xap_url})))}var a,l=e.settings.url,c=e.settings.chunk_size,u=e.settings.max_retries,h=e.features,p=0;i.loaded&&(p=i.loaded=c?c*Math.floor(i.loaded/c):0),a=i.getSource(),e.settings.resize.enabled&&d(a,"send_binary_string")&&~t.inArray(a.type,["image/jpeg","image/png"])?f.call(this,a,e.settings.resize,function(e){a=e,i.size=e.size,s()}):s()}function b(e,t){l(t)}function y(e){if(e.state==r.STARTED)T=+new Date;else if(e.state==r.STOPPED)for(var t=e.files.length-1;t>=0;t--)e.files[t].status==r.UPLOADING&&(e.files[t].status=r.QUEUED,c())}function w(){S&&S.abort()}function _(e){c(),o(function(){a.call(e)},1)}function x(e,t){t.code===r.INIT_ERROR?e.destroy():t.file&&(t.file.status=r.FAILED,l(t.file),e.state==r.STARTED&&(e.trigger("CancelUpload"),o(function(){a.call(e)},1)))}function C(e){e.stop(),r.each(D,function(e){e.destroy()}),D=[],A.length&&(r.each(A,function(e){e.destroy()}),A=[]),R.length&&(r.each(R,function(e){e.destroy()}),R=[]),I={},O=!1,T=S=null,k.reset()}var E,T,k,S,$=r.guid(),D=[],I={},A=[],R=[],O=!1;E={runtimes:t.Runtime.order,max_retries:0,chunk_size:0,multipart:!0,multi_selection:!0,file_data_name:"file",flash_swf_url:"js/Moxie.swf",silverlight_xap_url:"js/Moxie.xap",filters:{mime_types:[],prevent_duplicates:!1,max_file_size:0},resize:{enabled:!1,preserve_headers:!0,crop:!1},send_file_name:!0,send_chunk_number:!0},m.call(this,e,null,!0),k=new r.QueueProgress,r.extend(this,{id:$,uid:$,state:r.STOPPED,features:{},runtime:null,files:D,settings:E,total:k,init:function(){var e=this;return"function"==typeof E.preinit?E.preinit(e):r.each(E.preinit,function(t,i){e.bind(i,t)}),h.call(this),E.browse_button&&E.url?void p.call(this,E,function(i){"function"==typeof E.init?E.init(e):r.each(E.init,function(t,i){e.bind(i,t)}),i?(e.runtime=t.Runtime.getInfo(u()).type,e.trigger("Init",{runtime:e.runtime}),e.trigger("PostInit")):e.trigger("Error",{code:r.INIT_ERROR,message:r.translate("Init error.")})}):void this.trigger("Error",{code:r.INIT_ERROR,message:r.translate("Init error.")})},setOption:function(e,t){m.call(this,e,t,!this.runtime)},getOption:function(e){return e?E[e]:E},refresh:function(){A.length&&r.each(A,function(e){e.trigger("Refresh")}),this.trigger("Refresh")},start:function(){this.state!=r.STARTED&&(this.state=r.STARTED,this.trigger("StateChanged"),a.call(this))},stop:function(){this.state!=r.STOPPED&&(this.state=r.STOPPED,this.trigger("StateChanged"),this.trigger("CancelUpload"))},disableBrowse:function(){O=arguments[0]!==i?arguments[0]:!0,A.length&&r.each(A,function(e){e.disable(O)}),this.trigger("DisableBrowse",O)},getFile:function(e){var t;for(t=D.length-1;t>=0;t--)if(D[t].id===e)return D[t]},addFile:function(e,i){function n(e,i){var n=[];t.each(c.settings.filters,function(t,i){s[i]&&n.push(function(n){s[i].call(c,t,e,function(e){n(!e)})})}),t.inSeries(n,i)}function a(e){var s=t.typeOf(e);if(e instanceof t.File){if(!e.ruid&&!e.isDetached()){if(!l)return!1;e.ruid=l,e.connectRuntime(l)}a(new r.File(e))}else e instanceof t.Blob?(a(e.getSource()),e.destroy()):e instanceof r.File?(i&&(e.name=i),d.push(function(t){n(e,function(i){i||(D.push(e),h.push(e),c.trigger("FileFiltered",e)),o(t,1)})})):-1!==t.inArray(s,["file","blob"])?a(new t.File(null,e)):"node"===s&&"filelist"===t.typeOf(e.files)?t.each(e.files,a):"array"===s&&(i=null,t.each(e,a))}var l,c=this,d=[],h=[];l=u(),a(e),d.length&&t.inSeries(d,function(){h.length&&c.trigger("FilesAdded",h)})},removeFile:function(e){for(var t="string"==typeof e?e:e.id,i=D.length-1;i>=0;i--)if(D[i].id===t)return this.splice(i,1)[0]},splice:function(e,t){var n=D.splice(e===i?0:e,t===i?D.length:t),o=!1;return this.state==r.STARTED&&(r.each(n,function(e){return e.status===r.UPLOADING?(o=!0,!1):void 0}),o&&this.stop()),this.trigger("FilesRemoved",n),r.each(n,function(e){e.destroy()}),o&&this.start(),n},bind:function(e,t,i){var n=this;r.Uploader.prototype.bind.call(this,e,function(){var e=[].slice.call(arguments);return e.splice(0,1,n),t.apply(this,e)},0,i)},destroy:function(){this.trigger("Destroy"),E=k=null,this.unbindAll()}})},r.Uploader.prototype=t.EventTarget.instance,r.File=function(){function e(e){r.extend(this,{id:r.guid(),name:e.name||e.fileName,type:e.type||"",size:e.size||e.fileSize,origSize:e.size||e.fileSize,loaded:0,percent:0,status:r.QUEUED,lastModifiedDate:e.lastModifiedDate||(new Date).toLocaleString(),getNative:function(){var e=this.getSource().getSource();return-1!==t.inArray(t.typeOf(e),["blob","file"])?e:null},getSource:function(){return i[this.id]?i[this.id]:null},destroy:function(){var e=this.getSource();e&&(e.destroy(),delete i[this.id])}}),i[this.id]=e}var i={};return e}(),r.QueueProgress=function(){var e=this;e.size=0,e.loaded=0,e.uploaded=0,e.failed=0,e.queued=0,e.percent=0,e.bytesPerSec=0,e.reset=function(){e.size=e.loaded=e.uploaded=e.failed=e.queued=e.percent=e.bytesPerSec=0}},e.plupload=r}(window,mOxie);var App=function(){var e,t=!1,i=!1,n=!1,o=!1,s=225,r=35,a=[],l={blue:"#4b8df8",red:"#e02222",green:"#35aa47",purple:"#852b99",grey:"#555555","light-grey":"#fafafa",yellow:"#ffb848"},c=function(){var e=window,t="inner";return"innerWidth"in window||(t="client",e=document.documentElement||document.body),{width:e[t+"Width"],height:e[t+"Height"]}},u=function(){"rtl"===$("body").css("direction")&&(t=!0),i=!!navigator.userAgent.match(/MSIE 8.0/),n=!!navigator.userAgent.match(/MSIE 9.0/),o=!!navigator.userAgent.match(/MSIE 10.0/),o&&jQuery("html").addClass("ie10"),(o||n||i)&&jQuery("html").addClass("ie");var e=navigator.userAgent.toLowerCase();e.match(/(iphone|ipod|ipad)/)&&($(document).on("focus","input, textarea",function(){$(".header").hide(),$(".footer").hide()}),$(document).on("blur","input, textarea",function(){$(".header").show(),$(".footer").show()}))},d=function(){var e=c();e.width<992&&$("body").removeClass("page-sidebar-closed")},h=function(){for(var e in a){var t=a[e];t.call()}},p=function(){d(),g(),y(),h()},f=function(){d(),g()},m=function(){var e;if(i){var t;$(window).resize(function(){t!=document.documentElement.clientHeight&&(e&&clearTimeout(e),e=setTimeout(function(){p()},50),t=document.documentElement.clientHeight)})}else $(window).resize(function(){e&&clearTimeout(e),e=setTimeout(function(){p()},50)})},g=function(){var e,t=$(".page-content"),i=$(".page-sidebar"),n=$("body");if(n.hasClass("page-footer-fixed")===!0&&n.hasClass("page-sidebar-fixed")===!1){var o=$(window).height()-$(".footer").outerHeight()-30;t.height()<o&&t.attr("style","min-height:"+o+"px !important")}else e=n.hasClass("page-sidebar-fixed")?b():i.height()+20,e>=t.height()&&t.attr("style","min-height:"+e+"px !important")},v=function(){jQuery(".page-sidebar").on("click","li > a",function(e){if(0==$(this).next().hasClass("sub-menu"))return void(0==$(".btn-navbar").hasClass("collapsed")&&$(".btn-navbar").click());if(!$(this).next().hasClass("sub-menu.always-open")){var t=$(this).parent().parent(),i=$(this);t.children("li.open").children("a").children(".arrow").removeClass("open"),t.children("li.open").children(".sub-menu").slideUp(200),t.children("li.open").removeClass("open");var n=jQuery(this).next(),o=-200,s=200;n.is(":visible")?(jQuery(".arrow",jQuery(this)).removeClass("open"),jQuery(this).parent().removeClass("open"),n.slideUp(s,function(){0==$("body").hasClass("page-sidebar-fixed")&&0==$("body").hasClass("page-sidebar-closed")&&App.scrollTo(i,o),g()})):(jQuery(".arrow",jQuery(this)).addClass("open"),jQuery(this).parent().addClass("open"),n.slideDown(s,function(){0==$("body").hasClass("page-sidebar-fixed")&&0==$("body").hasClass("page-sidebar-closed")&&App.scrollTo(i,o),g()})),e.preventDefault()}}),jQuery(".page-sidebar").on("click"," li > a.ajaxify",function(e){e.preventDefault(),App.scrollTop();var t=$(this).attr("href"),i=jQuery(".page-sidebar ul"),n=$(".page-content"),o=$(".page-content .page-content-body");i.children("li.active").removeClass("active"),i.children("arrow.open").removeClass("open"),$(this).parents("li").each(function(){$(this).addClass("active"),$(this).children("a > span.arrow").addClass("open")}),$(this).parents("li").addClass("active"),App.blockUI(n,!1),$.ajax({type:"GET",cache:!1,url:t,dataType:"html",success:function(e){App.unblockUI(n),o.html(e),App.fixContentHeight(),App.initAjax()},error:function(e,t,i){o.html("<h4>Could not load the requested content.</h4>"),App.unblockUI(n)},async:!1})})},b=function(){var e=$(window).height()-$(".header").height()+1;return $("body").hasClass("page-footer-fixed")&&(e-=$(".footer").outerHeight()),e},y=function(){var e=$(".page-sidebar-menu");if(1===e.parent(".slimScrollDiv").size()&&(e.slimScroll({destroy:!0}),e.removeAttr("style"),$(".page-sidebar").removeAttr("style")),0===$(".page-sidebar-fixed").size())return void g();var i=c();if(i.width>=992){var n=b();e.slimScroll({size:"7px",color:"#a1b2bd",opacity:.3,position:t?"left":"right",height:n,allowPageScroll:!1,disableFadeOut:!1}),g()}},w=function(){$("body").hasClass("page-sidebar-fixed")!==!1&&($(".page-sidebar").off("mouseenter").on("mouseenter",function(){var e=$("body");e.hasClass("page-sidebar-closed")===!1||e.hasClass("page-sidebar-fixed")===!1||$(this).hasClass("page-sidebar-hovering")||(e.removeClass("page-sidebar-closed").addClass("page-sidebar-hover-on"),$(this).addClass("page-sidebar-hovering"),$(this).animate({width:s},400,"",function(){$(this).removeClass("page-sidebar-hovering")}))}),$(".page-sidebar").off("mouseleave").on("mouseleave",function(){var e=$("body");e.hasClass("page-sidebar-hover-on")===!1||e.hasClass("page-sidebar-fixed")===!1||$(this).hasClass("page-sidebar-hovering")||($(this).addClass("page-sidebar-hovering"),$(this).animate({width:r},400,"",function(){$("body").addClass("page-sidebar-closed").removeClass("page-sidebar-hover-on"),$(this).removeClass("page-sidebar-hovering")}))}))},_=function(){var e=c();"1"===$.cookie("sidebar_closed")&&e.width>=992&&$("body").addClass("page-sidebar-closed"),$(".page-sidebar").on("click",".sidebar-toggler",function(e){var t=$("body"),i=$(".page-sidebar");return t.hasClass("page-sidebar-hover-on")&&t.hasClass("page-sidebar-fixed")||i.hasClass("page-sidebar-hovering")?(t.removeClass("page-sidebar-hover-on"),i.css("width","").hide().show(),$.cookie("sidebar_closed","0"),e.stopPropagation(),void h()):($(".sidebar-search",i).removeClass("open"),t.hasClass("page-sidebar-closed")?(t.removeClass("page-sidebar-closed"),t.hasClass("page-sidebar-fixed")&&i.css("width",""),$.cookie("sidebar_closed","0")):(t.addClass("page-sidebar-closed"),$.cookie("sidebar_closed","1")),void h())}),$(".page-sidebar").on("click",".sidebar-search .remove",function(e){e.preventDefault(),$(".sidebar-search").removeClass("open")}),$(".page-sidebar").on("keypress",".sidebar-search input",function(e){return 13==e.which?($(".sidebar-search").submit(),!1):void 0}),$(".sidebar-search .submit").on("click",function(e){e.preventDefault(),$("body").hasClass("page-sidebar-closed")&&0==$(".sidebar-search").hasClass("open")?(1===$(".page-sidebar-fixed").size()&&$(".page-sidebar .sidebar-toggler").click(),$(".sidebar-search").addClass("open")):$(".sidebar-search").submit()})},x=function(){$(".header").on("click",".hor-menu .hor-menu-search-form-toggler",function(e){$(this).hasClass("off")?($(this).removeClass("off"),$(".header .hor-menu .search-form").hide()):($(this).addClass("off"),$(".header .hor-menu .search-form").show()),e.preventDefault()}),$(".header").on("click",".hor-menu .search-form .btn",function(e){$(".form-search").submit(),e.preventDefault()}),$(".header").on("keypress",".hor-menu .search-form input",function(e){return 13==e.which?($(".form-search").submit(),!1):void 0})},C=function(){jQuery(".footer").on("click",".go-top",function(e){App.scrollTo(),e.preventDefault()})},E=function(){jQuery("body").on("click",".portlet > .portlet-title > .tools > a.remove",function(e){e.preventDefault(),jQuery(this).closest(".portlet").remove()}),jQuery("body").on("click",".portlet > .portlet-title > .tools > a.reload",function(e){e.preventDefault();var t=jQuery(this).closest(".portlet").children(".portlet-body");App.blockUI(t),window.setTimeout(function(){App.unblockUI(t)},1e3)}),jQuery("body").on("click",".portlet > .portlet-title > .tools > .collapse, .portlet .portlet-title > .tools > .expand",function(e){e.preventDefault();var t=jQuery(this).closest(".portlet").children(".portlet-body");jQuery(this).hasClass("collapse")?(jQuery(this).removeClass("collapse").addClass("expand"),t.slideUp(200)):(jQuery(this).removeClass("expand").addClass("collapse"),t.slideDown(200))})},T=function(){if(jQuery().uniform){var e=$("input[type=checkbox]:not(.toggle), input[type=radio]:not(.toggle, .star)");e.size()>0&&e.each(function(){0==$(this).parents(".checker").size()&&($(this).show(),$(this).uniform())})}},k=function(){var e;jQuery("body").on("click",".accordion.scrollable .accordion-toggle",function(){e=jQuery(this)}),jQuery("body").on("show.bs.collapse",".accordion.scrollable",function(){jQuery("html,body").animate({scrollTop:e.offset().top-150},"slow")})},S=function(){if($("body").on("shown.bs.tab",".nav.nav-tabs",function(){g()}),location.hash){var e=location.hash.substr(1);$('a[href="#'+e+'"]').click()}},D=function(){$("body").on("hide.bs.modal",function(){$(".modal:visible").size()>1&&0==$("html").hasClass("modal-open")?$("html").addClass("modal-open"):$(".modal:visible").size()<=1&&$("html").removeClass("modal-open")})},I=function(){jQuery(".tooltips").tooltip({container:"body"})},A=function(){App.isTouchDevice()&&$('[data-hover="dropdown"]').each(function(){$(this).parent().off("hover"),$(this).off("hover")}),$("body").on("click",".dropdown-menu.hold-on-click",function(e){e.stopPropagation()})},R=function(){$('[data-hover="dropdown"]').dropdownHover()},O=function(){$("body").on("click",'[data-close="alert"]',function(e){$(this).parent(".alert").hide(),e.preventDefault()})},N=function(){jQuery(".popovers").popover(),$(document).on("click.bs.popover.data-api",function(t){e&&e.popover("hide")})},P=function(){$(".scroller").each(function(){var e;e=$(this).attr("data-height")?$(this).attr("data-height"):$(this).css("height"),$(this).slimScroll({size:"7px",color:$(this).attr("data-handle-color")?$(this).attr("data-handle-color"):"#a1b2bd",railColor:$(this).attr("data-rail-color")?$(this).attr("data-rail-color"):"#333",position:t?"left":"right",height:e,alwaysVisible:"1"==$(this).attr("data-always-visible")?!0:!1,railVisible:"1"==$(this).attr("data-rail-visible")?!0:!1,disableFadeOut:!0})})},z=function(){jQuery.fancybox&&jQuery(".fancybox-button").size()>0&&jQuery(".fancybox-button").fancybox({groupAttr:"data-rel",prevEffect:"none",nextEffect:"none",closeBtn:!0,helpers:{title:{type:"inside"}}})},M=function(){(i||n)&&jQuery("input[placeholder]:not(.placeholder-no-fix), textarea[placeholder]:not(.placeholder-no-fix)").each(function(){var e=jQuery(this);""==e.val()&&""!=e.attr("placeholder")&&e.addClass("placeholder").val(e.attr("placeholder")),e.focus(function(){e.val()==e.attr("placeholder")&&e.val("")}),e.blur(function(){(""==e.val()||e.val()==e.attr("placeholder"))&&e.val(e.attr("placeholder"))})})},F=function(){function e(){document.fullscreenElement||document.mozFullScreenElement||document.webkitFullscreenElement?document.cancelFullScreen?document.cancelFullScreen():document.mozCancelFullScreen?document.mozCancelFullScreen():document.webkitCancelFullScreen&&document.webkitCancelFullScreen():document.documentElement.requestFullscreen?document.documentElement.requestFullscreen():document.documentElement.mozRequestFullScreen?document.documentElement.mozRequestFullScreen():document.documentElement.webkitRequestFullscreen&&document.documentElement.webkitRequestFullscreen(Element.ALLOW_KEYBOARD_INPUT)}$("#trigger_fullscreen").click(function(){e()})},L=function(){jQuery().select2&&$(".select2me").select2({placeholder:"Select",allowClear:!0})},H=function(){$(".dropdown-toggle").click(function(){toastr.clear()})},j=function(){var e=$(".theme-panel");
0==$("body").hasClass("page-boxed")&&$(".layout-option",e).val("fluid"),$(".sidebar-option",e).val("default"),$(".header-option",e).val("fixed"),$(".footer-option",e).val("default");var t=function(){$("body").removeClass("page-boxed").removeClass("page-footer-fixed").removeClass("page-sidebar-fixed").removeClass("page-header-fixed"),$(".header > .header-inner").removeClass("container"),1===$(".page-container").parent(".container").size()&&$(".page-container").insertAfter("body > .clearfix"),1===$(".footer > .container").size()?$(".footer").html($(".footer > .container").html()):1===$(".footer").parent(".container").size()&&$(".footer").insertAfter(".page-container"),$("body > .container").remove()},i="",n=function(){var n=$(".layout-option",e).val(),o=$(".sidebar-option",e).val(),s=$(".header-option",e).val(),r=$(".footer-option",e).val();"fixed"==o&&"default"==s&&(alert("Default Header with Fixed Sidebar option is not supported. Proceed with Fixed Header with Fixed Sidebar."),$(".header-option",e).val("fixed"),$(".sidebar-option",e).val("fixed"),o="fixed",s="fixed"),t(),"boxed"===n&&($("body").addClass("page-boxed"),$(".header > .header-inner").addClass("container"),$("body > .clearfix").after('<div class="container"></div>'),$(".page-container").appendTo("body > .container"),"fixed"===r?$(".footer").html('<div class="container">'+$(".footer").html()+"</div>"):$(".footer").appendTo("body > .container")),i!=n&&h(),i=n,"fixed"===s?($("body").addClass("page-header-fixed"),$(".header").removeClass("navbar-static-top").addClass("navbar-fixed-top")):($("body").removeClass("page-header-fixed"),$(".header").removeClass("navbar-fixed-top").addClass("navbar-static-top")),"fixed"===o?$("body").addClass("page-sidebar-fixed"):$("body").removeClass("page-sidebar-fixed"),"fixed"===r?$("body").addClass("page-footer-fixed"):$("body").removeClass("page-footer-fixed"),g(),y(),w()},o=function(e){$("#style_color").attr("href","assets/css/themes/"+e+".css"),$.cookie("style_color",e)};$(".toggler",e).click(function(){$(".toggler").hide(),$(".toggler-close").show(),$(".theme-panel > .theme-options").show()}),$(".toggler-close",e).click(function(){$(".toggler").show(),$(".toggler-close").hide(),$(".theme-panel > .theme-options").hide()}),$(".theme-colors > ul > li",e).click(function(){var t=$(this).attr("data-style");o(t),$("ul > li",e).removeClass("current"),$(this).addClass("current")}),$(".layout-option, .header-option, .sidebar-option, .footer-option",e).change(n),$.cookie("style_color")&&o($.cookie("style_color"))};return{init:function(){u(),m(),T(),P(),f(),y(),w(),v(),x(),_(),M(),C(),j(),z(),L(),E(),O(),A(),S(),I(),N(),k(),D(),F(),alertFirstLogin&&(App.sayHello(),H()),alertFirstLogout&&(App.sayBye(),H())},initAjax:function(){L(),A(),I(),N(),k(),T(),R()},fixContentHeight:function(){g()},setLastPopedPopover:function(t){e=t},addResponsiveHandler:function(e){a.push(e)},setEqualHeight:function(e){var t=0;e=jQuery(e),e.each(function(){var e=$(this).height();e>t&&(tallestColumn=e)}),e.height(t)},scrollTo:function(e,t){pos=e&&e.size()>0?e.offset().top:0,jQuery("html,body").animate({scrollTop:pos+(t?t:0)},"slow")},scrollTop:function(){App.scrollTo()},blockUI:function(e,t){var e=jQuery(e);e.height()<=400&&(t=!0),e.block({message:'<img src="./assets/img/ajax-loading.gif" align="">',centerY:void 0!=t?t:!0,css:{top:"10%",border:"none",padding:"2px",backgroundColor:"none"},overlayCSS:{backgroundColor:"#000",opacity:.05,cursor:"wait"}})},unblockUI:function(e,t){jQuery(e).unblock({onUnblock:function(){jQuery(e).css("position",""),jQuery(e).css("zoom","")}})},initUniform:function(e){e?jQuery(e).each(function(){0==$(this).parents(".checker").size()&&($(this).show(),$(this).uniform())}):T()},updateUniform:function(e){$.uniform.update(e)},initFancybox:function(){z()},getActualVal:function(e){var e=jQuery(e);return e.val()===e.attr("placeholder")?"":e.val()},getURLParameter:function(e){var t,i,n=window.location.search.substring(1),o=n.split("&");for(t=0;t<o.length;t++)if(i=o[t].split("="),i[0]==e)return unescape(i[1]);return null},isTouchDevice:function(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}},isIE8:function(){return i},isIE9:function(){return n},isRTL:function(){return t},getLayoutColorCode:function(e){return l[e]?l[e]:""},rebindScrollers:function(){P()},rebindTooltips:function(){I()},rebindhandleUniform:function(){T()},sayHello:function(){toastr.options={closeButton:!0,debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.success(messages.hello+" "+userName+"!")},sayBye:function(){toastr.options={closeButton:!0,debug:!1,positionClass:"toast-top-right",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"5000",extendedTimeOut:"1000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.warning(messages.byenotify)},sayDeactivated:function(){toastr.options={closeButton:!0,debug:!1,positionClass:"toast-top-left",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"10000",extendedTimeOut:"100000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"},toastr.warning(messages.deactivatedrender)},sayLanguage:function(e){toastr.options={closeButton:!0,debug:!1,positionClass:"toast-bottom-left",onclick:null,showDuration:"1000",hideDuration:"1000",timeOut:"500000",extendedTimeOut:"100000",showEasing:"swing",hideEasing:"linear",showMethod:"fadeIn",hideMethod:"fadeOut"};var t=navigator.userLanguage||navigator.language;void 0==$.cookie("nolang")&&"index"==controller&&"en"==e&&"en"!=t&&(-1!=t.indexOf("es")?(golang="es",toastr.info(messages.changelanges,messages.changelangestitle)):"it"==t?(golang="it",toastr.info(messages.changelangit,messages.changelangittitle)):-1!=t.indexOf("ko")?(golang="ko",toastr.info(messages.changelangko,messages.changelangkotitle)):"ca"==t?(golang="ca",toastr.info(messages.changelangca,messages.changelangcatitle)):"ru"==t?(golang="ru",toastr.info(messages.changelangru,messages.changelangrutitle)):"ja"==t?(golang="ja",toastr.info(messages.changelangja,messages.changelangjatitle)):-1!=t.indexOf("fr")?(golang="fr",toastr.info(messages.changelangfr,messages.changelangfrtitle)):-1!=t.indexOf("pt")?(golang="pt",toastr.info(messages.changelangpt,messages.changelangpttitle)):-1!=t.indexOf("ar")?(golang="ar",toastr.info(messages.changelangar,messages.changelangartitle)):"de"==t?(golang="de",toastr.info(messages.changelangde,messages.changelangdetitle)):"bg"==t?(golang="bg",toastr.info(messages.changelangbg,messages.changelangbgtitle)):-1!=t.indexOf("zh-hk")||-1!=t.indexOf("zh-tw")?(golang="zh_tw",toastr.info(messages.changelangzh_tw,messages.changelangzh_twtitle)):-1!=t.indexOf("zh")&&(golang="zh_cn",toastr.info(messages.changelangzh_cn,messages.changelangzh_cntitle)))}}}(),PortletDraggable=function(){return{init:function(){jQuery().sortable&&($("#fileGroups").sortable({placeholder:"ui-state-highlight",tolerance:"pointer"}).disableSelection(),$(window).width()<768&&$("#fileGroups").sortable("disable"))}}}();if(!function(e){var t={init:function(t){var n={color:e(this).css("background-color"),reach:20,speed:1e3,pause:0,glow:!0,repeat:!0,onHover:!1};return e(this).css({"-moz-outline-radius":e(this).css("border-top-left-radius"),"-webkit-outline-radius":e(this).css("border-top-left-radius"),"outline-radius":e(this).css("border-top-left-radius")}),t&&e.extend(n,t),n.color=e("<div style='background:"+n.color+"'></div>").css("background-color"),!0!==n.repeat&&!isNaN(n.repeat)&&0<n.repeat&&(n.repeat-=1),this.each(function(){n.onHover?e(this).bind("mouseover",function(){i(n,this,0)}).bind("mouseout",function(){e(this).pulsate("destroy")}):i(n,this,0)})},destroy:function(){return this.each(function(){clearTimeout(this.timer),e(this).css("outline",0)})}},i=function(t,n,o){var s=t.reach;o=o>s?0:o;var r=(s-o)/s,a=t.color.split(","),r="rgba("+a[0].split("(")[1]+","+a[1]+","+a[2].split(")")[0]+","+r+")",a={outline:"2px solid "+r};t.glow?(a["box-shadow"]="0px 0px "+parseInt(o/1.5)+"px "+r,userAgent=navigator.userAgent||"",/(chrome)[ \/]([\w.]+)/.test(userAgent.toLowerCase())&&(a["outline-offset"]=o+"px",a["outline-radius"]="100 px")):a["outline-offset"]=o+"px",e(n).css(a),n.timer=setTimeout(function(){if(o>=s&&!t.repeat)return e(n).pulsate("destroy"),!1;if(o>=s&&!0!==t.repeat&&!isNaN(t.repeat)&&0<t.repeat)t.repeat-=1;else if(t.pause&&o>=s){var r=o+1;return innerfunc=function(){i(t,n,r)},setTimeout(innerfunc,t.pause),!1}i(t,n,o+1)},t.speed/s)};e.fn.pulsate=function(i){return t[i]?t[i].apply(this,Array.prototype.slice.call(arguments,1)):"object"!=typeof i&&i?void e.error("Method "+i+" does not exist on jQuery.pulsate"):t.init.apply(this,arguments)}}(jQuery),null!=app){var ilovepdfUploader=new plupload.Uploader({runtimes:"html5,flash,html4,silverlight",chunk_size:2e6,max_retries:3,browse_button:["pickfiles","morefiles"],container:document.getElementById("upload-container"),url:proc_serv+"/upload",flash_swf_url:protocol+"//"+document.domain+"/js/plupload/js/Moxie.swf",silverlight_xap_url:protocol+"//"+document.domain+"/js/plupload/js/Moxie.xap",drop_element:"body",multi_selection:multisel,multipart_params:{upID:s},filters:{mime_types:[{title:mime_title,extensions:mime}]},init:{PostInit:function(){},QueueChanged:function(e){},FilesAdded:function(e,t){sfc=0,sfn=t.length,t.length>20&&(covers_hidden=!1,showaddprogress=t.length),0!=showaddprogress?($("#addProgress").html(messages.adding+" "+t.length+" "+messages.files+". <br/>"+messages.loading),setTimeout(function(){showaddprogress=!1,plupload.each(t,function(t){total_files_selected++,total_filesize_selected+=t.size,total_files_selected>maxTotalFiles&&(total_files_selected--,total_filesize_selected-=t.size,ilovepdfUploader.removeFile(t.id),limitTotalFilesPassed=!0),total_filesize_selected>maxTotalFilesize&&(total_files_selected--,total_filesize_selected-=t.size,ilovepdfUploader.removeFile(t.id),limitTotalFilesizePassed=!0),limitTotalFilesizePassed||limitTotalFilesPassed||(pluploadcomplete=!1,addfileDOM(t.name,t.id,t.size,t.getSource().getSource(),e.runtime,null))}),(limitTotalFilesPassed||limitTotalFilesizePassed)&&showError()},500)):(plupload.each(t,function(t){total_files_selected++,total_filesize_selected+=t.size,total_files_selected>maxTotalFiles&&(total_files_selected--,total_filesize_selected-=t.size,ilovepdfUploader.removeFile(t.id),limitTotalFilesPassed=!0),total_filesize_selected>maxTotalFilesize&&(total_files_selected--,total_filesize_selected-=t.size,ilovepdfUploader.removeFile(t.id),limitTotalFilesizePassed=!0),limitTotalFilesizePassed||limitTotalFilesPassed||(pluploadcomplete=!1,addfileDOM(t.name,t.id,t.size,t.getSource().getSource(),e.runtime,null))}),(limitTotalFilesPassed||limitTotalFilesizePassed)&&showError())},FilesRemoved:function(e,t){},UploadProgress:function(e,t){$("#uploadProgress").width(e.total.percent+"%"),1==gobutton&&(document.title=e.total.percent+messages.titlepercentprogress),lastpercent=t.percent,lasttotalpercent=e.total.percent,$("#filenameUp").html(t.name+" ("+plupload.formatSize(t.size).toUpperCase()+")"),$("#uploadSpeed").html(plupload.formatSize(e.total.bytesPerSec).toUpperCase()+"/S");var i=Math.round((e.total.size-e.total.loaded)/e.total.bytesPerSec*1e3),n=timeleft(i);void 0!=n&&$("#timeLeft").html(timeleft(i).toUpperCase()),$("#percent").html(e.total.percent+"%")},BeforeUpload:function(e,t){console.log(t),e.settings.multipart_params={upID:s,userID:userID,userK:userK,fileID:t.id,gobutton:gobutton}},FileUploaded:function(e,t,i){already_uploaded_files++;var n=$.parseJSON(i.response);console.log(n),n.filename&&changeSrvFilename(t.id,n.filename),already_uploaded_files>total_files_selected&&(already_uploaded_files=total_files_selected);var o=n.filename.substr(n.filename.lastIndexOf(".")+1).toLowerCase();console.log(o),$("#currentUploadN").html(already_uploaded_files);var r=o;return"gif"==r?!1:("jpg"!=r&&"jpeg"!=r&&"png"!=r&&"gif"!=r&&(r="jpg"),void("html5"!=e.runtime?renderImage(null,null,"#img-"+t.id,proc_serv+"/tmp_images/"+s+"_"+userID+"/"+t.id+"."+r):($("#img-"+t.id).attr("src",proc_serv+"/tmp_images/"+s+"_"+userID+"/"+t.id+"."+r),"cropimage"==app&&$(".imagelove").attr("src",proc_serv+"/tmp_images/"+s+"_"+userID+"/"+t.id+"."+r),URLObj[t.id].revokeObjectURL(imagesrc[t.id]))))},UploadComplete:function(e,t){pluploadcomplete=!0,$("#currentUploadN").html(ilovepdfUploader.files.length),pluploadcomplete&&dropboxcomplete&&drivecomplete&&gobutton&&activateProcessing()},Error:function(e,t){if(console.log(t),-200==t.code&&(ilovepdfUploader.removeFile(t.file.id),removefileDOM(t.file.id),connection_error_file=t.file.name,connection_error=!0,1==gobutton?(e.stop(),$("#wh").css("cursor","default"),$("#uploadingStatus").css("cursor","default"),$("#processingStatus").css("cursor","default"),$("#plupl").html('<div class="alert alert-danger" style="max-width:800px;margin:0 auto;"><strong>'+messages.connectionerrortitle+"</strong></div><br/>"+messages.connectionerrortextgo.replace("{filename}",connection_error_file))):(ga("send","event","error","upload",app+" - "+t.file.name),showError()),connection_error=!1),0==notSupportedFile){var i=t.file.name.substr(t.file.name.lastIndexOf(".")+1).toLowerCase();-1==mime.indexOf(i)&&(notSupportedFile=!0,notSupportedFormat.push(i),showError())}}}}),connection_error_file=!1,connection_error=!1,noDupTimer=!1,fe=new Array,fileExtensionSize=new Array,fileExtensionIDs=new Array,fileExtensionNumber=new Array,notSupportedFormat=new Array,PDFJS_array=new Array,URLObj=new Array,imagesrc=new Array,limitTotalFilesPassed=!1,limitTotalFilesizePassed=!1,total_filesize_error=!1,error_download_link=!1,notSupportedFile=!1,covers_hidden=!1,added_counter=0,total_files_selected=0,total_filesize_selected=0,total_files_selected_history=0,total_drive_files=0,total_dropbox_files=0,removing="",already_uploaded_files=1,already_uploaded_drive_files=0,already_uploaded_dropbox_files=0,closeConfirmFiles=!1,closeConfirmUpload=!1,closeConfirmConverting=!1,closing_title=0,resizing_add=0,pluploadcomplete=!1,drivecomplete=!1,dropboxcomplete=!1,ajaxdrop=new Array,ajaxdrive=new Array,passwordprotected=!1,gobutton=!1,activateproc=!1,password=0,showing_tools=0,poptions={},jpgpdfmargin=!1,jpgpdforientation=!1,cropp=null,boundx=null,boundy=null,timer=null,cropwait=!0,truewidth=new Array,trueheight=new Array,cropmoving=!1,alreadycalcdim=!1,mantainratio=!0,noenlarge=!1,last_file_id=null,filename_timer=null;poptions.cropping_area=null,poptions.splitall=0,poptions.jpgpages=0,poptions.jpgorientation=0,poptions.jpgmargin=0,poptions.compress_ratio=2,poptions.compressjpgmode=0,poptions.mantainaspect=1,poptions.noenlarge=1,poptions.resizejpgmode=0,poptions.convertfromjpgto=0,poptions.convertfromjpggiftime=.5,poptions.convertfromjpggifloop=1;var pagy=1,uniqueFilePagesNumber=1,filenpages={},outofrange=0,totalnpages=0,showaddprogress=!1,lastblob=null,force_listview=!1,changedNPages=0,force_gridview=!1,files_selected_array=[],uploadButtonVisible,sfc=0,sfl=0,sfn=0,appas=1,compensation=!1,resetLimits=!1,lastpercent=0,lasttotalpercent=0,tsfc=-1,be=new Array,timersplit=null,boxfiles=0,fileBox="",gobutton_pulsate_timer="",tOut=new Array,already_scrolled=!1;fileBox='<div class="file tooltips '+app+'" id="{fileID}" rel="{service}"  data-placement="top" data-original-title="{filesize}">    <a class="btn btn-icon-only grey up tooltips"   data-placement="top" data-original-title="'+messages.changepositionup+'"><i class="fa fa-chevron-up"></i></a>    <a  class="btn btn-icon-only grey down tooltips"   data-placement="bottom" data-original-title="'+messages.changepositiondown+'"><i class="fa fa-chevron-down"></i></a>    <a  class="btn btn-icon-only grey remove tooltips"   data-placement="top" data-original-title="'+messages.removethisfile+'"><i class="fa fa-times"></i></a>    <img id="img-{fileID}" class="imagelove" src="'+protocol+"//"+document.domain+'/images/{format}-prev.png"/>    <div class="fileInfo"><span class="filename">{fileName}</span><span class="filesize">{filesize}</span><span class="imagesize"></span></div>    </div>',$(document).on("click",".cancel",function(){Uploader.removeFile($(this).parent().parent().parent().attr("id"));var e=$(this).attr("rel");$(this).parent().parent().parent().fadeTo("slow",.01,function(){$(this).remove(),$("#file-group-"+e+" .up").show(),$("#file-group-"+e+" .down").show(),$("#file-group-"+e+" div:first .up").hide(),$("#file-group-"+e).children().eq(-2).find(".down").hide()})}),$(document).on("click","#uploadfiles",function(){if("resizeimage"==app){if(poptions.resizejpgw=$("#img-w").val(),poptions.resizejpgh=$("#img-h").val(),0==poptions.resizejpgmode){if(!(poptions.resizejpgw>=1&&poptions.resizejpgh>=1||(isNaN(poptions.resizejpgw)||0==poptions.resizejpgw)&&poptions.resizejpgh>=1&&1==mantainratio||(isNaN(poptions.resizejpgh)||0==poptions.resizejpgh)&&poptions.resizejpgw>=1&&1==mantainratio))return(""==poptions.resizejpgw||isNaN(poptions.resizejpgw))&&($("#img-w").css("border-color","#FF0000"),$("#img-w").pulsate({color:"#FF0000",reach:200,speed:1e3,pause:1e3,glow:!1,repeat:!0,onHover:!1})),(""==poptions.resizejpgh||isNaN(poptions.resizejpgh))&&($("#img-h").css("border-color","#FF0000"),$("#img-h").pulsate({color:"#FF0000",reach:200,speed:1e3,pause:1e3,glow:!1,repeat:!0,onHover:!1})),!1;console.log("OK")}poptions.resper=$("#resper").val(),$("#mantainaspect").is(":checked")?poptions.mantainaspect=1:poptions.mantainaspect=0,$("#noenlarge").is(":checked")?poptions.noenlarge=1:poptions.noenlarge=0}"convertfromjpg"==app&&(poptions.convertfromjpggiftime=$("#giftime").val(),$("#uniform-gifloop").is(":checked")?poptions.convertfromjpggifloop=0:poptions.convertfromjpggifloop=1),toastr.clear(),$("#totalSelectedFiles").html(ilovepdfUploader.files.length),window.scrollTo(0,0),1==allow_sort&&sortFiles(),$("#fileGroups").empty(),$("#fileGroups").height(0),$("#oldbwarn").length&&$("#oldbwarn").hide(),1==$("#upload-container").is(":visible")&&$("#upload-container").slideToggle(),gobutton=!0,$("#footer-button").slideToggle("slow"),$(".header").fadeOut(),$(".footer").fadeOut(),$("#extraTools").fadeOut(),$("#wh").fadeIn(),$(".views, .sort, .coverview").hide(),0==ilovepdfUploader.files.length&&(pluploadcomplete=!0),0==total_dropbox_files&&(dropboxcomplete=!0),0==total_drive_files&&(drivecomplete=!0),pluploadcomplete&&dropboxcomplete&&drivecomplete?activateProcessing():($("#uploadingStatus").fadeIn(),pluploadcomplete?$("#currentUploadN").html(ilovepdfUploader.files.length):$("#currentUploadN").html(already_uploaded_files),dropboxcomplete&&$("#currentDropboxUploadN").html(total_dropbox_files),drivecomplete&&$("#currentDriveUploadN").html(total_drive_files),ilovepdfUploader.files.length>0&&$("#plupl").show(),total_dropbox_files>0&&($("#drivedrop").show(),$("#dropboxUp").show()),total_drive_files>0&&($("#drivedrop").show(),$("#driveUp").show()))}),$(document).on("click",".up",function(){$(this).parents(".file").slideToggle(function(){$(this).insertBefore($(this).prev()),$(this).slideToggle()})}),$(document).on("click",".down",function(){$(this).parents(".file").slideToggle(function(){$(this).insertAfter($(this).next()),$(this).slideToggle()})}),$(document).on("mouseenter",".file",function(){if(removing==$(this).attr("id")&&$(this).tooltip("hide"),$(this).find(".btn.remove").show(),$(this).find(".btn.rotate").show(),1==covers_hidden){var e=$(this).find("canvas").attr("id");tOut[e]=setTimeout(function(){for(var t in files_selected_array)if(files_selected_array[t][1]==e.replace("cover-","")){var i=new FileReader,n=document.getElementById(e),o=n.getContext("2d");renderCover(files_selected_array[t][3],i,n,o,null,!0);break}},1500)}}),$(document).on("mouseleave",".file",function(){$(this).find(".btn").hide(),1==covers_hidden&&clearTimeout(tOut[$(this).find("canvas").attr("id")])}),$(document).on("mouseover",".file .btn",function(){$("div.tooltips").tooltip("hide"),(1==force_listview||2==force_listview)&&$(".file").tooltip("destroy")}),$(document).on("click",".file .btn.remove",function(){removing!=$(this).parent().attr("id")&&removefileDOM($(this).parent().attr("id"))}),jQuery.fn.rotate=function(e,t){return $(this).css({"-webkit-transform":"rotate("+e+"deg)","-moz-transform":"rotate("+e+"deg)","-ms-transform":"rotate("+e+"deg)",transform:"rotate("+e+"deg)"}),$(this)},$(document).on("mouseenter",".filename",function(){$(window).width()>768&&($(this).html('<div class="filenamewrap">'+getFileInfo($(this).parent().parent().attr("id"),0)+"</div>"),$(this).addClass("open"))}),$(document).on("mouseleave",".filename",function(){if($(window).width()>768){var e=$(this),t=getFileInfo(e.parent().parent().attr("id"),0);e.removeClass("open");var i=t.substr(t.lastIndexOf(".")+1).toLowerCase();t.length>25&&t.lastIndexOf(".")>25-i.length&&(t=t.substring(0,25)+"[...]."+i),e.html(t)}}),$(document).on("mouseout",".file .btn",function(){removing!=$(this).parent().attr("id")&&($(this).parent().is(":hover")?$(this).parent().tooltip("show"):$(this).hide),(1==force_listview||2==force_listview)&&$(".file").tooltip("destroy")}),$(document).on("mousedown",".file",function(){$(this).tooltip("hide"),$(this).tooltip("disable")}),$(document).on("mouseup",".file",function(){$(this).tooltip("enable")}),"Firefox"!=brwname&&($.fn.dndhover=function(e){return this.each(function(){var e=$(this),t=$();e.on("dragenter",function(i){console.log(i),0===t.size()&&e.trigger("dndHoverStart"),t=t.add(i.target)}),e.on("dragleave",function(i){setTimeout(function(){t=t.not(i.target),0===t.size()&&e.trigger("dndHoverEnd")},1)}),e.on("drop",function(i){setTimeout(function(){t=t.not(i.target),0===t.size()&&e.trigger("dndHoverEnd")},1)})})},$("body").dndhover().on({dndHoverStart:function(e){return $("#drop").show(),$(".footer").hide(),$("#drop").addClass("drag-n-drop-hover"),e.stopPropagation(),e.preventDefault(),!1},dndHoverEnd:function(e){return $(".footer").show(),$("#drop").removeClass("drag-n-drop-hover"),$("#drop").hide(),e.stopPropagation(),e.preventDefault(),!1}})),$(window).resize(function(){$(window).width()<768&&($(".views").hide(),$(".sort").hide(),$(".coverview").hide()),ilovepdfUploader.refresh(),App.fixContentHeight()}),$(document).on("keyup","#img-w",function(){$("#img-w").css("border-color","#333"),$("#img-w").pulsate("destroy"),"cropimage"==app&&(clearTimeout(timer),parseInt($("#img-w").val())>truewidth[last_file_id]-poptions.cropping_area.x&&$("#img-w").val(Math.round(truewidth[last_file_id]-poptions.cropping_area.x)),timer=setTimeout(function(){cropp.setSelect([poptions.cropping_area.x,poptions.cropping_area.y,poptions.cropping_area.x+parseInt($("#img-w").val()),poptions.cropping_area.y2])},1e3)),"resizeimage"==app&&(1==total_files_selected&&1==mantainratio&&$("#img-h").val(Math.round(trueheight[last_file_id]*$("#img-w").val()/truewidth[last_file_id])),updateAllDimensions())}),$(document).on("blur","#img-w",function(){"cropimage"==app&&(clearTimeout(timer),parseInt($("#img-w").val())>truewidth[last_file_id]-poptions.cropping_area.x&&$("#img-w").val(Math.round(truewidth[last_file_id]-poptions.cropping_area.x)),console.log("hello1"+parseInt($("#img-w").val())),cropp.setSelect([poptions.cropping_area.x,poptions.cropping_area.y,poptions.cropping_area.x+parseInt($("#img-w").val()),poptions.cropping_area.y2]))}),$(document).on("blur","#img-h",function(){"cropimage"==app&&(clearTimeout(timer),parseInt($("#img-h").val())>trueheight[last_file_id]-poptions.cropping_area.y&&$("#img-h").val(Math.round(trueheight[last_file_id]-poptions.cropping_area.y)),cropp.setSelect([poptions.cropping_area.x,poptions.cropping_area.y,poptions.cropping_area.x2,poptions.cropping_area.y+parseInt($("#img-h").val())]))}),$(document).on("keyup","#img-h",function(){$("#img-h").css("border-color","#333"),$("#img-h").pulsate("destroy"),"cropimage"==app&&(clearTimeout(timer),parseInt($("#img-h").val())>trueheight[last_file_id]-poptions.cropping_area.y&&$("#img-h").val(Math.round(trueheight[last_file_id]-poptions.cropping_area.y)),timer=setTimeout(function(){cropp.setSelect([poptions.cropping_area.x,poptions.cropping_area.y,poptions.cropping_area.x2,poptions.cropping_area.y+parseInt($("#img-h").val())])},1e3)),"resizeimage"==app&&(1==total_files_selected&&1==mantainratio&&$("#img-w").val(Math.round(truewidth[last_file_id]*$("#img-h").val()/trueheight[last_file_id])),updateAllDimensions())}),$("#img-w").keydown(function(e){onlynumbers(e)}),$("#img-h").keydown(function(e){onlynumbers(e)}),$("#resper").keydown(function(e){onlynumbers(e)}),$(document).on("change","#resper",function(){updateAllDimensions()}),$(document).on("change","#mantainaspect",function(){$("#mantainaspect").is(":checked")?($("#img-w").css("border-color","#333"),$("#img-w").pulsate("destroy"),$("#img-h").css("border-color","#333"),$("#img-h").pulsate("destroy"),mantainratio=!0,$("#extratt").html(messages.resizetomax)):(mantainratio=!1,$("#extratt").html(messages.resizetoexact)),updateAllDimensions()}),$(document).on("change","#noenlarge",function(){noenlarge=$("#noenlarge").is(":checked")?!0:!1,updateAllDimensions()}),$(document).on("click","#tab-gif-animated.btn",function(){return 2>total_files_selected?!1:void 0}),(1==$.cookie("view")||"InternetExplorer"==brwname&&parseInt(brwversion)<9)&&($("#listView").addClass("active"),$("#gridView").removeClass("active")),1==$.cookie("hidecovers")&&"merge"==app&&(covers_hidden=!0,$("#hideCovers").hide(),$("#showCovers").show(),$("#hideCovers").removeClass("active"),$("#showCovers").removeClass("active")),"merge"!=app&&"jpgpdf"!=app,$(window).scroll(function(){$(this).scrollTop()<100?($(".views, .sort, .coverview").css("top","0px"),$(".views label, .sort label, .coverview label").css("position","relative")):($(".views, .sort, .coverview").css("top","-100px"),$(".views label, .sort label, .coverview label").css("position","fixed"))}),$(document).on("click","#addchrome",function(){var apptitle=eval("messages."+app+"app");bootbox.dialog({message:'<br/><a class="btn btn-default" style="line-height: 25px;" onclick="installChromeApp();"><img src="'+protocol+"//"+document.domain+'/images/chrome.png"/> '+$(this).attr("data-original-title")+'</a> - & - <a class="btn btn-default" style="padding: 10px 13px;" target="_blank" href="'+$(this).attr("data-app-link")+'" rel="nofollow"><i class="fa fa-heart"></i> '+messages.rateit+'</a><br/><br/><label><input type="checkbox" id="hideaddchrome" name="hideaddchrome"> '+messages.hidechromeadd+" ("+apptitle+")</label>",title:messages.appaddtochrome.replace("{apptitle}",apptitle),buttons:{main:{className:"black",label:messages.close,callback:function(){$("#hideaddchrome").prop("checked")&&($("#addchrome").fadeOut(),$.cookie("hidechrome"+app,1,{expires:360,path:"/"}))}}}}),App.rebindhandleUniform()})}if(null!=app)var developerKey="AIzaSyAscL1olxYauMLc0sj0LXpCWL2Jmztr8dA",clientId="391438661644-2uum636mg2ckariol0if8h3364a1h6dc.apps.googleusercontent.com",scope=["https://www.googleapis.com/auth/drive"],pickerApiLoaded=!1,oauthToken;if("user"==controller&&"upgrade"==action){var stripe_amount=premium_base_price,parsedlicences=$.parseJSON(licences_prices),stripe_plan="IP1",licences=1,tll=1;"USD"==currency_code&&(stripe_plan+="USD"),$(document).ready(function(){$("#nLicences").tooltip({trigger:"focus",container:"body",placement:"right",html:!0,title:messages.whatdoesitmeanlicence}),$("#nLicences").change(function(){stripe_plan="IP"+(parseInt($(this).val())+1),"USD"==currency_code&&(stripe_plan+="USD");var e=parseFloat(premium_base_price)+parseFloat(parsedlicences[$(this).val()]);console.log(e),$("#totalPrice").html(e.toFixed(2)),$("input:hidden[name=amount]").val(e.toFixed(2)),$("input:hidden[name=a3]").val(e.toFixed(2)),tll=parseFloat($(this).val())+parseFloat(1),licences=tll,stripe_amount=e.toFixed(2),$("input:hidden[name=item_name]").val(messages.premium+" "+tll+" "+messages.licences),$("input:hidden[name=custom]").val(userID+"|"+tll)}),$(".loading-btn").click(function(){var e=$(this);e.button("loading")});var e=StripeCheckout.configure({key:stripePK,image:logo_icon,currency:currency_code,email:userMail,panelLabel:messages.gopremium,allowRememberMe:!1,token:function(e){$("#loadpayment").html('<div id="waiting" class="centcont"><br/><h2>'+messages.validatingcreditcard+'</h2><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div><div class="bounce4"></div><div class="bounce5"></div></div></div>'),$.post(protocol+"//"+document.domain+"/payments/stripe",{token:e,userID:userID,userK:userK,userM:userMail,plan:stripe_plan,licences:licences},function(e){e.length<4?($.cookie("premiumcheck",1,{expires:1,path:"/"}),window.location=paymentoklink):window.location=paymentkolink}).error(function(e){console.log(e)})}});$("#stripe-b").on("click",function(t){console.log(stripe_plan),e.open({name:"iLoveIMG",description:"Premium "+tll+" "+messages.licences+" ("+price_prefix+stripe_amount+price_suffix+" "+messages.permonth+")"}),t.preventDefault()}),$("#paypalSubmit").on("click",function(e){$.cookie("premiumcheck",1,{expires:1,path:"/"}),$("#loadpayment").html('<div id="waiting" class="centcont"><h2>'+messages.redirectingtopaypal+'</h2><div class="spinner"><div class="bounce1"></div><div class="bounce2"></div><div class="bounce3"></div><div class="bounce4"></div><div class="bounce5"></div></div></div>')}),$(window).on("popstate",function(){e.close()})})}if("download"==controller){var timeout;$(document).ready(function(){Date.prototype.addHours=function(e){return this.setHours(this.getHours()+e),this},"undefined"!=typeof diff&&$("#defaultCountdown").countdown({until:diff,onExpiry:function(){window.location.href=window.location.pathname}}),$("#dlink").click(function(){$(this).select()}),"undefined"!=typeof sl&&0!=sl&&(timeout=setTimeout(function(){window.location.href=sl},4e3)),$("#download").click(function(){clearTimeout(timeout)}),$("#gwrap").hover(function(){$("#over img").attr("src","/images/driveh.png")}),$("#gwrap").mouseleave(function(){$("#over img").attr("src","/images/drive.png")}),$("#compressiongraph").length&&$("#compressiongraph").circliful()})}("register"==controller||"user"==controller&&"index"==action)&&$(document).ready(function(){$("input[type=radio][name=iscompany]").change(function(){console.log($(this)),$("#accountType").val($(this).val()),0==$(this).val()?$("#companyFields").is(":visible")&&$("#companyFields").slideToggle():$("#proFields").is(":visible")||$("#companyFields").slideToggle()}),$(document).on("click","#terms",function(){bootbox.dialog({message:messages.terms,title:messages.termsandconditions,buttons:{success:{label:"OK!",className:"red"}}}),App.rebindScrollers()}),$(document).on("click","#privacy",function(){bootbox.dialog({message:messages.privacyframe,title:messages.privacyandlegal,buttons:{success:{label:"OK!",className:"red"}}}),App.rebindScrollers()}),$(".loading-btn").click(function(){var e=$(this);e.button("loading")}),$("input[type=radio][name=type]").change(function(){console.log($(this)),$("#premium_r").val($(this).val())})}),"help"==controller&&$(document).ready(function(){$(document).on("click",".tabbable a",function(){$(this).parent().parent().find("li").removeClass("active"),$(this).parent().addClass("active")}),navigator.sayswho=function(){var e,t=navigator.userAgent,i=t.match(/(opera|chrome|safari|firefox|msie|trident(?=\/))\/?\s*(\d+)/i)||[];return/trident/i.test(i[1])?(e=/\brv[ :]+(\d+)/g.exec(t)||[],"IE "+(e[1]||"")):"Chrome"===i[1]&&(e=t.match(/\bOPR\/(\d+)/),null!=e)?"Opera "+e[1]:(i=i[2]?[i[1],i[2]]:[navigator.appName,navigator.appVersion,"-?"],null!=(e=t.match(/version\/(\d+)/i))&&i.splice(1,1,e[1]),i.join(" "))}(),navigator.sayswho.indexOf("IE 9")>=0||navigator.sayswho.indexOf("IE 8")>=0||navigator.sayswho.indexOf("IE 7")>=0||navigator.sayswho.indexOf("IE 6")>=0||navigator.sayswho.indexOf("IE 5")>=0?($("#requirements #browser").html(navigator.sayswho+'<i class="fa fa-times-circle"></i> '+messages.werecommenddownload+' <a href="https://www.google.com/chrome/browser/desktop/">Google Chrome</a>'),$(".req").removeClass("alert-success").addClass("alert-danger"),$("#reqtext").html(messages.youdontreachminimumrequirements)):$("#requirements #browser").html(navigator.sayswho+'<i class="fa fa-check"></i>'),$("#requirements #javascript").html(messages.enabled+' <i class="fa fa-check"></i>')}),function(e){e.Jcrop=function(t,i){function n(e){return Math.round(e)+"px"}function o(e){return P.baseClass+"-"+e}function s(){return e.fx.step.hasOwnProperty("backgroundColor")}function r(t){var i=e(t).offset();return[i.left,i.top]}function a(e){return[e.pageX-N[0],e.pageY-N[1]]}function l(t){"object"!=typeof t&&(t={}),P=e.extend(P,t),e.each(["onChange","onSelect","onRelease","onDblClick"],function(e,t){"function"!=typeof P[t]&&(P[t]=function(){})})}function c(e,t,i){if(N=r(B),fe.setCursor("move"===e?e:e+"-resize"),"move"===e)return fe.activateHandlers(d(t),g,i);var n=de.getFixed(),o=h(e),s=de.getCorner(h(o));de.setPressed(de.getCorner(o)),de.setCurrent(s),fe.activateHandlers(u(e,n),g,i)}function u(e,t){return cropwait=!1,function(i){if(P.aspectRatio)switch(e){case"e":
i[1]=t.y+1;break;case"w":i[1]=t.y+1;break;case"n":i[0]=t.x+1;break;case"s":i[0]=t.x+1}else switch(e){case"e":i[1]=t.y2;break;case"w":i[1]=t.y2;break;case"n":i[0]=t.x2;break;case"s":i[0]=t.x2}de.setCurrent(i),pe.update()}}function d(e){var t=e;return me.watchKeys(),function(e){de.moveOffset([e[0]-t[0],e[1]-t[1]]),t=e,pe.update()}}function h(e){switch(e){case"n":return"sw";case"s":return"nw";case"e":return"nw";case"w":return"ne";case"ne":return"sw";case"nw":return"se";case"se":return"nw";case"sw":return"ne"}}function p(e){return function(t){return P.disabled?!1:"move"!==e||P.allowMove?(N=r(B),ne=!0,c(e,a(t)),t.stopPropagation(),t.preventDefault(),!1):!1}}function f(e,t,i){var n=e.width(),o=e.height();n>t&&t>0&&(n=t,o=t/e.width()*e.height()),o>i&&i>0&&(o=i,n=i/e.height()*e.width()),te=e.width()/n,ie=e.height()/o,e.width(n).height(o)}function m(e){return{x:e.x*te,y:e.y*ie,x2:e.x2*te,y2:e.y2*ie,w:e.w*te,h:e.h*ie}}function g(e){var t=de.getFixed();t.w>P.minSelect[0]&&t.h>P.minSelect[1]?(pe.enableHandles(),pe.done()):pe.release(),fe.setCursor(P.allowSelect?"crosshair":"default")}function v(e){if(P.disabled)return!1;if(!P.allowSelect)return!1;ne=!0,N=r(B),pe.disableHandles(),fe.setCursor("crosshair");var t=a(e);return de.setPressed(t),pe.update(),fe.activateHandlers(b,g,"touch"===e.type.substring(0,5)),me.watchKeys(),e.stopPropagation(),e.preventDefault(),!1}function b(e){de.setCurrent(e),cropwait=!1,pe.update()}function y(){var t=e("<div></div>").addClass(o("tracker"));return M&&t.css({opacity:0,backgroundColor:"white"}),t}function w(e){X.removeClass().addClass(o("holder")).addClass(e)}function _(e,t){function i(){window.setTimeout(b,d)}var n=e[0]/te,o=e[1]/ie,s=e[2]/te,r=e[3]/ie;if(!oe){var a=de.flipCoords(n,o,s,r),l=de.getFixed(),c=[l.x,l.y,l.x2,l.y2],u=c,d=P.animationDelay,h=a[0]-c[0],p=a[1]-c[1],f=a[2]-c[2],m=a[3]-c[3],g=0,v=P.swingSpeed;n=u[0],o=u[1],s=u[2],r=u[3],pe.animMode(!0);var b=function(){return function(){g+=(100-g)/v,u[0]=Math.round(n+g/100*h),u[1]=Math.round(o+g/100*p),u[2]=Math.round(s+g/100*f),u[3]=Math.round(r+g/100*m),g>=99.8&&(g=100),100>g?(C(u),i()):(pe.done(),pe.animMode(!1),"function"==typeof t&&t.call(ge))}}();i()}}function x(e){C([e[0]/te,e[1]/ie,e[2]/te,e[3]/ie]),console.log(te),P.onSelect.call(ge,m(de.getFixed())),pe.enableHandles()}function C(e){de.setPressed([e[0],e[1]]),de.setCurrent([e[2],e[3]]),pe.update()}function E(){return m(de.getFixed())}function T(){return de.getFixed()}function k(e){l(e),O()}function S(){P.disabled=!0,pe.disableHandles(),pe.setCursor("default"),fe.setCursor("default")}function $(){P.disabled=!1,O()}function D(){pe.done(),fe.activateHandlers(null,null)}function I(){X.remove(),H.show(),H.css("visibility","visible"),e(t).removeData("Jcrop")}function A(e,t){pe.release(),S();var i=new Image;i.onload=function(){var n=i.width,o=i.height,s=P.boxWidth,r=P.boxHeight;B.width(n).height(o),B.attr("src",e),G.attr("src",e),f(B,s,r),W=B.width(),q=B.height(),G.width(W).height(q),ae.width(W+2*re).height(q+2*re),X.width(W).height(q),he.resize(W,q),$(),"function"==typeof t&&t.call(ge)},i.src=e}function R(e,t,i){var n=t||P.bgColor;P.bgFade&&s()&&P.fadeTime&&!i?e.animate({backgroundColor:n},{queue:!1,duration:P.fadeTime}):e.css("backgroundColor",n)}function O(e){P.allowResize?e?pe.enableOnly():pe.enableHandles():pe.disableHandles(),fe.setCursor(P.allowSelect?"crosshair":"default"),pe.setCursor(P.allowMove?"move":"default"),P.hasOwnProperty("trueSize")&&(te=P.trueSize[0]/W,ie=P.trueSize[1]/q),P.hasOwnProperty("setSelect")&&(x(P.setSelect),pe.done(),delete P.setSelect),he.refresh(),P.bgColor!=le&&(R(P.shade?he.getShades():X,P.shade?P.shadeColor||P.bgColor:P.bgColor),le=P.bgColor),ce!=P.bgOpacity&&(ce=P.bgOpacity,P.shade?he.refresh():pe.setBgOpacity(ce)),K=P.maxSize[0]||0,J=P.maxSize[1]||0,Z=P.minSize[0]||0,ee=P.minSize[1]||0,P.hasOwnProperty("outerImage")&&(B.attr("src",P.outerImage),delete P.outerImage),pe.refresh()}var N,P=e.extend({},e.Jcrop.defaults),z=navigator.userAgent.toLowerCase(),M=/msie/.test(z),F=/msie [1-6]\./.test(z);"object"!=typeof t&&(t=e(t)[0]),"object"!=typeof i&&(i={}),l(i);var L={border:"none",visibility:"visible",margin:0,padding:0,position:"absolute",top:0,left:0},H=e(t),j=!0;if("IMG"==t.tagName){if(0!=H[0].width&&0!=H[0].height)H.width(H[0].width),H.height(H[0].height);else{var U=new Image;U.src=H[0].src,H.width(U.width),H.height(U.height)}var B=H.clone().removeAttr("id").css(L).show();B.width(H.width()),B.height(H.height()),H.after(B).hide()}else B=H.css(L).show(),j=!1,null===P.shade&&(P.shade=!0);f(B,P.boxWidth,P.boxHeight);var W=B.width(),q=B.height(),X=e("<div />").width(W).height(q).addClass(o("holder")).css({position:"relative",backgroundColor:P.bgColor}).insertAfter(H).append(B);P.addClass&&X.addClass(P.addClass);var G=e("<div />"),V=e("<div />").width("100%").height("100%").css({zIndex:310,position:"absolute",overflow:"hidden"}),Y=e("<div />").width("100%").height("100%").css("zIndex",320),Q=e("<div />").css({position:"absolute",zIndex:600}).dblclick(function(){var e=de.getFixed();P.onDblClick.call(ge,e)}).insertBefore(B).append(V,Y);j&&(G=e("<img />").attr("src",B.attr("src")).css(L).width(W).height(q),V.append(G)),F&&Q.css({overflowY:"hidden"});var K,J,Z,ee,te,ie,ne,oe,se,re=P.boundary,ae=y().width(W+2*re).height(q+2*re).css({position:"absolute",top:n(-re),left:n(-re),zIndex:290}).mousedown(v),le=P.bgColor,ce=P.bgOpacity;N=r(B);var ue=function(){function e(){var e,t={},i=["touchstart","touchmove","touchend"],n=document.createElement("div");try{for(e=0;e<i.length;e++){var o=i[e];o="on"+o;var s=o in n;s||(n.setAttribute(o,"return;"),s="function"==typeof n[o]),t[i[e]]=s}return t.touchstart&&t.touchend&&t.touchmove}catch(r){return!1}}function t(){return P.touchSupport===!0||P.touchSupport===!1?P.touchSupport:e()}return{createDragger:function(e){return function(t){return P.disabled?!1:"move"!==e||P.allowMove?(N=r(B),ne=!0,c(e,a(ue.cfilter(t)),!0),t.stopPropagation(),t.preventDefault(),!1):!1}},newSelection:function(e){return v(ue.cfilter(e))},cfilter:function(e){return e.pageX=e.originalEvent.changedTouches[0].pageX,e.pageY=e.originalEvent.changedTouches[0].pageY,e},isSupported:e,support:t()}}(),de=function(){function e(e){e=r(e),f=h=e[0],m=p=e[1]}function t(e){e=r(e),u=e[0]-f,d=e[1]-m,f=e[0],m=e[1]}function i(){return[u,d]}function n(e){var t=e[0],i=e[1];0>h+t&&(t-=t+h),0>p+i&&(i-=i+p),m+i>q&&(i+=q-(m+i)),f+t>W&&(t+=W-(f+t)),h+=t,f+=t,p+=i,m+=i}function o(e){var t=s();switch(e){case"ne":return[t.x2,t.y];case"nw":return[t.x,t.y];case"se":return[t.x2,t.y2];case"sw":return[t.x,t.y2]}}function s(){if(!P.aspectRatio)return l();var e,t,i,n,o=P.aspectRatio,s=P.minSize[0]/te,r=P.maxSize[0]/te,u=P.maxSize[1]/ie,d=f-h,g=m-p,v=Math.abs(d),b=Math.abs(g),y=v/b;return 0===r&&(r=10*W),0===u&&(u=10*q),o>y?(t=m,i=b*o,e=0>d?h-i:i+h,0>e?(e=0,n=Math.abs((e-h)/o),t=0>g?p-n:n+p):e>W&&(e=W,n=Math.abs((e-h)/o),t=0>g?p-n:n+p)):(e=f,n=v/o,t=0>g?p-n:p+n,0>t?(t=0,i=Math.abs((t-p)*o),e=0>d?h-i:i+h):t>q&&(t=q,i=Math.abs(t-p)*o,e=0>d?h-i:i+h)),e>h?(s>e-h?e=h+s:e-h>r&&(e=h+r),t=t>p?p+(e-h)/o:p-(e-h)/o):h>e&&(s>h-e?e=h-s:h-e>r&&(e=h-r),t=t>p?p+(h-e)/o:p-(h-e)/o),0>e?(h-=e,e=0):e>W&&(h-=e-W,e=W),0>t?(p-=t,t=0):t>q&&(p-=t-q,t=q),c(a(h,p,e,t))}function r(e){return e[0]<0&&(e[0]=0),e[1]<0&&(e[1]=0),e[0]>W&&(e[0]=W),e[1]>q&&(e[1]=q),[Math.round(e[0]),Math.round(e[1])]}function a(e,t,i,n){var o=e,s=i,r=t,a=n;return e>i&&(o=i,s=e),t>n&&(r=n,a=t),[o,r,s,a]}function l(){var e,t=f-h,i=m-p;return K&&Math.abs(t)>K&&(f=t>0?h+K:h-K),J&&Math.abs(i)>J&&(m=i>0?p+J:p-J),ee/ie&&Math.abs(i)<ee/ie&&(m=i>0?p+ee/ie:p-ee/ie),Z/te&&Math.abs(t)<Z/te&&(f=t>0?h+Z/te:h-Z/te),0>h&&(f-=h,h-=h),0>p&&(m-=p,p-=p),0>f&&(h-=f,f-=f),0>m&&(p-=m,m-=m),f>W&&(e=f-W,h-=e,f-=e),m>q&&(e=m-q,p-=e,m-=e),h>W&&(e=h-q,m-=e,p-=e),p>q&&(e=p-q,m-=e,p-=e),c(a(h,p,f,m))}function c(e){return{x:e[0],y:e[1],x2:e[2],y2:e[3],w:e[2]-e[0],h:e[3]-e[1]}}var u,d,h=0,p=0,f=0,m=0;return{flipCoords:a,setPressed:e,setCurrent:t,getOffset:i,moveOffset:n,getCorner:o,getFixed:s}}(),he=function(){function t(e,t){f.left.css({height:n(t)}),f.right.css({height:n(t)})}function i(){return o(de.getFixed())}function o(e){f.top.css({left:n(e.x),width:n(e.w),height:n(e.y)}),f.bottom.css({top:n(e.y2),left:n(e.x),width:n(e.w),height:n(q-e.y2)}),f.right.css({left:n(e.x2),width:n(W-e.x2)}),f.left.css({width:n(e.x)})}function s(){return e("<div />").css({position:"absolute",backgroundColor:P.shadeColor||P.bgColor}).appendTo(p)}function r(){h||(h=!0,p.insertBefore(B),i(),pe.setBgOpacity(1,0,1),G.hide(),a(P.shadeColor||P.bgColor,1),pe.isAwake()?c(P.bgOpacity,1):c(1,1))}function a(e,t){R(d(),e,t)}function l(){h&&(p.remove(),G.show(),h=!1,pe.isAwake()?pe.setBgOpacity(P.bgOpacity,1,1):(pe.setBgOpacity(1,1,1),pe.disableHandles()),R(X,0,1))}function c(e,t){h&&(P.bgFade&&!t?p.animate({opacity:1-e},{queue:!1,duration:P.fadeTime}):p.css({opacity:1-e}))}function u(){P.shade?r():l(),pe.isAwake()&&c(P.bgOpacity)}function d(){return p.children()}var h=!1,p=e("<div />").css({position:"absolute",zIndex:240,opacity:0}),f={top:s(),left:s().height(q),right:s().height(q),bottom:s()};return{update:i,updateRaw:o,getShades:d,setBgColor:a,enable:r,disable:l,resize:t,refresh:u,opacity:c}}(),pe=function(){function t(t){var i=e("<div />").css({position:"absolute",opacity:P.borderOpacity}).addClass(o(t));return V.append(i),i}function i(t,i){var n=e("<div />").mousedown(p(t)).css({cursor:t+"-resize",position:"absolute",zIndex:i}).addClass("ord-"+t);return ue.support&&n.bind("touchstart.jcrop",ue.createDragger(t)),Y.append(n),n}function s(e){var t=P.handleSize,n=i(e,S++).css({opacity:P.handleOpacity}).addClass(o("handle"));return t&&n.width(t).height(t),n}function r(e){return i(e,S++).addClass("jcrop-dragbar")}function a(e){var t;for(t=0;t<e.length;t++)I[e[t]]=r(e[t])}function l(e){var i,n;for(n=0;n<e.length;n++){switch(e[n]){case"n":i="hline";break;case"s":i="hline bottom";break;case"e":i="vline right";break;case"w":i="vline"}$[e[n]]=t(i)}}function c(e){var t;for(t=0;t<e.length;t++)D[e[t]]=s(e[t])}function u(e,t){P.shade||G.css({top:n(-t),left:n(-e)}),Q.css({top:n(t),left:n(e)})}function d(e,t){Q.width(Math.round(e)).height(Math.round(t))}function h(){var e=de.getFixed();de.setPressed([e.x,e.y]),de.setCurrent([e.x2,e.y2]),f()}function f(e){return k?g(e):void 0}function g(e){var t=de.getFixed();d(t.w,t.h),u(t.x,t.y),P.shade&&he.updateRaw(t),k||b(),e?P.onSelect.call(ge,m(t)):P.onChange.call(ge,m(t))}function v(e,t,i){(k||t)&&(P.bgFade&&!i?B.animate({opacity:e},{queue:!1,duration:P.fadeTime}):B.css("opacity",e))}function b(){Q.show(),P.shade?he.opacity(ce):v(ce,!0),k=!0}function w(){C(),Q.hide(),P.shade?he.opacity(1):v(1),k=!1,P.onRelease.call(ge)}function _(){A&&Y.show()}function x(){return A=!0,P.allowResize?(Y.show(),!0):void 0}function C(){A=!1,Y.hide()}function E(e){e?(oe=!0,C()):(oe=!1,x())}function T(){E(!1),h()}var k,S=370,$={},D={},I={},A=!1;P.dragEdges&&e.isArray(P.createDragbars)&&a(P.createDragbars),e.isArray(P.createHandles)&&c(P.createHandles),P.drawBorders&&e.isArray(P.createBorders)&&l(P.createBorders),e(document).bind("touchstart.jcrop-ios",function(t){e(t.currentTarget).hasClass("jcrop-tracker")&&t.stopPropagation()});var R=y().mousedown(p("move")).css({cursor:"move",position:"absolute",zIndex:360});return ue.support&&R.bind("touchstart.jcrop",ue.createDragger("move")),V.append(R),C(),{updateVisible:f,update:g,release:w,refresh:h,isAwake:function(){return k},setCursor:function(e){R.css("cursor",e)},enableHandles:x,enableOnly:function(){A=!0},showHandles:_,disableHandles:C,animMode:E,setBgOpacity:v,done:T}}(),fe=function(){function t(t){ae.css({zIndex:450}),t?e(document).bind("touchmove.jcrop",r).bind("touchend.jcrop",l):h&&e(document).bind("mousemove.jcrop",n).bind("mouseup.jcrop",o)}function i(){ae.css({zIndex:290}),e(document).unbind(".jcrop")}function n(e){return u(a(e)),!1}function o(e){return e.preventDefault(),e.stopPropagation(),ne&&(ne=!1,d(a(e)),pe.isAwake()&&P.onSelect.call(ge,m(de.getFixed())),i(),u=function(){},d=function(){}),!1}function s(e,i,n){return ne=!0,u=e,d=i,t(n),!1}function r(e){return u(a(ue.cfilter(e))),!1}function l(e){return o(ue.cfilter(e))}function c(e){ae.css("cursor",e)}var u=function(){},d=function(){},h=P.trackDocument;return h||ae.mousemove(n).mouseup(o).mouseout(o),B.before(ae),{activateHandlers:s,setCursor:c}}(),me=function(){function t(){P.keySupport&&(s.show(),s.focus())}function i(e){s.hide()}function n(e,t,i){P.allowMove&&(de.moveOffset([t,i]),pe.updateVisible(!0)),e.preventDefault(),e.stopPropagation()}function o(e){if(e.ctrlKey||e.metaKey)return!0;se=e.shiftKey?!0:!1;var t=se?10:1;switch(e.keyCode){case 37:n(e,-t,0);break;case 39:n(e,t,0);break;case 38:n(e,0,-t);break;case 40:n(e,0,t);break;case 27:P.allowSelect&&pe.release();break;case 9:return!0}return!1}var s=e('<input type="radio" />').css({position:"fixed",left:"-120px",width:"12px"}).addClass("jcrop-keymgr"),r=e("<div />").css({position:"absolute",overflow:"hidden"}).append(s);return P.keySupport&&(s.keydown(o).blur(i),F||!P.fixedSupport?(s.css({position:"absolute",left:"-20px"}),r.append(s).insertBefore(B)):s.insertBefore(B)),{watchKeys:t}}();ue.support&&ae.bind("touchstart.jcrop",ue.newSelection),Y.hide(),O(!0);var ge={setImage:A,animateTo:_,setSelect:x,setOptions:k,tellSelect:E,tellScaled:T,setClass:w,disable:S,enable:$,cancel:D,release:pe.release,destroy:I,focus:me.watchKeys,getBounds:function(){return[W*te,q*ie]},getWidgetSize:function(){return[W,q]},getScaleFactor:function(){return[te,ie]},getOptions:function(){return P},ui:{holder:X,selection:Q}};return M&&X.bind("selectstart",function(){return!1}),H.data("Jcrop",ge),ge},e.fn.Jcrop=function(t,i){var n;return this.each(function(){if(e(this).data("Jcrop")){if("api"===t)return e(this).data("Jcrop");e(this).data("Jcrop").setOptions(t)}else"IMG"==this.tagName?e.Jcrop.Loader(this,function(){e(this).css({display:"block",visibility:"hidden"}),n=e.Jcrop(this,t),e.isFunction(i)&&i.call(n)}):(e(this).css({display:"block",visibility:"hidden"}),n=e.Jcrop(this,t),e.isFunction(i)&&i.call(n))}),this},e.Jcrop.Loader=function(t,i,n){function o(){r.complete?(s.unbind(".jcloader"),e.isFunction(i)&&i.call(r)):window.setTimeout(o,50)}var s=e(t),r=s[0];s.bind("load.jcloader",o).bind("error.jcloader",function(t){s.unbind(".jcloader"),e.isFunction(n)&&n.call(r)}),r.complete&&e.isFunction(i)&&(s.unbind(".jcloader"),i.call(r))},e.Jcrop.defaults={allowSelect:!0,allowMove:!0,allowResize:!0,trackDocument:!0,baseClass:"jcrop",addClass:null,bgColor:"black",bgOpacity:.6,bgFade:!1,borderOpacity:.4,handleOpacity:.5,handleSize:null,aspectRatio:0,keySupport:!0,createHandles:["n","s","e","w","nw","ne","se","sw"],createDragbars:["n","s","e","w"],createBorders:["n","s","e","w"],drawBorders:!0,dragEdges:!0,fixedSupport:!0,touchSupport:null,shade:null,boxWidth:0,boxHeight:0,boundary:2,fadeTime:400,animationDelay:20,swingSpeed:3,minSelect:[0,0],maxSize:[0,0],minSize:[0,0],onChange:function(){},onSelect:function(){},onDblClick:function(){},onRelease:function(){}}}(jQuery);